(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[1],{

/***/ "./ui/App.bs.js":
/*!**********************!*\
  !*** ./ui/App.bs.js ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("// Generated by BUCKLESCRIPT VERSION 5.0.4, PLEASE EDIT WITH CARE\n\n\nvar Css = __webpack_require__(/*! bs-css/src/Css.js */ \"./node_modules/bs-css/src/Css.js\");\nvar Web = __webpack_require__(/*! ./Web.bs.js */ \"./ui/Web.bs.js\");\nvar Lets = __webpack_require__(/*! ./Lets.bs.js */ \"./ui/Lets.bs.js\");\nvar Rust = __webpack_require__(/*! ./Rust.bs.js */ \"./ui/Rust.bs.js\");\nvar Curry = __webpack_require__(/*! bs-platform/lib/js/curry.js */ \"./node_modules/bs-platform/lib/js/curry.js\");\nvar Hooks = __webpack_require__(/*! ./Hooks.bs.js */ \"./ui/Hooks.bs.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nvar Colors = __webpack_require__(/*! ./Colors.bs.js */ \"./ui/Colors.bs.js\");\nvar Styles = __webpack_require__(/*! ./Styles.bs.js */ \"./ui/Styles.bs.js\");\nvar Sidebar = __webpack_require__(/*! ./sidebar/Sidebar.bs.js */ \"./ui/sidebar/Sidebar.bs.js\");\nvar Caml_obj = __webpack_require__(/*! bs-platform/lib/js/caml_obj.js */ \"./node_modules/bs-platform/lib/js/caml_obj.js\");\nvar SceneForm = __webpack_require__(/*! ./SceneForm.bs.js */ \"./ui/SceneForm.bs.js\");\nvar ReactDOMRe = __webpack_require__(/*! reason-react/src/ReactDOMRe.js */ \"./node_modules/reason-react/src/ReactDOMRe.js\");\nvar Caml_option = __webpack_require__(/*! bs-platform/lib/js/caml_option.js */ \"./node_modules/bs-platform/lib/js/caml_option.js\");\nvar ScenePicker = __webpack_require__(/*! ./ScenePicker.bs.js */ \"./ui/ScenePicker.bs.js\");\nvar Localforage = __webpack_require__(/*! localforage */ \"./node_modules/localforage/dist/localforage.js\");\nvar Belt_MapString = __webpack_require__(/*! bs-platform/lib/js/belt_MapString.js */ \"./node_modules/bs-platform/lib/js/belt_MapString.js\");\nvar MiniScenePicker = __webpack_require__(/*! ./MiniScenePicker.bs.js */ \"./ui/MiniScenePicker.bs.js\");\n\n((__webpack_require__(/*! rc-color-picker/assets/index.css */ \"./node_modules/rc-color-picker/assets/index.css\")));\n\nfunction genId(param) {\n  return Math.random().toString(36).slice(2);\n}\n\nfunction genId$1(param) {\n  return genId(/* () */0) + genId(/* () */0);\n}\n\nfunction newScene(scene) {\n  var id = genId$1(/* () */0);\n  var created = Date.now();\n  var fullId = created.toString() + (\":\" + id);\n  return /* record */[\n          /* id */fullId,\n          /* modified */created,\n          /* created */created,\n          /* title */scene[/* title */3],\n          /* tags */scene[/* tags */4],\n          /* children */scene[/* children */5],\n          /* parent */scene[/* parent */6],\n          /* starred */scene[/* starred */7]\n        ];\n}\n\nvar hashIt = (\nfunction(input) {\n    var hash = 0;\n    if (input.length == 0) {\n        return hash;\n    }\n    for (var i = 0; i < input.length; i++) {\n        var char = input.charCodeAt(i);\n        hash = ((hash<<5)-hash)+char;\n        hash = hash & hash; // Convert to 32bit integer\n    }\n    return hash;\n}\n);\n\nfunction anyHash(data) {\n  return Curry._1(hashIt, Lets.Opt[/* force */0](Caml_option.undefined_to_opt(JSON.stringify(data))));\n}\n\nfunction debounced(fn, time) {\n  var timer = /* record */[/* contents */undefined];\n  return (function (arg) {\n      var match = timer[0];\n      if (match !== undefined) {\n        clearTimeout(Caml_option.valFromOption(match));\n      }\n      timer[0] = Caml_option.some(setTimeout((function (param) {\n                  return Curry._1(fn, arg);\n                }), time));\n      return /* () */0;\n    });\n}\n\nfunction loadHash(hash, wasm, onLoad) {\n  if (hash.startsWith(\"#id=\")) {\n    var id = hash.slice(4);\n    return Curry._2(Lets.Async[/* Consume */2][/* let_ */0], Localforage.getItem(id), (function (config) {\n                  if (config == null) {\n                    return /* () */0;\n                  } else {\n                    return Curry._1(onLoad, /* tuple */[\n                                id,\n                                config\n                              ]);\n                  }\n                }));\n  } else if (hash.length > 1) {\n    var config = wasm.parse_url_config(hash.slice(1));\n    if (config == null) {\n      return /* () */0;\n    } else {\n      return Curry._1(onLoad, /* tuple */[\n                  undefined,\n                  config\n                ]);\n    }\n  } else {\n    return Curry._1(onLoad, /* tuple */[\n                undefined,\n                wasm.blank_config()\n              ]);\n  }\n}\n\nfunction updateId(set, id) {\n  var hash = \"id=\" + id;\n  Curry._1(set, hash);\n  return Web.$$Location[/* setHash */1](hash);\n}\n\nfunction permalink(set, hash) {\n  Curry._1(set, hash);\n  return Web.$$Location[/* setHash */1](hash);\n}\n\nfunction useRouter(wasm, onLoad) {\n  var prevHash = React.useRef(undefined);\n  var hash = Hooks.useHash(/* () */0);\n  React.useEffect((function () {\n          if (Caml_obj.caml_notequal(prevHash.current, hash)) {\n            prevHash.current = hash;\n            loadHash(hash, wasm, onLoad);\n          }\n          return undefined;\n        }), /* tuple */[\n        hash,\n        prevHash.current\n      ]);\n  return React.useCallback((function (newHash) {\n                prevHash.current = newHash;\n                return /* () */0;\n              }));\n}\n\nvar Router = /* module */[\n  /* loadHash */loadHash,\n  /* updateId */updateId,\n  /* permalink */permalink,\n  /* useRouter */useRouter\n];\n\nvar downloadZip = (\n(function(title, canvas, config) {\n  var JSZip = __webpack_require__(/*! jszip */ \"./node_modules/jszip/lib/index.js\");\n  var FileSaver = __webpack_require__(/*! file-saver */ \"./node_modules/file-saver/dist/FileSaver.min.js\");\n  var zip = new JSZip();\n\n  // var img = zip.folder(\"images\");\n  // img.file(\"smile.gif\", imgData, {base64: true});\n\n  canvas.toBlob(blob => {\n    zip.file(\"image.png\", blob);\n    zip.file(\"config.json\", JSON.stringify(config))\n    zip.generateAsync({type:\"blob\"}).then(function(content) {\n      FileSaver.saveAs(content, title + \".zip\");\n    });\n  }, 'image/png')\n})\n);\n\nvar downloadCanvas = (\n(function(title, canvas) {\n  var a = document.createElement('a');\n  a.download = title + \".png\";\n  a.href = canvas.toDataURL('image/png')\n  document.body.appendChild(a);\n  a.click();\n  document.body.removeChild(a);\n})\n);\n\nvar downloadFile = (\n(function(title, data) {\n  var a = document.createElement('a');\n  a.download = title + \".json\";\n  a.href = 'data:application/json,' + data;\n  document.body.appendChild(a);\n  a.click();\n  document.body.removeChild(a);\n})\n);\n\nCss.$$global(\"body\", /* :: */[\n      Css.backgroundColor(Colors.background),\n      /* :: */[\n        Css.color(Colors.text),\n        /* :: */[\n          Css.fontSize(Css.px(Styles.$$Text[/* normal */1])),\n          /* :: */[\n            Css.margin(Css.px(0)),\n            /* [] */0\n          ]\n        ]\n      ]\n    ]);\n\nCss.$$global(\"input\", /* :: */[\n      Css.backgroundColor(Colors.control),\n      /* :: */[\n        Css.color(Colors.text),\n        /* :: */[\n          Css.fontSize(Css.px(Styles.$$Text[/* small */0])),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nCss.$$global(\"button\", /* :: */[\n      Css.cursor(/* pointer */-786317123),\n      /* :: */[\n        Css.fontSize(Css.px(Styles.$$Text[/* small */0])),\n        /* :: */[\n          Css.color(Colors.text),\n          /* :: */[\n            Css.padding2(Css.px(4), Css.px(8)),\n            /* :: */[\n              Css.borderStyle(/* none */-922086728),\n              /* :: */[\n                Css.backgroundColor(Colors.button),\n                /* :: */[\n                  Css.borderRadius(Css.px(4)),\n                  /* :: */[\n                    Css.hover(/* :: */[\n                          Css.backgroundColor(Colors.buttonHover),\n                          /* [] */0\n                        ]),\n                    /* :: */[\n                      Css.disabled(/* :: */[\n                            Css.backgroundColor(/* transparent */582626130),\n                            /* :: */[\n                              Css.cursor(/* default */465819841),\n                              /* [] */0\n                            ]\n                          ]),\n                      /* [] */0\n                    ]\n                  ]\n                ]\n              ]\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nfunction App$Inner(Props) {\n  var wasm = Props.wasm;\n  var directory = Props.directory;\n  var blank = Props.blank;\n  var router = /* record */[/* contents */(function (_ignored) {\n        return /* () */0;\n      })];\n  var match = React.useReducer((function (state, action) {\n          if (typeof action === \"number\") {\n            return /* record */[\n                    /* directory */state[/* directory */0],\n                    /* hoverUrl */undefined,\n                    /* current */state[/* current */2],\n                    /* config */state[/* config */3],\n                    /* ui */state[/* ui */4]\n                  ];\n          } else {\n            var variant = action[0];\n            if (variant >= 522031301) {\n              if (variant >= 999946793) {\n                if (variant >= 1049777564) {\n                  return /* record */[\n                          /* directory */state[/* directory */0],\n                          /* hoverUrl */action[1],\n                          /* current */state[/* current */2],\n                          /* config */state[/* config */3],\n                          /* ui */state[/* ui */4]\n                        ];\n                } else {\n                  var match = action[1];\n                  return /* record */[\n                          /* directory */state[/* directory */0],\n                          /* hoverUrl */state[/* hoverUrl */1],\n                          /* current */state[/* current */2],\n                          /* config */match[0],\n                          /* ui */match[1]\n                        ];\n                }\n              } else if (variant >= 925284189) {\n                var scene = action[1];\n                updateId(router[0], scene[/* id */0]);\n                var init = state[/* directory */0];\n                return /* record */[\n                        /* directory : record */[\n                          /* scenes */Belt_MapString.set(state[/* directory */0][/* scenes */0], scene[/* id */0], scene),\n                          /* tags */init[/* tags */1]\n                        ],\n                        /* hoverUrl */state[/* hoverUrl */1],\n                        /* current */scene[/* id */0],\n                        /* config */state[/* config */3],\n                        /* ui */state[/* ui */4]\n                      ];\n              } else {\n                var scene$1 = action[1];\n                var init$1 = state[/* directory */0];\n                return /* record */[\n                        /* directory : record */[\n                          /* scenes */Belt_MapString.set(state[/* directory */0][/* scenes */0], scene$1[/* id */0], scene$1),\n                          /* tags */init$1[/* tags */1]\n                        ],\n                        /* hoverUrl */state[/* hoverUrl */1],\n                        /* current */state[/* current */2],\n                        /* config */state[/* config */3],\n                        /* ui */state[/* ui */4]\n                      ];\n              }\n            } else if (variant !== 9661801) {\n              if (variant >= 516394780) {\n                var id = action[1];\n                updateId(router[0], id);\n                return /* record */[\n                        /* directory */state[/* directory */0],\n                        /* hoverUrl */state[/* hoverUrl */1],\n                        /* current */id,\n                        /* config */state[/* config */3],\n                        /* ui */state[/* ui */4]\n                      ];\n              } else {\n                var init$2 = state[/* directory */0];\n                return /* record */[\n                        /* directory : record */[\n                          /* scenes */init$2[/* scenes */0],\n                          /* tags */action[1]\n                        ],\n                        /* hoverUrl */state[/* hoverUrl */1],\n                        /* current */state[/* current */2],\n                        /* config */state[/* config */3],\n                        /* ui */state[/* ui */4]\n                      ];\n              }\n            } else {\n              var match$1 = action[1];\n              return /* record */[\n                      /* directory */state[/* directory */0],\n                      /* hoverUrl */state[/* hoverUrl */1],\n                      /* current */match$1[0],\n                      /* config */match$1[1],\n                      /* ui */state[/* ui */4]\n                    ];\n            }\n          }\n        }), /* record */[\n        /* directory */directory,\n        /* hoverUrl */undefined,\n        /* current */undefined,\n        /* config */blank,\n        /* ui */Rust.blankUi\n      ]);\n  var dispatch = match[1];\n  var state = match[0];\n  React.useEffect((function () {\n          var update = debounced((function (param) {\n                  return Curry._1(dispatch, /* `Update */[\n                              999946793,\n                              /* tuple */[\n                                param[0],\n                                param[1]\n                              ]\n                            ]);\n                }), 200);\n          wasm.setup(state[/* config */3], (function (config, ui) {\n                  return Curry._1(update, /* tuple */[\n                              config,\n                              ui\n                            ]);\n                }));\n          return undefined;\n        }), ([]));\n  router[0] = useRouter(wasm, (function (param) {\n          var config = wasm.restore(param[1]);\n          console.log(\"Loading config\", config);\n          return Curry._1(dispatch, /* `Route */[\n                      9661801,\n                      /* tuple */[\n                        param[0],\n                        config\n                      ]\n                    ]);\n        }));\n  Hooks.useOnChange(undefined, state[/* directory */0], (function (directory) {\n          console.log(\"Directory changed -- saving\");\n          return Curry._2(Lets.Async[/* Consume */2][/* let_ */0], ScenePicker.saveSceneInfo(directory), (function (param) {\n                        return /* () */0;\n                      }));\n        }));\n  var onSaveScene = React.useCallback((function (scene) {\n          var match = scene[/* id */0] === \"\";\n          var scene$1 = match ? newScene(scene) : /* record */[\n              /* id */scene[/* id */0],\n              /* modified */Date.now(),\n              /* created */scene[/* created */2],\n              /* title */scene[/* title */3],\n              /* tags */scene[/* tags */4],\n              /* children */scene[/* children */5],\n              /* parent */scene[/* parent */6],\n              /* starred */scene[/* starred */7]\n            ];\n          var canvas = document.getElementById(\"drawing\");\n          canvas.toBlob((function (blob) {\n                  return Curry._2(Lets.Async[/* Consume */2][/* let_ */0], Localforage.setItem(scene$1[/* id */0] + \":image\", blob), (function (param) {\n                                return Curry._2(Lets.Async[/* Consume */2][/* let_ */0], Localforage.setItem(scene$1[/* id */0], state[/* config */3]), (function (param) {\n                                              Curry._1(dispatch, /* `Save */[\n                                                    925284189,\n                                                    scene$1\n                                                  ]);\n                                              return /* () */0;\n                                            }));\n                              }));\n                }));\n          return /* () */0;\n        }), /* array */[state[/* config */3]]);\n  var update = function (config, checkpoint) {\n    wasm.update(config, checkpoint);\n    return Curry._1(dispatch, /* `Update */[\n                999946793,\n                /* tuple */[\n                  config,\n                  state[/* ui */4]\n                ]\n              ]);\n  };\n  var match$1 = state[/* hoverUrl */1];\n  var match$2 = state[/* current */2];\n  var currentScene = match$2 !== undefined ? Belt_MapString.get(state[/* directory */0][/* scenes */0], match$2) : undefined;\n  var tmp = {\n    directory: state[/* directory */0],\n    onUpdateTags: (function (tags) {\n        return Curry._1(dispatch, /* `UpdateTags */[\n                    -61037662,\n                    tags\n                  ]);\n      }),\n    ui: state[/* ui */4],\n    onSave: Curry.__1(onSaveScene),\n    onPermalink: (function (param) {\n        return permalink(router[0], wasm.serialize_url_config(state[/* config */3]));\n      }),\n    onDownload: (function (param) {\n        var title;\n        if (currentScene !== undefined) {\n          var match = currentScene;\n          var match$1 = match[/* title */3];\n          title = match$1 !== undefined ? match$1 : new Date(match[/* created */2]).toISOString();\n        } else {\n          title = new Date().toISOString();\n        }\n        return Curry._2(downloadCanvas, title, document.getElementById(\"drawing\"));\n      }),\n    onDownloadZip: (function (param) {\n        var title;\n        if (currentScene !== undefined) {\n          var match = currentScene;\n          var match$1 = match[/* title */3];\n          title = match$1 !== undefined ? match$1 : new Date(match[/* created */2]).toISOString();\n        } else {\n          title = new Date().toISOString();\n        }\n        return Curry._3(downloadZip, title, document.getElementById(\"drawing\"), state[/* config */3]);\n      }),\n    wasm: wasm,\n    key: currentScene !== undefined ? currentScene[/* id */0] : \"new-scene\"\n  };\n  if (currentScene !== undefined) {\n    tmp.scene = Caml_option.valFromOption(currentScene);\n  }\n  return React.createElement(\"div\", {\n              className: Css.style(/* :: */[\n                    Css.display(/* flex */-1010954439),\n                    /* :: */[\n                      Css.flexDirection(/* row */5693978),\n                      /* :: */[\n                        Css.alignItems(/* stretch */-162316795),\n                        /* :: */[\n                          Css.maxWidth(Css.px(1300)),\n                          /* :: */[\n                            Css.margin2(/* zero */-789508312, /* auto */-1065951377),\n                            /* :: */[\n                              Css.height(/* `vh */[\n                                    26418,\n                                    100.0\n                                  ]),\n                              /* [] */0\n                            ]\n                          ]\n                        ]\n                      ]\n                    ]\n                  ])\n            }, React.createElement(\"div\", {\n                  className: Css.style(/* :: */[\n                        Css.position(/* relative */903134412),\n                        /* :: */[\n                          Css.display(/* flex */-1010954439),\n                          /* :: */[\n                            Css.flexDirection(/* column */-963948842),\n                            /* :: */[\n                              Css.alignItems(/* stretch */-162316795),\n                              /* [] */0\n                            ]\n                          ]\n                        ]\n                      ])\n                }, React.createElement(\"div\", {\n                      className: Css.style(/* :: */[\n                            Css.flexShrink(0),\n                            /* :: */[\n                              Css.position(/* relative */903134412),\n                              /* [] */0\n                            ]\n                          ])\n                    }, React.createElement(\"canvas\", {\n                          className: Css.style(/* [] */0),\n                          id: \"drawing\",\n                          height: \"600\",\n                          width: \"600\"\n                        }), match$1 !== undefined ? React.createElement(\"img\", {\n                            className: Css.style(/* :: */[\n                                  Css.backgroundColor(Css.black),\n                                  /* :: */[\n                                    Css.position(/* absolute */-1013592457),\n                                    /* :: */[\n                                      Css.top(Css.px(0)),\n                                      /* :: */[\n                                        Css.pointerEvents(/* none */-922086728),\n                                        /* :: */[\n                                          Css.left(Css.px(0)),\n                                          /* [] */0\n                                        ]\n                                      ]\n                                    ]\n                                  ]\n                                ]),\n                            src: match$1\n                          }) : null), React.createElement(\"div\", {\n                      className: Css.style(/* :: */[\n                            Css.color(Css.white),\n                            /* :: */[\n                              Css.fontSize(Css.px(Styles.$$Text[/* small */0])),\n                              /* [] */0\n                            ]\n                          ])\n                    }, \"Rays: \", React.createElement(\"span\", {\n                          id: \"total_rays\"\n                        }), \" Rays/second: \", React.createElement(\"span\", {\n                          id: \"fps\"\n                        })), React.createElement(MiniScenePicker.make, {\n                      directory: state[/* directory */0],\n                      current: state[/* current */2],\n                      onSelect: React.useCallback((function (id) {\n                              return (function (config) {\n                                  console.log(\"Resetting\", anyHash(config), config);\n                                  wasm.restore(config);\n                                  updateId(router[0], id);\n                                  return Curry._1(dispatch, /* `Select */[\n                                              516394780,\n                                              id\n                                            ]);\n                                });\n                            }), /* tuple */[\n                            router[0],\n                            dispatch\n                          ]),\n                      onExample: React.useCallback((function (config) {\n                              wasm.restore(config);\n                              return /* () */0;\n                            }), /* array */[wasm]),\n                      hover: React.useCallback((function (url) {\n                              return Curry._1(dispatch, /* `Hover */[\n                                          1049777564,\n                                          url\n                                        ]);\n                            })),\n                      unHover: React.useCallback((function (param) {\n                              return Curry._1(dispatch, /* Unhover */-179895133);\n                            })),\n                      onChangeScene: React.useCallback((function (scene) {\n                              return Curry._1(dispatch, /* `SaveInPlace */[\n                                          522031301,\n                                          scene\n                                        ]);\n                            })),\n                      onUpdateTags: React.useCallback((function (tags) {\n                              return Curry._1(dispatch, /* `UpdateTags */[\n                                          -61037662,\n                                          tags\n                                        ]);\n                            })),\n                      onSaveScene: onSaveScene,\n                      onClearScene: React.useCallback((function (param) {\n                              wasm.restore(wasm.blank_config());\n                              return /* () */0;\n                            }), /* array */[wasm])\n                    })), React.createElement(\"div\", {\n                  className: Css.style(/* :: */[\n                        Css.margin2(Css.px(8), Css.px(8)),\n                        /* :: */[\n                          Css.flex(1),\n                          /* :: */[\n                            Css.display(/* flex */-1010954439),\n                            /* :: */[\n                              Css.flexDirection(/* column */-963948842),\n                              /* :: */[\n                                Css.minHeight(Css.px(200)),\n                                /* [] */0\n                              ]\n                            ]\n                          ]\n                        ]\n                      ])\n                }, React.createElement(SceneForm.make, tmp), Styles.spacer(8), React.createElement(Sidebar.make, {\n                      update: update,\n                      updateUi: (function (ui) {\n                          wasm.update_ui(ui);\n                          return Curry._1(dispatch, /* `Update */[\n                                      999946793,\n                                      /* tuple */[\n                                        state[/* config */3],\n                                        ui\n                                      ]\n                                    ]);\n                        }),\n                      config: state[/* config */3],\n                      ui: state[/* ui */4],\n                      wasm: wasm\n                    })));\n}\n\nvar Inner = /* module */[/* make */App$Inner];\n\nfunction App$App(Props) {\n  var wasm = Props.wasm;\n  var keys = Hooks.useLoading(ScenePicker.getSceneInfo);\n  if (keys !== undefined) {\n    return React.createElement(App$Inner, {\n                wasm: wasm,\n                directory: keys,\n                blank: wasm.blank_config()\n              });\n  } else {\n    return React.createElement(\"div\", undefined, \"Loading\");\n  }\n}\n\nvar App = /* module */[/* make */App$App];\n\nfunction App$CanvasTest(Props) {\n  var wasm = Props.wasm;\n  var r = React.useRef(null);\n  React.useEffect((function () {\n          var match = r.current;\n          if (!(match == null)) {\n            wasm.test_run(match);\n          }\n          return undefined;\n        }), /* array */[r]);\n  return React.createElement(\"canvas\", {\n              ref: r,\n              height: \"500\",\n              width: \"500\"\n            });\n}\n\nvar CanvasTest = /* module */[/* make */App$CanvasTest];\n\nRust.withModule((function (wasm) {\n        return ReactDOMRe.renderToElementWithId(React.createElement(App$App, {\n                        wasm: wasm\n                      }), \"reason-root\");\n      }));\n\nexports.genId = genId$1;\nexports.newScene = newScene;\nexports.hashIt = hashIt;\nexports.anyHash = anyHash;\nexports.debounced = debounced;\nexports.Router = Router;\nexports.downloadZip = downloadZip;\nexports.downloadCanvas = downloadCanvas;\nexports.downloadFile = downloadFile;\nexports.Inner = Inner;\nexports.App = App;\nexports.CanvasTest = CanvasTest;\n/*  Not a pure module */\n\n\n//# sourceURL=webpack:///./ui/App.bs.js?");

/***/ }),

/***/ "./ui/Colors.bs.js":
/*!*************************!*\
  !*** ./ui/Colors.bs.js ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("// Generated by BUCKLESCRIPT VERSION 5.0.4, PLEASE EDIT WITH CARE\n\n\nvar Css = __webpack_require__(/*! bs-css/src/Css.js */ \"./node_modules/bs-css/src/Css.js\");\n\nvar text = Css.hex(\"125\");\n\nCss.hex(\"ccc\");\n\nvar control = Css.hex(\"f2f6ff\");\n\nvar accent = Css.hex(\"00adff\");\n\nvar button = Css.hex(\"d0eaf7\");\n\nvar buttonHover = Css.hex(\"a6d8f1\");\n\nvar background = Css.black;\n\nexports.background = background;\nexports.text = text;\nexports.control = control;\nexports.accent = accent;\nexports.button = button;\nexports.buttonHover = buttonHover;\n/* text Not a pure module */\n\n\n//# sourceURL=webpack:///./ui/Colors.bs.js?");

/***/ }),

/***/ "./ui/Examples.bs.js":
/*!***************************!*\
  !*** ./ui/Examples.bs.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("// Generated by BUCKLESCRIPT VERSION 5.0.4, PLEASE EDIT WITH CARE\n\n\n\nvar ids = \"2019-06-14T15_59_04.998Z\\n2019-06-16T04_52_58.810Z\\n2019-06-16T05_02_00.745Z\\n2019-06-16T05_03_31.604Z\\n2019-06-16T05_34_02.715Z\\n2019-06-16T21_20_27.478Z\\n2019-06-17T12_41_28.524Z\\n2019-07-01T03_21_50.652Z\\n2019-07-05T23_23_57.575Z\\n2019-07-05T23_38_58.763Z\\n2019-07-06T05_43_16.998Z\\n2019-07-06T23_33_13.698Z\\n2019-07-09T06_26_06.590Z\\n2019-07-09T07_20_23.730Z\\nMW4\\nRosetta\".split(\"\\n\");\n\nfunction image(id) {\n  return \"./examples/\" + (id + \"/image.png\");\n}\n\nfunction config(id) {\n  return \"./examples/\" + (id + \"/config.json\");\n}\n\nexports.ids = ids;\nexports.image = image;\nexports.config = config;\n/* ids Not a pure module */\n\n\n//# sourceURL=webpack:///./ui/Examples.bs.js?");

/***/ }),

/***/ "./ui/ExposureControl.bs.js":
/*!**********************************!*\
  !*** ./ui/ExposureControl.bs.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("// Generated by BUCKLESCRIPT VERSION 5.0.4, PLEASE EDIT WITH CARE\n\n\nvar Css = __webpack_require__(/*! bs-css/src/Css.js */ \"./node_modules/bs-css/src/Css.js\");\nvar Lets = __webpack_require__(/*! ./Lets.bs.js */ \"./ui/Lets.bs.js\");\nvar Curry = __webpack_require__(/*! bs-platform/lib/js/curry.js */ \"./node_modules/bs-platform/lib/js/curry.js\");\nvar Hooks = __webpack_require__(/*! ./Hooks.bs.js */ \"./ui/Hooks.bs.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nvar Caml_option = __webpack_require__(/*! bs-platform/lib/js/caml_option.js */ \"./node_modules/bs-platform/lib/js/caml_option.js\");\n\nfunction colorToRgb(color) {\n  var r = color.substr(1, 2);\n  var g = color.substr(3, 2);\n  var b = color.substr(5, 2);\n  return /* tuple */[\n          parseInt(r, 16),\n          parseInt(g, 16),\n          parseInt(b, 16)\n        ];\n}\n\nfunction toHex(n) {\n  var match = n < 16;\n  return (\n          match ? \"0\" : \"\"\n        ) + n.toString(16);\n}\n\nfunction rgbToColor(param) {\n  return \"#\" + (toHex(param[0] | 0) + (toHex(param[1] | 0) + toHex(param[2] | 0)));\n}\n\nvar Colorpickr = /* module */[];\n\nfunction evtPos(evt) {\n  return /* tuple */[\n          evt.clientX,\n          evt.clientY\n        ];\n}\n\nfunction useDraggable(onMove) {\n  var match = Hooks.useState(undefined);\n  var setPressed = match[1];\n  var pressed = match[0];\n  var moveRef = React.useRef(onMove);\n  moveRef.current = onMove;\n  React.useEffect((function (param) {\n          if (pressed !== undefined) {\n            var onMove = moveRef.current;\n            var mousemove = function (evt) {\n              evt.preventDefault();\n              return Curry._1(onMove, evtPos(evt));\n            };\n            var mouseup = function (evt) {\n              evt.preventDefault();\n              console.log(\"Mouseup, remove\");\n              return Curry._1(setPressed, undefined);\n            };\n            window.addEventListener(\"mousemove\", mousemove, true);\n            window.addEventListener(\"mouseup\", mouseup, true);\n            return (function (param) {\n                      console.log(\"releasing\");\n                      window.removeEventListener(\"mousemove\", mousemove, true);\n                      window.removeEventListener(\"mouseup\", mouseup, true);\n                      return /* () */0;\n                    });\n          }\n          \n        }), /* tuple */[\n        pressed,\n        /* () */0,\n        /* () */0\n      ]);\n  return /* tuple */[\n          pressed,\n          (function (evt) {\n              evt.preventDefault();\n              var pos = evtPos(evt);\n              return Curry._1(setPressed, pos);\n            })\n        ];\n}\n\nvar handleStyle = Css.style(/* :: */[\n      Css.width(Css.px(10)),\n      /* :: */[\n        Css.height(Css.px(10)),\n        /* :: */[\n          Css.boxSizing(/* borderBox */9307263),\n          /* :: */[\n            Css.marginLeft(Css.px(-5)),\n            /* :: */[\n              Css.borderRadius(/* `percent */[\n                    -119887163,\n                    20.0\n                  ]),\n              /* :: */[\n                Css.cursor(/* grab */-999567412),\n                /* :: */[\n                  Css.backgroundColor(Css.hex(\"fff\")),\n                  /* :: */[\n                    Css.border(Css.px(1), /* solid */12956715, Css.hex(\"000\")),\n                    /* [] */0\n                  ]\n                ]\n              ]\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nvar handleWrapperStyle = Css.style(/* :: */[\n      Css.position(/* absolute */-1013592457),\n      /* :: */[\n        Css.bottom(Css.px(0)),\n        /* [] */0\n      ]\n    ]);\n\nfunction ExposureControl(Props) {\n  var config = Props.config;\n  var match = Props.limits;\n  var max_v = match[1];\n  var min_v = match[0];\n  var update = Props.update;\n  Props.wasm;\n  var width = Props.width;\n  var containerRef = React.useRef(null);\n  var match$1 = useDraggable((function (param) {\n          var y = param[1];\n          var x = param[0];\n          return Curry._2(Lets.Opt[/* Consume */1][/* let_ */0], Caml_option.nullable_to_opt(containerRef.current), (function (container) {\n                        var box = container.getBoundingClientRect();\n                        var x$1 = x - box.left;\n                        y - box.top;\n                        var xPercent = x$1 / box.width;\n                        var transform = function (item, arg) {\n                          return Object.assign(Object.assign({ }, item), {\n                                      rendering: Object.assign(Object.assign({ }, item.rendering), {\n                                            exposure: Object.assign(Object.assign({ }, item.rendering.exposure), {\n                                                  limits: arg\n                                                })\n                                          })\n                                    });\n                        };\n                        var config$1 = transform(config, /* tuple */[\n                              xPercent,\n                              max_v\n                            ]);\n                        return Curry._2(update, config$1, false);\n                      }));\n        }));\n  var match$2 = useDraggable((function (param) {\n          var y = param[1];\n          var x = param[0];\n          return Curry._2(Lets.Opt[/* Consume */1][/* let_ */0], Caml_option.nullable_to_opt(containerRef.current), (function (container) {\n                        var box = container.getBoundingClientRect();\n                        var x$1 = x - box.left;\n                        y - box.top;\n                        var xPercent = x$1 / box.width;\n                        var transform = function (item, arg) {\n                          return Object.assign(Object.assign({ }, item), {\n                                      rendering: Object.assign(Object.assign({ }, item.rendering), {\n                                            exposure: Object.assign(Object.assign({ }, item.rendering.exposure), {\n                                                  limits: arg\n                                                })\n                                          })\n                                    });\n                        };\n                        var config$1 = transform(config, /* tuple */[\n                              min_v,\n                              xPercent\n                            ]);\n                        return Curry._2(update, config$1, false);\n                      }));\n        }));\n  return React.createElement(\"div\", {\n              ref: containerRef,\n              className: Css.style(/* :: */[\n                    Css.position(/* absolute */-1013592457),\n                    /* :: */[\n                      Css.bottom(Css.px(0)),\n                      /* :: */[\n                        Css.left(Css.px(0)),\n                        /* [] */0\n                      ]\n                    ]\n                  ]),\n              style: {\n                height: \"40px\",\n                width: width.toString() + \"px\"\n              }\n            }, React.createElement(\"div\", {\n                  className: handleWrapperStyle,\n                  style: {\n                    left: (width * (\n                          0.0 > min_v ? 0.0 : min_v\n                        )).toString() + \"px\"\n                  }\n                }, React.createElement(\"div\", {\n                      className: handleStyle,\n                      onMouseDown: match$1[1]\n                    })), React.createElement(\"div\", {\n                  className: handleWrapperStyle,\n                  style: {\n                    left: (width * (\n                          1.0 < max_v ? 1.0 : max_v\n                        )).toString() + \"px\"\n                  }\n                }, React.createElement(\"div\", {\n                      className: handleStyle,\n                      onMouseDown: match$2[1]\n                    })));\n}\n\nvar make = ExposureControl;\n\nexports.colorToRgb = colorToRgb;\nexports.toHex = toHex;\nexports.rgbToColor = rgbToColor;\nexports.Colorpickr = Colorpickr;\nexports.evtPos = evtPos;\nexports.useDraggable = useDraggable;\nexports.handleStyle = handleStyle;\nexports.handleWrapperStyle = handleWrapperStyle;\nexports.make = make;\n/* handleStyle Not a pure module */\n\n\n//# sourceURL=webpack:///./ui/ExposureControl.bs.js?");

/***/ }),

/***/ "./ui/ExposureFunction.bs.js":
/*!***********************************!*\
  !*** ./ui/ExposureFunction.bs.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("// Generated by BUCKLESCRIPT VERSION 5.0.4, PLEASE EDIT WITH CARE\n\n\nvar Ui = __webpack_require__(/*! ./Ui.bs.js */ \"./ui/Ui.bs.js\");\nvar Css = __webpack_require__(/*! bs-css/src/Css.js */ \"./node_modules/bs-css/src/Css.js\");\nvar Curry = __webpack_require__(/*! bs-platform/lib/js/curry.js */ \"./node_modules/bs-platform/lib/js/curry.js\");\nvar Hooks = __webpack_require__(/*! ./Hooks.bs.js */ \"./ui/Hooks.bs.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nvar Colors = __webpack_require__(/*! ./Colors.bs.js */ \"./ui/Colors.bs.js\");\nvar Styles = __webpack_require__(/*! ./Styles.bs.js */ \"./ui/Styles.bs.js\");\nvar Caml_option = __webpack_require__(/*! bs-platform/lib/js/caml_option.js */ \"./node_modules/bs-platform/lib/js/caml_option.js\");\nvar ExposureControl = __webpack_require__(/*! ./ExposureControl.bs.js */ \"./ui/ExposureControl.bs.js\");\nvar RcColorPicker = __webpack_require__(/*! rc-color-picker */ \"./node_modules/rc-color-picker/lib/index.js\");\nvar MdArrowDropdown = __webpack_require__(/*! react-ionicons/lib/MdArrowDropdown */ \"./node_modules/react-ionicons/lib/MdArrowDropdown.js\");\nvar MdArrowDropright = __webpack_require__(/*! react-ionicons/lib/MdArrowDropright */ \"./node_modules/react-ionicons/lib/MdArrowDropright.js\");\n\nvar btn = Css.style(/* :: */[\n      Css.disabled(/* :: */[\n            Css.backgroundColor(Colors.accent),\n            /* [] */0\n          ]),\n      /* [] */0\n    ]);\n\nfunction ExposureFunction(Props) {\n  var config = Props.config;\n  var update = Props.update;\n  var wasm = Props.wasm;\n  var match = Hooks.useState(false);\n  var setOpen = match[1];\n  var isOpen = match[0];\n  var canvasRef = React.useRef(null);\n  React.useEffect((function () {\n          if (isOpen) {\n            var match = canvasRef.current;\n            if (!(match == null)) {\n              console.log(\"Sending canvas\", match);\n              wasm.show_hist(match);\n            }\n            \n          } else {\n            wasm.hide_hist();\n          }\n          return undefined;\n        }), /* tuple */[\n        isOpen,\n        canvasRef.current\n      ]);\n  var match$1 = config.rendering.exposure.limits;\n  var tmp;\n  if (match$1 !== null) {\n    var max = match$1[1];\n    var min = match$1[0];\n    tmp = React.createElement(\"div\", {\n          className: Styles.column\n        }, Styles.spacer(8), React.createElement(\"div\", {\n              className: Css.style(/* :: */[\n                    Css.position(/* relative */903134412),\n                    /* :: */[\n                      Css.paddingBottom(Css.px(12)),\n                      /* :: */[\n                        Css.marginBottom(Css.px(8)),\n                        /* [] */0\n                      ]\n                    ]\n                  ])\n            }, React.createElement(\"canvas\", {\n                  ref: canvasRef,\n                  height: \"100px\",\n                  width: \"200px\"\n                }), React.createElement(ExposureControl.make, {\n                  config: config,\n                  limits: /* tuple */[\n                    min,\n                    max\n                  ],\n                  update: update,\n                  wasm: wasm,\n                  width: 200\n                })), Styles.spacer(8), React.createElement(\"div\", {\n              className: Styles.row\n            }, React.createElement(Ui.NumInput[/* make */0], {\n                  width: 70,\n                  value: min,\n                  onChange: (function (v) {\n                      var transform = function (item, arg) {\n                        return Object.assign(Object.assign({ }, item), {\n                                    rendering: Object.assign(Object.assign({ }, item.rendering), {\n                                          exposure: Object.assign(Object.assign({ }, item.rendering.exposure), {\n                                                limits: arg\n                                              })\n                                        })\n                                  });\n                      };\n                      var config$1 = transform(config, /* tuple */[\n                            v,\n                            max\n                          ]);\n                      return Curry._2(update, config$1, false);\n                    })\n                }), Styles.spacer(4), React.createElement(Ui.NumInput[/* make */0], {\n                  width: 70,\n                  value: max,\n                  onChange: (function (v) {\n                      var transform = function (item, arg) {\n                        return Object.assign(Object.assign({ }, item), {\n                                    rendering: Object.assign(Object.assign({ }, item.rendering), {\n                                          exposure: Object.assign(Object.assign({ }, item.rendering.exposure), {\n                                                limits: arg\n                                              })\n                                        })\n                                  });\n                      };\n                      var config$1 = transform(config, /* tuple */[\n                            min,\n                            v\n                          ]);\n                      return Curry._2(update, config$1, false);\n                    })\n                })));\n  } else {\n    tmp = null;\n  }\n  var match$2 = config.rendering.coloration.Rgb;\n  var match$3 = config.rendering.coloration.Rgb;\n  return React.createElement(\"div\", {\n              className: Styles.column\n            }, React.createElement(\"div\", {\n                  className: Styles.join(/* :: */[\n                        Styles.row,\n                        /* :: */[\n                          Css.style(/* :: */[\n                                Css.cursor(/* pointer */-786317123),\n                                /* :: */[\n                                  Css.alignItems(/* center */98248149),\n                                  /* :: */[\n                                    Css.padding(Css.px(4)),\n                                    /* :: */[\n                                      Css.hover(/* :: */[\n                                            Css.backgroundColor(Colors.button),\n                                            /* [] */0\n                                          ]),\n                                      /* [] */0\n                                    ]\n                                  ]\n                                ]\n                              ]),\n                          /* [] */0\n                        ]\n                      ]),\n                  onClick: (function (param) {\n                      return Curry._1(setOpen, !isOpen);\n                    })\n                }, isOpen ? React.createElement(MdArrowDropdown, {\n                        fontSize: \"14px\"\n                      }) : React.createElement(MdArrowDropright, {\n                        fontSize: \"14px\"\n                      }), Styles.spacer(4), \"Contrast & Colors\"), React.createElement(\"div\", {\n                  className: Styles.column,\n                  style: {\n                    display: isOpen ? \"flex\" : \"none\"\n                  }\n                }, Styles.spacer(8), React.createElement(\"div\", {\n                      className: Styles.row\n                    }, React.createElement(\"button\", {\n                          className: btn,\n                          disabled: config.rendering.exposure.curve === \"FourthRoot\",\n                          onClick: (function (_evt) {\n                              var transform = function (item, arg) {\n                                return Object.assign(Object.assign({ }, item), {\n                                            rendering: Object.assign(Object.assign({ }, item.rendering), {\n                                                  exposure: Object.assign(Object.assign({ }, item.rendering.exposure), {\n                                                        curve: arg\n                                                      })\n                                                })\n                                          });\n                              };\n                              var config$1 = transform(config, \"FourthRoot\");\n                              return Curry._2(update, config$1, true);\n                            })\n                        }, \"Low\"), Styles.spacer(4), React.createElement(\"button\", {\n                          className: btn,\n                          disabled: config.rendering.exposure.curve === \"SquareRoot\",\n                          onClick: (function (_evt) {\n                              var transform = function (item, arg) {\n                                return Object.assign(Object.assign({ }, item), {\n                                            rendering: Object.assign(Object.assign({ }, item.rendering), {\n                                                  exposure: Object.assign(Object.assign({ }, item.rendering.exposure), {\n                                                        curve: arg\n                                                      })\n                                                })\n                                          });\n                              };\n                              var config$1 = transform(config, \"SquareRoot\");\n                              return Curry._2(update, config$1, true);\n                            })\n                        }, \"Medium\"), Styles.spacer(4), React.createElement(\"button\", {\n                          className: btn,\n                          disabled: config.rendering.exposure.curve === \"Linear\",\n                          onClick: (function (_evt) {\n                              var transform = function (item, arg) {\n                                return Object.assign(Object.assign({ }, item), {\n                                            rendering: Object.assign(Object.assign({ }, item.rendering), {\n                                                  exposure: Object.assign(Object.assign({ }, item.rendering.exposure), {\n                                                        curve: arg\n                                                      })\n                                                })\n                                          });\n                              };\n                              var config$1 = transform(config, \"Linear\");\n                              return Curry._2(update, config$1, true);\n                            })\n                        }, \"High\")), Styles.spacer(8), React.createElement(\"div\", {\n                      className: Styles.row\n                    }, React.createElement(\"button\", {\n                          className: btn,\n                          disabled: config.rendering.exposure.limits === null,\n                          onClick: (function (param) {\n                              var transform = function (item, arg) {\n                                return Object.assign(Object.assign({ }, item), {\n                                            rendering: Object.assign(Object.assign({ }, item.rendering), {\n                                                  exposure: Object.assign(Object.assign({ }, item.rendering.exposure), {\n                                                        limits: arg\n                                                      })\n                                                })\n                                          });\n                              };\n                              var config$1 = transform(config, null);\n                              return Curry._2(update, config$1, true);\n                            })\n                        }, \"Automatic\"), Styles.spacer(4), React.createElement(\"button\", {\n                          className: btn,\n                          disabled: config.rendering.exposure.limits !== null,\n                          onClick: (function (param) {\n                              var transform = function (item, arg) {\n                                return Object.assign(Object.assign({ }, item), {\n                                            rendering: Object.assign(Object.assign({ }, item.rendering), {\n                                                  exposure: Object.assign(Object.assign({ }, item.rendering.exposure), {\n                                                        limits: arg\n                                                      })\n                                                })\n                                          });\n                              };\n                              var config$1 = transform(config, /* tuple */[\n                                    0.0,\n                                    1.0\n                                  ]);\n                              return Curry._2(update, config$1, true);\n                            })\n                        }, \"Manual\")), tmp, Styles.spacer(8), React.createElement(\"div\", {\n                      className: Styles.row\n                    }, match$2 !== undefined ? React.createElement(\"div\", {\n                            style: { }\n                          }, React.createElement(RcColorPicker, {\n                                color: ExposureControl.rgbToColor(Caml_option.valFromOption(match$2).background),\n                                onChange: (function (color) {\n                                    console.log(\"Color\", color);\n                                    var transform = function (item, arg) {\n                                      return Object.assign(Object.assign({ }, item), {\n                                                  rendering: Object.assign(Object.assign({ }, item.rendering), {\n                                                        coloration: Object.assign(Object.assign({ }, item.rendering.coloration), {\n                                                              Rgb: Curry._1(arg, item.rendering.coloration.Rgb)\n                                                            })\n                                                      })\n                                                });\n                                    };\n                                    var config$1 = transform(config, (function (rgb) {\n                                            if (rgb !== undefined) {\n                                              var transform = function (item, arg) {\n                                                return Object.assign(Object.assign({ }, item), {\n                                                            background: arg\n                                                          });\n                                              };\n                                              return Caml_option.some(transform(Caml_option.valFromOption(rgb), ExposureControl.colorToRgb(color.color)));\n                                            }\n                                            \n                                          }));\n                                    return Curry._2(update, config$1, false);\n                                  })\n                              })) : \"not rgb\", Styles.spacer(8), match$3 !== undefined ? React.createElement(\"div\", {\n                            style: { }\n                          }, React.createElement(RcColorPicker, {\n                                color: ExposureControl.rgbToColor(Caml_option.valFromOption(match$3).highlight),\n                                onChange: (function (color) {\n                                    console.log(\"Color\", color);\n                                    var transform = function (item, arg) {\n                                      return Object.assign(Object.assign({ }, item), {\n                                                  rendering: Object.assign(Object.assign({ }, item.rendering), {\n                                                        coloration: Object.assign(Object.assign({ }, item.rendering.coloration), {\n                                                              Rgb: Curry._1(arg, item.rendering.coloration.Rgb)\n                                                            })\n                                                      })\n                                                });\n                                    };\n                                    var config$1 = transform(config, (function (rgb) {\n                                            if (rgb !== undefined) {\n                                              var transform = function (item, arg) {\n                                                return Object.assign(Object.assign({ }, item), {\n                                                            highlight: arg\n                                                          });\n                                              };\n                                              return Caml_option.some(transform(Caml_option.valFromOption(rgb), ExposureControl.colorToRgb(color.color)));\n                                            }\n                                            \n                                          }));\n                                    return Curry._2(update, config$1, false);\n                                  })\n                              })) : \"not rgb\")));\n}\n\nvar make = ExposureFunction;\n\nexports.btn = btn;\nexports.make = make;\n/* btn Not a pure module */\n\n\n//# sourceURL=webpack:///./ui/ExposureFunction.bs.js?");

/***/ }),

/***/ "./ui/Gallery.bs.js":
/*!**************************!*\
  !*** ./ui/Gallery.bs.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("// Generated by BUCKLESCRIPT VERSION 5.0.4, PLEASE EDIT WITH CARE\n\n\nvar Css = __webpack_require__(/*! bs-css/src/Css.js */ \"./node_modules/bs-css/src/Css.js\");\nvar Curry = __webpack_require__(/*! bs-platform/lib/js/curry.js */ \"./node_modules/bs-platform/lib/js/curry.js\");\nvar Hooks = __webpack_require__(/*! ./Hooks.bs.js */ \"./ui/Hooks.bs.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nvar Colors = __webpack_require__(/*! ./Colors.bs.js */ \"./ui/Colors.bs.js\");\nvar Styles = __webpack_require__(/*! ./Styles.bs.js */ \"./ui/Styles.bs.js\");\nvar Caml_obj = __webpack_require__(/*! bs-platform/lib/js/caml_obj.js */ \"./node_modules/bs-platform/lib/js/caml_obj.js\");\nvar Belt_Array = __webpack_require__(/*! bs-platform/lib/js/belt_Array.js */ \"./node_modules/bs-platform/lib/js/belt_Array.js\");\nvar TagsEditor = __webpack_require__(/*! ./TagsEditor.bs.js */ \"./ui/TagsEditor.bs.js\");\nvar ScenePicker = __webpack_require__(/*! ./ScenePicker.bs.js */ \"./ui/ScenePicker.bs.js\");\nvar Belt_MapString = __webpack_require__(/*! bs-platform/lib/js/belt_MapString.js */ \"./node_modules/bs-platform/lib/js/belt_MapString.js\");\nvar Belt_SetString = __webpack_require__(/*! bs-platform/lib/js/belt_SetString.js */ \"./node_modules/bs-platform/lib/js/belt_SetString.js\");\nvar Caml_primitive = __webpack_require__(/*! bs-platform/lib/js/caml_primitive.js */ \"./node_modules/bs-platform/lib/js/caml_primitive.js\");\nvar MdClose = __webpack_require__(/*! react-ionicons/lib/MdClose */ \"./node_modules/react-ionicons/lib/MdClose.js\");\n\nfunction Gallery$Scene(Props) {\n  var scene = Props.scene;\n  var onChangeScene = Props.onChangeScene;\n  var tags = Props.tags;\n  var onUpdateTags = Props.onUpdateTags;\n  var onClickTag = Props.onClickTag;\n  var highlightedTags = Props.highlightedTags;\n  var match = Hooks.useUpdatingState(scene[/* title */3]);\n  var updateTitle = match[1];\n  var title = match[0];\n  var url = ScenePicker.useCachedSceneImage(scene);\n  var match$1 = Caml_obj.caml_notequal(scene[/* title */3], title);\n  var match$2 = scene[/* starred */7];\n  var match$3 = scene[/* starred */7];\n  var match$4 = scene[/* starred */7];\n  return React.createElement(\"div\", {\n              className: Css.style(/* :: */[\n                    Css.margin(Css.px(4)),\n                    /* :: */[\n                      Css.padding(Css.px(8)),\n                      /* :: */[\n                        Css.width(Css.px(500)),\n                        /* :: */[\n                          Css.boxSizing(/* borderBox */9307263),\n                          /* :: */[\n                            Css.height(Css.px(500)),\n                            /* :: */[\n                              Css.backgroundColor(Css.black),\n                              /* :: */[\n                                Css.backgroundSize(/* cover */-899416265),\n                                /* :: */[\n                                  Css.position(/* relative */903134412),\n                                  /* :: */[\n                                    Css.display(/* flex */-1010954439),\n                                    /* :: */[\n                                      Css.flexDirection(/* column */-963948842),\n                                      /* :: */[\n                                        /* `declaration */[\n                                          -434952966,\n                                          /* tuple */[\n                                            \"background-position\",\n                                            \"center\"\n                                          ]\n                                        ],\n                                        /* [] */0\n                                      ]\n                                    ]\n                                  ]\n                                ]\n                              ]\n                            ]\n                          ]\n                        ]\n                      ]\n                    ]\n                  ]),\n              style: {\n                backgroundImage: url !== undefined ? \"url(\" + (url + \")\") : \"\"\n              }\n            }, React.createElement(\"div\", {\n                  className: Styles.join(/* :: */[\n                        Styles.column,\n                        /* :: */[\n                          Css.style(/* :: */[\n                                Css.alignItems(/* center */98248149),\n                                /* [] */0\n                              ]),\n                          /* [] */0\n                        ]\n                      ])\n                }, React.createElement(\"input\", {\n                      className: Css.style(/* :: */[\n                            Css.backgroundColor(Css.transparent),\n                            /* :: */[\n                              Css.textAlign(/* center */98248149),\n                              /* :: */[\n                                Css.borderStyle(/* none */-922086728),\n                                /* :: */[\n                                  Css.color(Css.white),\n                                  /* :: */[\n                                    Css.padding(Css.px(4)),\n                                    /* :: */[\n                                      Css.fontSize(Css.px(Styles.$$Text[/* small */0])),\n                                      /* [] */0\n                                    ]\n                                  ]\n                                ]\n                              ]\n                            ]\n                          ]),\n                      placeholder: \"Title\",\n                      value: title !== undefined ? title : \"\",\n                      onChange: (function (evt) {\n                          var t = evt.target.value;\n                          var match = t === \"\";\n                          return Curry._1(updateTitle, match ? undefined : t);\n                        })\n                    }), Styles.spacer(8), React.createElement(\"div\", {\n                      className: Css.style(/* :: */[\n                            Css.fontSize(Css.px(14)),\n                            /* :: */[\n                              Css.color(Css.white),\n                              /* [] */0\n                            ]\n                          ])\n                    }, new Date(scene[/* created */2]).toLocaleString())), match$1 ? React.createElement(\"div\", {\n                    className: Styles.join(/* :: */[\n                          Styles.column,\n                          /* :: */[\n                            Css.style(/* :: */[\n                                  Css.alignItems(/* center */98248149),\n                                  /* [] */0\n                                ]),\n                            /* [] */0\n                          ]\n                        ])\n                  }, React.createElement(\"button\", {\n                        className: Css.style(/* :: */[\n                              Css.alignSelf(/* center */98248149),\n                              /* [] */0\n                            ]),\n                        onClick: (function (param) {\n                            return Curry._1(onChangeScene, /* record */[\n                                        /* id */scene[/* id */0],\n                                        /* modified */scene[/* modified */1],\n                                        /* created */scene[/* created */2],\n                                        /* title */title,\n                                        /* tags */scene[/* tags */4],\n                                        /* children */scene[/* children */5],\n                                        /* parent */scene[/* parent */6],\n                                        /* starred */scene[/* starred */7]\n                                      ]);\n                          })\n                      }, \"Save\"), Styles.spacer(8), React.createElement(\"button\", {\n                        className: Css.style(/* :: */[\n                              Css.alignSelf(/* center */98248149),\n                              /* [] */0\n                            ]),\n                        onClick: (function (param) {\n                            return Curry._1(updateTitle, scene[/* title */3]);\n                          })\n                      }, \"Cancel\")) : null, React.createElement(\"div\", {\n                  className: Css.style(/* :: */[\n                        Css.flex(1),\n                        /* [] */0\n                      ])\n                }), React.createElement(TagsEditor.make, {\n                  sceneTags: scene[/* tags */4],\n                  tags: tags,\n                  onChange: (function (tags) {\n                      return Curry._1(onChangeScene, /* record */[\n                                  /* id */scene[/* id */0],\n                                  /* modified */scene[/* modified */1],\n                                  /* created */scene[/* created */2],\n                                  /* title */scene[/* title */3],\n                                  /* tags */tags,\n                                  /* children */scene[/* children */5],\n                                  /* parent */scene[/* parent */6],\n                                  /* starred */scene[/* starred */7]\n                                ]);\n                    }),\n                  onUpdateTags: onUpdateTags,\n                  onClickTag: onClickTag,\n                  highlightedTags: highlightedTags\n                }), React.createElement(\"div\", {\n                  className: Css.style(/* :: */[\n                        Css.color(match$2 ? Css.gold : Css.white),\n                        /* :: */[\n                          Css.display(/* inlineBlock */-147785676),\n                          /* :: */[\n                            Css.position(/* absolute */-1013592457),\n                            /* :: */[\n                              Css.top(Css.px(8)),\n                              /* :: */[\n                                Css.left(Css.px(8)),\n                                /* :: */[\n                                  Css.hover(/* :: */[\n                                        Css.color(match$3 ? Css.white : Css.gold),\n                                        /* [] */0\n                                      ]),\n                                  /* :: */[\n                                    Css.fontSize(Css.px(30)),\n                                    /* :: */[\n                                      Css.cursor(/* pointer */-786317123),\n                                      /* [] */0\n                                    ]\n                                  ]\n                                ]\n                              ]\n                            ]\n                          ]\n                        ]\n                      ]),\n                  onClick: (function (evt) {\n                      evt.stopPropagation();\n                      evt.preventDefault();\n                      return Curry._1(onChangeScene, /* record */[\n                                  /* id */scene[/* id */0],\n                                  /* modified */scene[/* modified */1],\n                                  /* created */scene[/* created */2],\n                                  /* title */scene[/* title */3],\n                                  /* tags */scene[/* tags */4],\n                                  /* children */scene[/* children */5],\n                                  /* parent */scene[/* parent */6],\n                                  /* starred */!scene[/* starred */7]\n                                ]);\n                    })\n                }, match$4 ? \"✭\" : \"☆\"));\n}\n\nvar make = React.memo(Gallery$Scene);\n\nvar Scene = /* module */[/* make */make];\n\nfunction reduce(filter, action) {\n  if (typeof action === \"number\") {\n    if (action >= 768030571) {\n      return /* record */[\n              /* star */!filter[/* star */0],\n              /* tags */filter[/* tags */1]\n            ];\n    } else {\n      var match = filter[/* tags */1] === /* None */870530776;\n      return /* record */[\n              /* star */filter[/* star */0],\n              /* tags */match ? /* `All */[\n                  3256577,\n                  Belt_SetString.empty\n                ] : /* None */870530776\n            ];\n    }\n  } else {\n    var id = action[1];\n    var match$1 = filter[/* tags */1];\n    var tags;\n    if (typeof match$1 === \"number\" || match$1[0] !== 3256577) {\n      tags = Belt_SetString.add(Belt_SetString.empty, id);\n    } else {\n      var t = match$1[1];\n      tags = Belt_SetString.has(t, id) ? Belt_SetString.remove(t, id) : Belt_SetString.add(t, id);\n    }\n    return /* record */[\n            /* star */filter[/* star */0],\n            /* tags : `All */[\n              3256577,\n              tags\n            ]\n          ];\n  }\n}\n\nfunction Gallery(Props) {\n  var onClose = Props.onClose;\n  var directory = Props.directory;\n  var onChangeScene = Props.onChangeScene;\n  var onUpdateTags = Props.onUpdateTags;\n  var match = React.useReducer(reduce, /* record */[\n        /* star */false,\n        /* tags : `All */[\n          3256577,\n          Belt_SetString.empty\n        ]\n      ]);\n  var dispatch = match[1];\n  var filter = match[0];\n  var onClickTag = React.useCallback((function (id) {\n          return Curry._1(dispatch, /* `ToggleTag */[\n                      -532404474,\n                      id\n                    ]);\n        }));\n  var match$1 = filter[/* star */0];\n  return React.createElement(\"div\", {\n              className: Css.style(/* :: */[\n                    Css.position(/* absolute */-1013592457),\n                    /* :: */[\n                      Css.backgroundColor(Css.black),\n                      /* :: */[\n                        Css.top(/* zero */-789508312),\n                        /* :: */[\n                          Css.bottom(/* zero */-789508312),\n                          /* :: */[\n                            Css.left(/* zero */-789508312),\n                            /* :: */[\n                              Css.right(/* zero */-789508312),\n                              /* :: */[\n                                Css.display(/* flex */-1010954439),\n                                /* :: */[\n                                  Css.flexDirection(/* column */-963948842),\n                                  /* [] */0\n                                ]\n                              ]\n                            ]\n                          ]\n                        ]\n                      ]\n                    ]\n                  ])\n            }, React.createElement(\"div\", {\n                  className: Css.style(/* :: */[\n                        Css.padding(Css.px(8)),\n                        /* :: */[\n                          Css.display(/* flex */-1010954439),\n                          /* :: */[\n                            Css.flexDirection(/* row */5693978),\n                            /* :: */[\n                              Css.justifyContent(/* spaceBetween */516682146),\n                              /* [] */0\n                            ]\n                          ]\n                        ]\n                      ])\n                }, React.createElement(\"div\", {\n                      className: Css.style(/* :: */[\n                            Css.fontSize(Css.px(Styles.$$Text[/* large */2])),\n                            /* :: */[\n                              Css.fontWeight(/* normal */812216871),\n                              /* :: */[\n                                Css.color(Css.white),\n                                /* [] */0\n                              ]\n                            ]\n                          ])\n                    }, \"Veo Luz Gallery\"), Styles.spacer(8), React.createElement(\"button\", {\n                      className: Styles.flatButton(Css.white),\n                      onClick: (function (param) {\n                          return Curry._1(dispatch, /* ToggleStarred */768030571);\n                        })\n                    }, match$1 ? \"Show all\" : \"Starred\"), React.createElement(\"button\", {\n                      className: Styles.flatButtonSelectable(Css.white, filter[/* tags */1] === /* None */870530776),\n                      onClick: (function (param) {\n                          return Curry._1(dispatch, /* ToggleUntagged */555847001);\n                        })\n                    }, \"Untagged\"), Styles.spacer(8), React.createElement(\"div\", {\n                      className: Css.style(/* :: */[\n                            Css.flex(1),\n                            /* :: */[\n                              Css.overflow(/* auto */-1065951377),\n                              /* :: */[\n                                Css.display(/* flex */-1010954439),\n                                /* [] */0\n                              ]\n                            ]\n                          ])\n                    }, Belt_Array.map(Belt_MapString.valuesToArray(directory[/* tags */1]).sort((function (a, b) {\n                                return Caml_primitive.caml_string_compare(a[/* title */2], b[/* title */2]);\n                              })), (function (tag) {\n                            var match = filter[/* tags */1];\n                            var selected = typeof match === \"number\" || match[0] !== 3256577 || !Belt_SetString.has(match[1], tag[/* id */0]) ? false : true;\n                            return React.createElement(\"button\", {\n                                        key: tag[/* id */0],\n                                        className: Css.style(/* :: */[\n                                              Css.flexShrink(0),\n                                              /* :: */[\n                                                Css.backgroundColor(selected ? Colors.accent : Colors.button),\n                                                /* :: */[\n                                                  Css.marginRight(Css.px(4)),\n                                                  /* [] */0\n                                                ]\n                                              ]\n                                            ]),\n                                        onClick: (function (_evt) {\n                                            return Curry._1(dispatch, /* `ToggleTag */[\n                                                        -532404474,\n                                                        tag[/* id */0]\n                                                      ]);\n                                          })\n                                      }, tag[/* title */2]);\n                          }))), React.createElement(\"div\", {\n                      className: Css.style(/* :: */[\n                            Css.color(Css.white),\n                            /* :: */[\n                              Css.cursor(/* pointer */-786317123),\n                              /* :: */[\n                                Css.hover(/* :: */[\n                                      Css.color(Css.hex(\"aab\")),\n                                      /* [] */0\n                                    ]),\n                                /* [] */0\n                              ]\n                            ]\n                          ])\n                    }, React.createElement(MdClose, {\n                          className: Css.style(/* :: */[\n                                Css.paddingLeft(Css.px(16)),\n                                /* [] */0\n                              ]),\n                          color: \"currentcolor\",\n                          onClick: (function (_evt) {\n                              return Curry._1(onClose, /* () */0);\n                            })\n                        }))), React.createElement(\"div\", {\n                  className: Css.style(/* :: */[\n                        Css.flex(1),\n                        /* :: */[\n                          Css.display(/* flex */-1010954439),\n                          /* :: */[\n                            Css.flexDirection(/* row */5693978),\n                            /* :: */[\n                              Css.overflowY(/* auto */-1065951377),\n                              /* :: */[\n                                Css.flexWrap(/* wrap */-822134326),\n                                /* :: */[\n                                  Css.justifyContent(/* center */98248149),\n                                  /* [] */0\n                                ]\n                              ]\n                            ]\n                          ]\n                        ]\n                      ])\n                }, Belt_Array.map(Belt_Array.keep(Belt_MapString.valuesToArray(directory[/* scenes */0]), (function (scene) {\n                              var match = filter[/* star */0];\n                              if (match ? scene[/* starred */7] : true) {\n                                var match$1 = filter[/* tags */1];\n                                if (typeof match$1 === \"number\") {\n                                  return Belt_SetString.isEmpty(scene[/* tags */4]);\n                                } else {\n                                  return Belt_SetString.every(match$1[1], (function (t) {\n                                                return Belt_SetString.has(scene[/* tags */4], t);\n                                              }));\n                                }\n                              } else {\n                                return false;\n                              }\n                            })).sort((function (a, b) {\n                            return b[/* created */2] - a[/* created */2] | 0;\n                          })), (function (scene) {\n                        var match = filter[/* tags */1];\n                        return React.createElement(make, {\n                                    scene: scene,\n                                    onChangeScene: onChangeScene,\n                                    tags: directory[/* tags */1],\n                                    onUpdateTags: onUpdateTags,\n                                    onClickTag: onClickTag,\n                                    highlightedTags: typeof match === \"number\" ? Belt_SetString.empty : match[1],\n                                    key: scene[/* id */0]\n                                  });\n                      }))));\n}\n\nvar make$1 = Gallery;\n\nexports.Scene = Scene;\nexports.reduce = reduce;\nexports.make = make$1;\n/* make Not a pure module */\n\n\n//# sourceURL=webpack:///./ui/Gallery.bs.js?");

/***/ }),

/***/ "./ui/Hooks.bs.js":
/*!************************!*\
  !*** ./ui/Hooks.bs.js ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("// Generated by BUCKLESCRIPT VERSION 5.0.4, PLEASE EDIT WITH CARE\n\n\nvar Web = __webpack_require__(/*! ./Web.bs.js */ \"./ui/Web.bs.js\");\nvar Curry = __webpack_require__(/*! bs-platform/lib/js/curry.js */ \"./node_modules/bs-platform/lib/js/curry.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nvar Caml_obj = __webpack_require__(/*! bs-platform/lib/js/caml_obj.js */ \"./node_modules/bs-platform/lib/js/caml_obj.js\");\nvar Caml_option = __webpack_require__(/*! bs-platform/lib/js/caml_option.js */ \"./node_modules/bs-platform/lib/js/caml_option.js\");\n\nfunction useState(initial) {\n  return React.useReducer((function (param, action) {\n                return action;\n              }), initial);\n}\n\nfunction useStateGetter(getter) {\n  var partial_arg = Curry._1(getter, /* () */0);\n  React.useState((function () {\n          return Curry._1(partial_arg, /* () */0);\n        }));\n  return React.useRef(undefined);\n}\n\nfunction useHash(param) {\n  var initial = Web.$$Location[/* hash */0](/* () */0);\n  var match = React.useReducer((function (param, action) {\n          return action;\n        }), initial);\n  var setHash = match[1];\n  React.useEffect((function () {\n          return Web.$$Location[/* addHashListener */2](setHash);\n        }), ([]));\n  return match[0];\n}\n\nvar hashIt = (\nfunction(input) {\n    var hash = 0;\n    if (!input || input.length == 0) {\n        return hash;\n    }\n    for (var i = 0; i < input.length; i++) {\n        var char = input.charCodeAt(i);\n        hash = ((hash<<5)-hash)+char;\n        hash = hash & hash; // Convert to 32bit integer\n    }\n    return hash;\n}\n);\n\nfunction anyHash(data) {\n  return Curry._1(hashIt, JSON.stringify(data));\n}\n\nfunction useOnChange($staropt$star, value, onChange) {\n  var lastValue = React.useRef(value);\n  React.useEffect((function () {\n          if (Caml_obj.caml_notequal(lastValue.current, value)) {\n            lastValue.current = value;\n            Curry._1(onChange, value);\n          }\n          return undefined;\n        }), /* tuple */[\n        value,\n        lastValue.current\n      ]);\n  return lastValue;\n}\n\nfunction useUpdatingState(initial) {\n  var match = React.useReducer((function (param, action) {\n          return action;\n        }), initial);\n  var setState = match[1];\n  var current = match[0];\n  React.useEffect((function () {\n          if (initial !== current) {\n            Curry._1(setState, initial);\n          }\n          return undefined;\n        }), /* array */[initial]);\n  return /* tuple */[\n          current,\n          setState\n        ];\n}\n\nfunction useLoading(getter) {\n  var match = React.useReducer((function (param, action) {\n          return action;\n        }), undefined);\n  var setData = match[1];\n  var data = match[0];\n  React.useEffect((function () {\n          if (data !== undefined) {\n            Curry._1(setData, undefined);\n          }\n          Curry._1(getter, /* () */0).then((function (result) {\n                  Curry._1(setData, Caml_option.some(result));\n                  return Promise.resolve(/* () */0);\n                }));\n          return undefined;\n        }), /* array */[getter]);\n  return data;\n}\n\nfunction lazyRef(fn) {\n  var r = React.useRef(undefined);\n  var match = r.current;\n  if (match !== undefined) {\n    return Caml_option.valFromOption(match);\n  } else {\n    var v = Curry._1(fn, /* () */0);\n    r.current = Caml_option.some(v);\n    return v;\n  }\n}\n\nfunction usePortal(param) {\n  var rootElement = lazyRef((function (param) {\n          return document.createElement(\"div\");\n        }));\n  React.useEffect((function () {\n          document.body.appendChild(rootElement);\n          return (function (param) {\n                    document.body.removeChild(rootElement);\n                    return /* () */0;\n                  });\n        }), ([]));\n  return rootElement;\n}\n\nexports.useState = useState;\nexports.useStateGetter = useStateGetter;\nexports.useHash = useHash;\nexports.hashIt = hashIt;\nexports.anyHash = anyHash;\nexports.useOnChange = useOnChange;\nexports.useUpdatingState = useUpdatingState;\nexports.useLoading = useLoading;\nexports.lazyRef = lazyRef;\nexports.usePortal = usePortal;\n/* hashIt Not a pure module */\n\n\n//# sourceURL=webpack:///./ui/Hooks.bs.js?");

/***/ }),

/***/ "./ui/Lets.bs.js":
/*!***********************!*\
  !*** ./ui/Lets.bs.js ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("// Generated by BUCKLESCRIPT VERSION 5.0.4, PLEASE EDIT WITH CARE\n\n\nvar Curry = __webpack_require__(/*! bs-platform/lib/js/curry.js */ \"./node_modules/bs-platform/lib/js/curry.js\");\nvar Pervasives = __webpack_require__(/*! bs-platform/lib/js/pervasives.js */ \"./node_modules/bs-platform/lib/js/pervasives.js\");\nvar Caml_option = __webpack_require__(/*! bs-platform/lib/js/caml_option.js */ \"./node_modules/bs-platform/lib/js/caml_option.js\");\n\nfunction let_(v, fn) {\n  return v.then(Curry.__1(fn));\n}\n\nfunction resolve(prim) {\n  return Promise.resolve(prim);\n}\n\nfunction let_$1(v, fn) {\n  v.then((function (v) {\n          Curry._1(fn, v);\n          return Promise.resolve(/* () */0);\n        }));\n  return /* () */0;\n}\n\nvar Consume = /* module */[/* let_ */let_$1];\n\nvar Async = /* module */[\n  /* let_ */let_,\n  /* resolve */resolve,\n  /* Consume */Consume\n];\n\nfunction force(m) {\n  if (m !== undefined) {\n    return Caml_option.valFromOption(m);\n  } else {\n    return Pervasives.failwith(\"unwrapping option\");\n  }\n}\n\nfunction let_$2(v, fn) {\n  if (v !== undefined) {\n    return Curry._1(fn, Caml_option.valFromOption(v));\n  } else {\n    return /* () */0;\n  }\n}\n\nvar Consume$1 = /* module */[/* let_ */let_$2];\n\nvar Opt = /* module */[\n  /* force */force,\n  /* Consume */Consume$1\n];\n\nexports.Async = Async;\nexports.Opt = Opt;\n/* No side effect */\n\n\n//# sourceURL=webpack:///./ui/Lets.bs.js?");

/***/ }),

/***/ "./ui/MiniScenePicker.bs.js":
/*!**********************************!*\
  !*** ./ui/MiniScenePicker.bs.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("// Generated by BUCKLESCRIPT VERSION 5.0.4, PLEASE EDIT WITH CARE\n\n\nvar Css = __webpack_require__(/*! bs-css/src/Css.js */ \"./node_modules/bs-css/src/Css.js\");\nvar Lets = __webpack_require__(/*! ./Lets.bs.js */ \"./ui/Lets.bs.js\");\nvar Curry = __webpack_require__(/*! bs-platform/lib/js/curry.js */ \"./node_modules/bs-platform/lib/js/curry.js\");\nvar Hooks = __webpack_require__(/*! ./Hooks.bs.js */ \"./ui/Hooks.bs.js\");\nvar Tippy = __webpack_require__(/*! ./Tippy.bs.js */ \"./ui/Tippy.bs.js\");\nvar Types = __webpack_require__(/*! ./Types.bs.js */ \"./ui/Types.bs.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nvar Styles = __webpack_require__(/*! ./Styles.bs.js */ \"./ui/Styles.bs.js\");\nvar Gallery = __webpack_require__(/*! ./Gallery.bs.js */ \"./ui/Gallery.bs.js\");\nvar Caml_obj = __webpack_require__(/*! bs-platform/lib/js/caml_obj.js */ \"./node_modules/bs-platform/lib/js/caml_obj.js\");\nvar Examples = __webpack_require__(/*! ./Examples.bs.js */ \"./ui/Examples.bs.js\");\nvar Belt_List = __webpack_require__(/*! bs-platform/lib/js/belt_List.js */ \"./node_modules/bs-platform/lib/js/belt_List.js\");\nvar ReactDom = __webpack_require__(/*! react-dom */ \"./node_modules/react-dom/index.js\");\nvar Belt_Array = __webpack_require__(/*! bs-platform/lib/js/belt_Array.js */ \"./node_modules/bs-platform/lib/js/belt_Array.js\");\nvar ScenePicker = __webpack_require__(/*! ./ScenePicker.bs.js */ \"./ui/ScenePicker.bs.js\");\nvar Belt_MapString = __webpack_require__(/*! bs-platform/lib/js/belt_MapString.js */ \"./node_modules/bs-platform/lib/js/belt_MapString.js\");\nvar Caml_primitive = __webpack_require__(/*! bs-platform/lib/js/caml_primitive.js */ \"./node_modules/bs-platform/lib/js/caml_primitive.js\");\nvar MdApps = __webpack_require__(/*! react-ionicons/lib/MdApps */ \"./node_modules/react-ionicons/lib/MdApps.js\");\nvar MdCamera = __webpack_require__(/*! react-ionicons/lib/MdCamera */ \"./node_modules/react-ionicons/lib/MdCamera.js\");\nvar MdDocument = __webpack_require__(/*! react-ionicons/lib/MdDocument */ \"./node_modules/react-ionicons/lib/MdDocument.js\");\n\nvar iconButton = Css.style(/* :: */[\n      Css.width(Css.px(50)),\n      /* :: */[\n        Css.height(Css.px(50)),\n        /* :: */[\n          Css.flexShrink(0),\n          /* :: */[\n            Css.display(/* flex */-1010954439),\n            /* :: */[\n              Css.alignItems(/* center */98248149),\n              /* :: */[\n                Css.justifyContent(/* center */98248149),\n                /* :: */[\n                  Css.cursor(/* pointer */-786317123),\n                  /* :: */[\n                    Css.color(Css.rgba(255, 255, 255, 0.7)),\n                    /* :: */[\n                      Css.hover(/* :: */[\n                            Css.color(Css.white),\n                            /* :: */[\n                              Css.backgroundColor(Css.hex(\"335\")),\n                              /* [] */0\n                            ]\n                          ]),\n                      /* [] */0\n                    ]\n                  ]\n                ]\n              ]\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nfunction MiniScenePicker(Props) {\n  var directory = Props.directory;\n  var current = Props.current;\n  var onSelect = Props.onSelect;\n  var onExample = Props.onExample;\n  var hover = Props.hover;\n  var unHover = Props.unHover;\n  var onChangeScene = Props.onChangeScene;\n  var onUpdateTags = Props.onUpdateTags;\n  var onSaveScene = Props.onSaveScene;\n  var onClearScene = Props.onClearScene;\n  var match = Hooks.useState(false);\n  var toggleGallery = match[1];\n  var onCloseGallery = React.useCallback((function (param) {\n          return Curry._1(toggleGallery, false);\n        }));\n  var portal = Hooks.usePortal(/* () */0);\n  return React.createElement(\"div\", {\n              className: Css.style(/* :: */[\n                    Css.flex(1),\n                    /* :: */[\n                      Css.display(/* flex */-1010954439),\n                      /* :: */[\n                        Css.alignItems(/* center */98248149),\n                        /* :: */[\n                          Css.flexDirection(/* row */5693978),\n                          /* :: */[\n                            Css.maxWidth(Css.px(1024)),\n                            /* [] */0\n                          ]\n                        ]\n                      ]\n                    ]\n                  ])\n            }, match[0] ? ReactDom.createPortal(React.createElement(Gallery.make, {\n                        onClose: onCloseGallery,\n                        directory: directory,\n                        onChangeScene: onChangeScene,\n                        onUpdateTags: onUpdateTags\n                      }), portal) : null, React.createElement(\"div\", {\n                  className: Styles.row\n                }, React.createElement(Tippy.make, {\n                      content: \"View gallery\",\n                      children: React.createElement(\"div\", {\n                            className: iconButton,\n                            onClick: (function (_evt) {\n                                return Curry._1(toggleGallery, true);\n                              })\n                          }, React.createElement(MdApps, {\n                                color: \"currentcolor\"\n                              }))\n                    }), React.createElement(Tippy.make, {\n                      content: \"Clear scene\",\n                      children: React.createElement(\"div\", {\n                            className: iconButton,\n                            onClick: (function (_evt) {\n                                return Curry._1(onClearScene, /* () */0);\n                              })\n                          }, React.createElement(MdDocument, {\n                                color: \"currentcolor\"\n                              }))\n                    }), React.createElement(Tippy.make, {\n                      content: \"Save scene\",\n                      children: React.createElement(\"div\", {\n                            className: iconButton,\n                            onClick: (function (_evt) {\n                                return Curry._1(onSaveScene, Types.emptyScene);\n                              })\n                          }, React.createElement(MdCamera, {\n                                color: \"currentcolor\"\n                              }))\n                    })), React.createElement(\"div\", {\n                  className: Css.style(/* :: */[\n                        Css.flex(1),\n                        /* :: */[\n                          Css.display(/* flex */-1010954439),\n                          /* :: */[\n                            Css.alignSelf(/* stretch */-162316795),\n                            /* :: */[\n                              Css.alignItems(/* center */98248149),\n                              /* :: */[\n                                Css.flexDirection(/* row */5693978),\n                                /* :: */[\n                                  Css.overflow(/* auto */-1065951377),\n                                  /* [] */0\n                                ]\n                              ]\n                            ]\n                          ]\n                        ]\n                      ])\n                }, Belt_List.toArray(Belt_List.map(Belt_List.sort(Belt_List.fromArray(Belt_MapString.toArray(directory[/* scenes */0])), (function (param, param$1) {\n                                return Caml_primitive.caml_string_compare(param$1[0], param[0]);\n                              })), (function (param) {\n                            var key = param[0];\n                            return React.createElement(ScenePicker.Scene[/* make */0], {\n                                        scene: param[1],\n                                        selected: Caml_obj.caml_equal(current, key),\n                                        onSelect: onSelect,\n                                        hover: hover,\n                                        unHover: unHover,\n                                        onChangeScene: onChangeScene,\n                                        onSaveScene: onSaveScene,\n                                        key: key\n                                      });\n                          }))), React.createElement(\"div\", {\n                      className: Css.style(/* :: */[\n                            Css.color(Css.white),\n                            /* :: */[\n                              Css.backgroundColor(Css.hex(\"336\")),\n                              /* :: */[\n                                Css.marginLeft(Css.px(32)),\n                                /* :: */[\n                                  Css.padding(Css.px(Styles.$$Text[/* small */0])),\n                                  /* [] */0\n                                ]\n                              ]\n                            ]\n                          ])\n                    }, \"Examples\"), Belt_Array.map(Examples.ids, (function (id) {\n                        return React.createElement(\"div\", {\n                                    key: id,\n                                    className: Css.style(/* :: */[\n                                          Css.display(/* flex */-1010954439),\n                                          /* :: */[\n                                            Css.flexDirection(/* row */5693978),\n                                            /* :: */[\n                                              Css.padding(Css.px(4)),\n                                              /* :: */[\n                                                Css.cursor(/* pointer */-786317123),\n                                                /* [] */0\n                                              ]\n                                            ]\n                                          ]\n                                        ]),\n                                    onMouseOut: (function (_evt) {\n                                        return Curry._1(unHover, /* () */0);\n                                      }),\n                                    onMouseOver: (function (_evt) {\n                                        return Curry._1(hover, Examples.image(id));\n                                      })\n                                  }, React.createElement(\"div\", {\n                                        className: Css.style(/* :: */[\n                                              Css.width(Css.px(50)),\n                                              /* :: */[\n                                                Css.backgroundColor(Css.black),\n                                                /* :: */[\n                                                  Css.height(Css.px(50)),\n                                                  /* :: */[\n                                                    Css.backgroundSize(/* cover */-899416265),\n                                                    /* :: */[\n                                                      Css.position(/* relative */903134412),\n                                                      /* :: */[\n                                                        /* `declaration */[\n                                                          -434952966,\n                                                          /* tuple */[\n                                                            \"background-position\",\n                                                            \"center\"\n                                                          ]\n                                                        ],\n                                                        /* [] */0\n                                                      ]\n                                                    ]\n                                                  ]\n                                                ]\n                                              ]\n                                            ]),\n                                        style: {\n                                          backgroundImage: \"url(\" + (Examples.image(id) + \")\")\n                                        },\n                                        onClick: (function (_evt) {\n                                            return Curry._2(Lets.Async[/* Consume */2][/* let_ */0], fetch(Examples.config(id), { }), (function (res) {\n                                                          return Curry._2(Lets.Async[/* Consume */2][/* let_ */0], res.json(), Curry.__1(onExample));\n                                                        }));\n                                          })\n                                      }));\n                      }))));\n}\n\nvar make = MiniScenePicker;\n\nexports.iconButton = iconButton;\nexports.make = make;\n/* iconButton Not a pure module */\n\n\n//# sourceURL=webpack:///./ui/MiniScenePicker.bs.js?");

/***/ }),

/***/ "./ui/Rust.bs.js":
/*!***********************!*\
  !*** ./ui/Rust.bs.js ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("// Generated by BUCKLESCRIPT VERSION 5.0.4, PLEASE EDIT WITH CARE\n\n\nvar Curry = __webpack_require__(/*! bs-platform/lib/js/curry.js */ \"./node_modules/bs-platform/lib/js/curry.js\");\n\nfunction selectWall(idx) {\n  return {\n          Wall: /* tuple */[\n            idx,\n            null\n          ],\n          Light: undefined,\n          Adding: undefined,\n          Multiple: undefined\n        };\n}\n\nfunction selectLight(idx) {\n  return {\n          Wall: undefined,\n          Light: /* tuple */[\n            idx,\n            false\n          ],\n          Adding: undefined,\n          Multiple: undefined\n        };\n}\n\nvar blankUi = {\n  show_lasers: false,\n  selection: null,\n  mouse_over: false,\n  hovered: null,\n  last_mouse_pos: /* tuple */[\n    0.0,\n    0.0\n  ]\n};\n\nvar wasm = (Promise.all(/*! import() */[__webpack_require__.e(2), __webpack_require__.e(3)]).then(__webpack_require__.bind(null, /*! ../pkg/zenphoton */ \"./pkg/zenphoton.js\")));\n\nfunction withModule(fn) {\n  wasm.then((function (wasm) {\n          Curry._1(fn, wasm);\n          return Promise.resolve(/* () */0);\n        }));\n  return /* () */0;\n}\n\nexports.selectWall = selectWall;\nexports.selectLight = selectLight;\nexports.blankUi = blankUi;\nexports.wasm = wasm;\nexports.withModule = withModule;\n/* wasm Not a pure module */\n\n\n//# sourceURL=webpack:///./ui/Rust.bs.js?");

/***/ }),

/***/ "./ui/SceneForm.bs.js":
/*!****************************!*\
  !*** ./ui/SceneForm.bs.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("// Generated by BUCKLESCRIPT VERSION 5.0.4, PLEASE EDIT WITH CARE\n\n\nvar Css = __webpack_require__(/*! bs-css/src/Css.js */ \"./node_modules/bs-css/src/Css.js\");\nvar Curry = __webpack_require__(/*! bs-platform/lib/js/curry.js */ \"./node_modules/bs-platform/lib/js/curry.js\");\nvar Hooks = __webpack_require__(/*! ./Hooks.bs.js */ \"./ui/Hooks.bs.js\");\nvar Tippy = __webpack_require__(/*! ./Tippy.bs.js */ \"./ui/Tippy.bs.js\");\nvar Types = __webpack_require__(/*! ./Types.bs.js */ \"./ui/Types.bs.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nvar Styles = __webpack_require__(/*! ./Styles.bs.js */ \"./ui/Styles.bs.js\");\nvar MdRedo = __webpack_require__(/*! react-ionicons/lib/MdRedo */ \"./node_modules/react-ionicons/lib/MdRedo.js\");\nvar MdUndo = __webpack_require__(/*! react-ionicons/lib/MdUndo */ \"./node_modules/react-ionicons/lib/MdUndo.js\");\nvar IosLink = __webpack_require__(/*! react-ionicons/lib/IosLink */ \"./node_modules/react-ionicons/lib/IosLink.js\");\nvar MdFiling = __webpack_require__(/*! react-ionicons/lib/MdFiling */ \"./node_modules/react-ionicons/lib/MdFiling.js\");\nvar MdDownload = __webpack_require__(/*! react-ionicons/lib/MdDownload */ \"./node_modules/react-ionicons/lib/MdDownload.js\");\n\nfunction SceneForm(Props) {\n  Props.directory;\n  Props.onUpdateTags;\n  Props.ui;\n  var match = Props.scene;\n  var scene = match !== undefined ? match : Types.emptyScene;\n  Props.onSave;\n  var onPermalink = Props.onPermalink;\n  var onDownload = Props.onDownload;\n  var onDownloadZip = Props.onDownloadZip;\n  var wasm = Props.wasm;\n  Hooks.useState(scene);\n  return React.createElement(\"div\", {\n              className: Css.style(/* :: */[\n                    Css.flexDirection(/* column */-963948842),\n                    /* :: */[\n                      Css.display(/* flex */-1010954439),\n                      /* :: */[\n                        Css.alignItems(/* stretch */-162316795),\n                        /* [] */0\n                      ]\n                    ]\n                  ])\n            }, React.createElement(\"div\", {\n                  className: Styles.row\n                }, React.createElement(Tippy.make, {\n                      content: \"Undo\",\n                      children: React.createElement(\"button\", {\n                            onClick: (function (_evt) {\n                                return wasm.undo();\n                              })\n                          }, React.createElement(MdUndo, { }))\n                    }), Styles.spacer(4), React.createElement(Tippy.make, {\n                      content: \"Redo\",\n                      children: React.createElement(\"button\", {\n                            onClick: (function (_evt) {\n                                return wasm.redo();\n                              })\n                          }, React.createElement(MdRedo, { }))\n                    }), Styles.spacer(4), React.createElement(Tippy.make, {\n                      content: \"Permalink\",\n                      children: React.createElement(\"button\", {\n                            onClick: (function (param) {\n                                return Curry._1(onPermalink, /* () */0);\n                              })\n                          }, React.createElement(IosLink, { }))\n                    }), Styles.spacer(4), React.createElement(Tippy.make, {\n                      content: \"Download image\",\n                      children: React.createElement(\"button\", {\n                            onClick: (function (param) {\n                                return Curry._1(onDownload, /* () */0);\n                              })\n                          }, React.createElement(MdDownload, { }))\n                    }), Styles.spacer(4), React.createElement(Tippy.make, {\n                      content: \"Download zip\",\n                      children: React.createElement(\"button\", {\n                            onClick: (function (param) {\n                                return Curry._1(onDownloadZip, /* () */0);\n                              })\n                          }, React.createElement(MdFiling, { }))\n                    })));\n}\n\nvar make = SceneForm;\n\nexports.make = make;\n/* Css Not a pure module */\n\n\n//# sourceURL=webpack:///./ui/SceneForm.bs.js?");

/***/ }),

/***/ "./ui/ScenePicker.bs.js":
/*!******************************!*\
  !*** ./ui/ScenePicker.bs.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("// Generated by BUCKLESCRIPT VERSION 5.0.4, PLEASE EDIT WITH CARE\n\n\nvar Css = __webpack_require__(/*! bs-css/src/Css.js */ \"./node_modules/bs-css/src/Css.js\");\nvar Lets = __webpack_require__(/*! ./Lets.bs.js */ \"./ui/Lets.bs.js\");\nvar Curry = __webpack_require__(/*! bs-platform/lib/js/curry.js */ \"./node_modules/bs-platform/lib/js/curry.js\");\nvar Hooks = __webpack_require__(/*! ./Hooks.bs.js */ \"./ui/Hooks.bs.js\");\nvar Tippy = __webpack_require__(/*! ./Tippy.bs.js */ \"./ui/Tippy.bs.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nvar $$String = __webpack_require__(/*! bs-platform/lib/js/string.js */ \"./node_modules/bs-platform/lib/js/string.js\");\nvar Styles = __webpack_require__(/*! ./Styles.bs.js */ \"./ui/Styles.bs.js\");\nvar Js_dict = __webpack_require__(/*! bs-platform/lib/js/js_dict.js */ \"./node_modules/bs-platform/lib/js/js_dict.js\");\nvar Caml_obj = __webpack_require__(/*! bs-platform/lib/js/caml_obj.js */ \"./node_modules/bs-platform/lib/js/caml_obj.js\");\nvar Belt_List = __webpack_require__(/*! bs-platform/lib/js/belt_List.js */ \"./node_modules/bs-platform/lib/js/belt_List.js\");\nvar TypeSerde = __webpack_require__(/*! ./TypeSerde.bs.js */ \"./ui/TypeSerde.bs.js\");\nvar Belt_Array = __webpack_require__(/*! bs-platform/lib/js/belt_Array.js */ \"./node_modules/bs-platform/lib/js/belt_Array.js\");\nvar Pervasives = __webpack_require__(/*! bs-platform/lib/js/pervasives.js */ \"./node_modules/bs-platform/lib/js/pervasives.js\");\nvar Caml_format = __webpack_require__(/*! bs-platform/lib/js/caml_format.js */ \"./node_modules/bs-platform/lib/js/caml_format.js\");\nvar Localforage = __webpack_require__(/*! localforage */ \"./node_modules/localforage/dist/localforage.js\");\nvar Belt_MapString = __webpack_require__(/*! bs-platform/lib/js/belt_MapString.js */ \"./node_modules/bs-platform/lib/js/belt_MapString.js\");\nvar Belt_SetString = __webpack_require__(/*! bs-platform/lib/js/belt_SetString.js */ \"./node_modules/bs-platform/lib/js/belt_SetString.js\");\nvar Caml_primitive = __webpack_require__(/*! bs-platform/lib/js/caml_primitive.js */ \"./node_modules/bs-platform/lib/js/caml_primitive.js\");\nvar MdReverseCamera = __webpack_require__(/*! react-ionicons/lib/MdReverseCamera */ \"./node_modules/react-ionicons/lib/MdReverseCamera.js\");\n\nfunction sceneFromKey(key) {\n  var m = key.split(\":\");\n  var exit = 0;\n  if (m.length !== 3) {\n    exit = 1;\n  } else {\n    var created = m[0];\n    var id = m[1];\n    var match = m[2];\n    if (match === \"image\") {\n      return /* record */[\n              /* id */created + (\":\" + id),\n              /* modified */Caml_format.caml_float_of_string(created),\n              /* created */Caml_format.caml_float_of_string(created),\n              /* title */undefined,\n              /* tags */Belt_SetString.empty,\n              /* children : array */[],\n              /* parent */undefined,\n              /* starred */false\n            ];\n    } else {\n      exit = 1;\n    }\n  }\n  if (exit === 1) {\n    console.log(m);\n    return Pervasives.failwith(\"Bad key \" + key);\n  }\n  \n}\n\nfunction getSceneInfo(param) {\n  return Lets.Async[/* let_ */0](Localforage.getItem(\"scenes\"), (function (sceneRaw) {\n                if (sceneRaw == null) {\n                  return Lets.Async[/* let_ */0](Localforage.keys(), (function (keys) {\n                                return Lets.Async[/* resolve */1](/* record */[\n                                            /* scenes */Belt_MapString.fromArray(Belt_Array.map(Belt_Array.keep(keys, (function (m) {\n                                                            return m.endsWith(\":image\");\n                                                          })), (function (key) {\n                                                        var scene = sceneFromKey(key);\n                                                        return /* tuple */[\n                                                                scene[/* id */0],\n                                                                scene\n                                                              ];\n                                                      }))),\n                                            /* tags */Belt_MapString.empty\n                                          ]);\n                              }));\n                } else {\n                  var match = TypeSerde.deserializeDirectory(sceneRaw);\n                  if (match.tag) {\n                    return Pervasives.failwith(\"Invalid scene data: \" + $$String.concat(\" : \", match[0]));\n                  } else {\n                    return Lets.Async[/* resolve */1](match[0]);\n                  }\n                }\n              }));\n}\n\nfunction saveSceneInfo(directory) {\n  var json = TypeSerde.serializeDirectory(directory);\n  return Localforage.setItem(\"scenes\", json);\n}\n\nvar urlCache = { };\n\nfunction useCachedSceneImage(scene) {\n  var key = scene[/* id */0] + \":image\";\n  var getter = React.useCallback((function (param) {\n          return Localforage.getItem(key);\n        }), /* tuple */[\n        key,\n        scene[/* modified */1]\n      ]);\n  var match = Js_dict.get(urlCache, key);\n  var tmp;\n  if (match !== undefined) {\n    var match$1 = match;\n    tmp = match$1[0] === scene[/* modified */1] ? match$1[1] : undefined;\n  } else {\n    tmp = undefined;\n  }\n  var match$2 = Hooks.useState(tmp);\n  var setData = match$2[1];\n  var data = match$2[0];\n  React.useEffect((function (param) {\n          var match = Js_dict.get(urlCache, key);\n          var exit = 0;\n          if (match !== undefined) {\n            var match$1 = match;\n            if (match$1[0] === scene[/* modified */1]) {\n              Curry._1(setData, match$1[1]);\n            } else {\n              exit = 1;\n            }\n          } else {\n            exit = 1;\n          }\n          if (exit === 1) {\n            if (data !== undefined) {\n              Curry._1(setData, undefined);\n            }\n            Curry._1(getter, /* () */0).then((function (result) {\n                    if (!(result == null)) {\n                      var url = URL.createObjectURL(result);\n                      urlCache[key] = /* tuple */[\n                        scene[/* modified */1],\n                        url\n                      ];\n                      Curry._1(setData, url);\n                    }\n                    return Promise.resolve(/* () */0);\n                  }));\n          }\n          return undefined;\n        }), /* tuple */[\n        getter,\n        key,\n        scene[/* modified */1]\n      ]);\n  return data;\n}\n\nfunction ScenePicker$Scene(Props) {\n  var scene = Props.scene;\n  var selected = Props.selected;\n  var onSelect = Props.onSelect;\n  var hover = Props.hover;\n  var unHover = Props.unHover;\n  var onChangeScene = Props.onChangeScene;\n  var onSaveScene = Props.onSaveScene;\n  var url = useCachedSceneImage(scene);\n  if (url !== undefined) {\n    var url$1 = url;\n    var match = scene[/* starred */7];\n    var match$1 = scene[/* starred */7];\n    var match$2 = scene[/* starred */7];\n    var match$3 = scene[/* children */5].length === 0;\n    return React.createElement(\"div\", {\n                className: Css.style(Pervasives.$at(/* :: */[\n                          Css.display(/* flex */-1010954439),\n                          /* :: */[\n                            Css.flexDirection(/* row */5693978),\n                            /* :: */[\n                              Css.cursor(/* pointer */-786317123),\n                              /* :: */[\n                                Css.padding(Css.px(4)),\n                                /* [] */0\n                              ]\n                            ]\n                          ]\n                        ], selected ? /* :: */[\n                            Css.backgroundColor(Css.hex(\"5af\")),\n                            /* [] */0\n                          ] : /* [] */0)),\n                onMouseOut: (function (_evt) {\n                    return Curry._1(unHover, /* () */0);\n                  }),\n                onMouseOver: (function (_evt) {\n                    return Curry._1(hover, url$1);\n                  })\n              }, React.createElement(\"div\", {\n                    className: Css.style(/* :: */[\n                          Css.width(Css.px(50)),\n                          /* :: */[\n                            Css.backgroundColor(Css.black),\n                            /* :: */[\n                              Css.height(Css.px(50)),\n                              /* :: */[\n                                Css.backgroundSize(/* cover */-899416265),\n                                /* :: */[\n                                  Css.position(/* relative */903134412),\n                                  /* :: */[\n                                    /* `declaration */[\n                                      -434952966,\n                                      /* tuple */[\n                                        \"background-position\",\n                                        \"center\"\n                                      ]\n                                    ],\n                                    /* [] */0\n                                  ]\n                                ]\n                              ]\n                            ]\n                          ]\n                        ]),\n                    style: {\n                      backgroundImage: \"url(\" + (url$1 + \")\")\n                    },\n                    onClick: (function (_evt) {\n                        return Curry._2(Lets.Async[/* Consume */2][/* let_ */0], Localforage.getItem(scene[/* id */0]), (function (config) {\n                                      if (config == null) {\n                                        return /* () */0;\n                                      } else {\n                                        return Curry._2(onSelect, scene[/* id */0], config);\n                                      }\n                                    }));\n                      })\n                  }, React.createElement(\"div\", {\n                        className: Css.style(/* :: */[\n                              Css.color(match ? Css.gold : Css.white),\n                              /* :: */[\n                                Css.display(/* inlineBlock */-147785676),\n                                /* :: */[\n                                  Css.hover(/* :: */[\n                                        Css.color(match$1 ? Css.white : Css.gold),\n                                        /* [] */0\n                                      ]),\n                                  /* :: */[\n                                    Css.cursor(/* pointer */-786317123),\n                                    /* [] */0\n                                  ]\n                                ]\n                              ]\n                            ]),\n                        onClick: (function (evt) {\n                            evt.stopPropagation();\n                            evt.preventDefault();\n                            return Curry._1(onChangeScene, /* record */[\n                                        /* id */scene[/* id */0],\n                                        /* modified */scene[/* modified */1],\n                                        /* created */scene[/* created */2],\n                                        /* title */scene[/* title */3],\n                                        /* tags */scene[/* tags */4],\n                                        /* children */scene[/* children */5],\n                                        /* parent */scene[/* parent */6],\n                                        /* starred */!scene[/* starred */7]\n                                      ]);\n                          })\n                      }, match$2 ? \"✭\" : \"☆\"), selected ? React.createElement(Tippy.make, {\n                          content: \"Update scene\",\n                          children: React.createElement(\"div\", {\n                                className: Css.style(/* :: */[\n                                      Css.cursor(/* pointer */-786317123),\n                                      /* :: */[\n                                        Css.color(Css.rgba(255, 255, 255, 0.7)),\n                                        /* :: */[\n                                          Css.backgroundColor(Css.black),\n                                          /* :: */[\n                                            Css.borderRadius(Css.px(4)),\n                                            /* :: */[\n                                              Css.position(/* absolute */-1013592457),\n                                              /* :: */[\n                                                Css.top(Css.px(0)),\n                                                /* :: */[\n                                                  Css.right(Css.px(0)),\n                                                  /* :: */[\n                                                    Css.alignSelf(/* center */98248149),\n                                                    /* :: */[\n                                                      Css.margin2(Css.px(0), /* auto */-1065951377),\n                                                      /* :: */[\n                                                        Css.hover(/* :: */[\n                                                              Css.color(Css.hex(\"fff\")),\n                                                              /* [] */0\n                                                            ]),\n                                                        /* [] */0\n                                                      ]\n                                                    ]\n                                                  ]\n                                                ]\n                                              ]\n                                            ]\n                                          ]\n                                        ]\n                                      ]\n                                    ]),\n                                onClick: (function (evt) {\n                                    evt.stopPropagation();\n                                    return Curry._1(onSaveScene, scene);\n                                  })\n                              }, React.createElement(MdReverseCamera, {\n                                    color: \"currentcolor\"\n                                  }))\n                        }) : null), match$3 ? null : React.createElement(\"div\", undefined, Belt_Array.map(scene[/* children */5], (function (key) {\n                            return React.createElement(\"div\", undefined, key);\n                          }))));\n  } else {\n    return React.createElement(\"div\", undefined, \"Loading...\");\n  }\n}\n\nvar Scene = /* module */[/* make */ScenePicker$Scene];\n\nfunction ScenePicker(Props) {\n  var directory = Props.directory;\n  var current = Props.current;\n  var onSelect = Props.onSelect;\n  var hover = Props.hover;\n  var unHover = Props.unHover;\n  var onChangeScene = Props.onChangeScene;\n  var onSaveScene = Props.onSaveScene;\n  var match = Hooks.useState(/* record */[\n        /* star */false,\n        /* tags */Belt_SetString.empty\n      ]);\n  var setFilter = match[1];\n  var filter = match[0];\n  var match$1 = filter[/* star */0];\n  return React.createElement(\"div\", {\n              className: Css.style(/* :: */[\n                    Css.flex(1),\n                    /* :: */[\n                      Css.display(/* flex */-1010954439),\n                      /* :: */[\n                        Css.flexDirection(/* column */-963948842),\n                        /* [] */0\n                      ]\n                    ]\n                  ])\n            }, React.createElement(\"div\", {\n                  className: Styles.row + (\" \" + Css.style(/* :: */[\n                          Css.padding(Css.px(8)),\n                          /* [] */0\n                        ]))\n                }, React.createElement(\"div\", {\n                      className: Styles.titleNoMargin\n                    }, \"Saved scenes\"), Styles.spacer(8), React.createElement(\"button\", {\n                      className: Styles.flatButton(Css.white)\n                    }, \"Organize scenes\"), Styles.spacer(8), \"Filters:\", Styles.spacer(8), React.createElement(\"button\", {\n                      className: Styles.flatButton(Css.white),\n                      onClick: (function (param) {\n                          return Curry._1(setFilter, /* record */[\n                                      /* star */!filter[/* star */0],\n                                      /* tags */filter[/* tags */1]\n                                    ]);\n                        })\n                    }, match$1 ? \"Show all\" : \"Starred\")), React.createElement(\"div\", {\n                  className: Css.style(/* :: */[\n                        Css.flex(1),\n                        /* :: */[\n                          Css.display(/* flex */-1010954439),\n                          /* :: */[\n                            Css.alignItems(/* flexStart */662439529),\n                            /* :: */[\n                              Css.flexDirection(/* row */5693978),\n                              /* :: */[\n                                Css.maxHeight(Css.px(300)),\n                                /* :: */[\n                                  Css.maxWidth(Css.px(1024)),\n                                  /* :: */[\n                                    Css.overflow(/* auto */-1065951377),\n                                    /* :: */[\n                                      Css.flexWrap(/* wrap */-822134326),\n                                      /* [] */0\n                                    ]\n                                  ]\n                                ]\n                              ]\n                            ]\n                          ]\n                        ]\n                      ])\n                }, Belt_List.toArray(Belt_List.map(Belt_List.sort(Belt_List.fromArray(Belt_Array.keep(Belt_MapString.toArray(directory[/* scenes */0]), (function (param) {\n                                        var scene = param[1];\n                                        var match = filter[/* star */0];\n                                        if (match ? scene[/* starred */7] : true) {\n                                          return Belt_SetString.every(filter[/* tags */1], (function (t) {\n                                                        return Belt_SetString.has(scene[/* tags */4], t);\n                                                      }));\n                                        } else {\n                                          return false;\n                                        }\n                                      }))), (function (param, param$1) {\n                                return Caml_primitive.caml_string_compare(param$1[0], param[0]);\n                              })), (function (param) {\n                            var key = param[0];\n                            return React.createElement(ScenePicker$Scene, {\n                                        scene: param[1],\n                                        selected: Caml_obj.caml_equal(current, key),\n                                        onSelect: onSelect,\n                                        hover: hover,\n                                        unHover: unHover,\n                                        onChangeScene: onChangeScene,\n                                        onSaveScene: onSaveScene,\n                                        key: key\n                                      });\n                          })))));\n}\n\nvar make = ScenePicker;\n\nexports.sceneFromKey = sceneFromKey;\nexports.getSceneInfo = getSceneInfo;\nexports.saveSceneInfo = saveSceneInfo;\nexports.urlCache = urlCache;\nexports.useCachedSceneImage = useCachedSceneImage;\nexports.Scene = Scene;\nexports.make = make;\n/* Css Not a pure module */\n\n\n//# sourceURL=webpack:///./ui/ScenePicker.bs.js?");

/***/ }),

/***/ "./ui/Styles.bs.js":
/*!*************************!*\
  !*** ./ui/Styles.bs.js ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("// Generated by BUCKLESCRIPT VERSION 5.0.4, PLEASE EDIT WITH CARE\n\n\nvar Css = __webpack_require__(/*! bs-css/src/Css.js */ \"./node_modules/bs-css/src/Css.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nvar Colors = __webpack_require__(/*! ./Colors.bs.js */ \"./ui/Colors.bs.js\");\nvar $$String = __webpack_require__(/*! bs-platform/lib/js/string.js */ \"./node_modules/bs-platform/lib/js/string.js\");\n\nvar $$Text = /* module */[\n  /* small */16,\n  /* normal */20,\n  /* large */24\n];\n\nvar Spacing = /* module */[\n  /* small */8,\n  /* medium */16,\n  /* large */24\n];\n\nvar title = Css.style(/* :: */[\n      Css.fontSize(Css.px(16)),\n      /* :: */[\n        Css.fontWeight(/* `num */[\n              5496390,\n              600\n            ]),\n        /* :: */[\n          Css.color(Colors.accent),\n          /* :: */[\n            Css.marginBottom(Css.px(8)),\n            /* [] */0\n          ]\n        ]\n      ]\n    ]);\n\nvar titleNoMargin = Css.style(/* :: */[\n      Css.fontSize(Css.px(16)),\n      /* :: */[\n        Css.fontWeight(/* `num */[\n              5496390,\n              600\n            ]),\n        /* :: */[\n          Css.color(Colors.accent),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nfunction join(styles) {\n  return $$String.concat(\" \", styles);\n}\n\nvar control = Css.style(/* :: */[\n      Css.borderRadius(Css.px(4)),\n      /* :: */[\n        Css.boxShadow(undefined, undefined, Css.px(5), Css.px(2), undefined, Colors.accent),\n        /* :: */[\n          Css.backgroundColor(Colors.control),\n          /* :: */[\n            Css.padding2(Css.px(6), Css.px(8)),\n            /* :: */[\n              Css.marginBottom(Css.px(8)),\n              /* [] */0\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nvar column = Css.style(/* :: */[\n      Css.display(/* flex */-1010954439),\n      /* :: */[\n        Css.flexDirection(/* column */-963948842),\n        /* [] */0\n      ]\n    ]);\n\nvar controlColumn = $$String.concat(\" \", /* :: */[\n      control,\n      /* :: */[\n        column,\n        /* [] */0\n      ]\n    ]);\n\nfunction spacer(v) {\n  return React.createElement(\"div\", {\n              style: {\n                flexBasis: String(v) + \"px\"\n              }\n            });\n}\n\nvar fullSpace = React.createElement(\"div\", {\n      style: {\n        flex: \"1\"\n      }\n    });\n\nvar row = Css.style(/* :: */[\n      Css.display(/* flex */-1010954439),\n      /* :: */[\n        Css.flexDirection(/* row */5693978),\n        /* :: */[\n          Css.alignItems(/* center */98248149),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nfunction flatButton(textColor) {\n  return Css.style(/* :: */[\n              Css.backgroundColor(/* transparent */582626130),\n              /* :: */[\n                Css.color(textColor),\n                /* [] */0\n              ]\n            ]);\n}\n\nfunction flatButtonSelectable(textColor, selected) {\n  return Css.style(/* :: */[\n              Css.backgroundColor(selected ? Colors.accent : /* transparent */582626130),\n              /* :: */[\n                Css.color(textColor),\n                /* [] */0\n              ]\n            ]);\n}\n\nvar iconButton = Css.style(/* :: */[\n      Css.padding(Css.px(4)),\n      /* :: */[\n        Css.backgroundColor(Colors.button),\n        /* [] */0\n      ]\n    ]);\n\nvar colorButton = Css.style(/* :: */[\n      Css.padding(Css.px(4)),\n      /* :: */[\n        Css.backgroundColor(/* transparent */582626130),\n        /* :: */[\n          Css.color(Css.hex(\"aaa\")),\n          /* :: */[\n            Css.hover(/* :: */[\n                  Css.color(Colors.accent),\n                  /* [] */0\n                ]),\n            /* :: */[\n              Css.disabled(/* :: */[\n                    Css.color(Colors.accent),\n                    /* :: */[\n                      Css.hover(/* :: */[\n                            Css.color(Colors.accent),\n                            /* [] */0\n                          ]),\n                      /* [] */0\n                    ]\n                  ]),\n              /* [] */0\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nfunction toggleButton(active) {\n  return Css.style(/* :: */[\n              Css.padding(Css.px(4)),\n              /* :: */[\n                Css.backgroundColor(active ? Colors.accent : /* transparent */582626130),\n                /* :: */[\n                  Css.border(Css.px(2), /* solid */12956715, Colors.accent),\n                  /* :: */[\n                    Css.hover(active ? /* :: */[\n                            Css.backgroundColor(Colors.accent),\n                            /* [] */0\n                          ] : /* [] */0),\n                    /* [] */0\n                  ]\n                ]\n              ]\n            ]);\n}\n\nvar multiButton = Css.style(/* :: */[\n      Css.padding(Css.px(4)),\n      /* :: */[\n        Css.backgroundColor(/* transparent */582626130),\n        /* :: */[\n          Css.disabled(/* :: */[\n                Css.backgroundColor(Colors.accent),\n                /* :: */[\n                  Css.hover(/* :: */[\n                        Css.backgroundColor(Colors.accent),\n                        /* [] */0\n                      ]),\n                  /* [] */0\n                ]\n              ]),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nexports.$$Text = $$Text;\nexports.Spacing = Spacing;\nexports.title = title;\nexports.titleNoMargin = titleNoMargin;\nexports.join = join;\nexports.control = control;\nexports.column = column;\nexports.controlColumn = controlColumn;\nexports.spacer = spacer;\nexports.fullSpace = fullSpace;\nexports.row = row;\nexports.flatButton = flatButton;\nexports.flatButtonSelectable = flatButtonSelectable;\nexports.iconButton = iconButton;\nexports.colorButton = colorButton;\nexports.toggleButton = toggleButton;\nexports.multiButton = multiButton;\n/* title Not a pure module */\n\n\n//# sourceURL=webpack:///./ui/Styles.bs.js?");

/***/ }),

/***/ "./ui/TagsEditor.bs.js":
/*!*****************************!*\
  !*** ./ui/TagsEditor.bs.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("// Generated by BUCKLESCRIPT VERSION 5.0.4, PLEASE EDIT WITH CARE\n\n\nvar Css = __webpack_require__(/*! bs-css/src/Css.js */ \"./node_modules/bs-css/src/Css.js\");\nvar Curry = __webpack_require__(/*! bs-platform/lib/js/curry.js */ \"./node_modules/bs-platform/lib/js/curry.js\");\nvar Types = __webpack_require__(/*! ./Types.bs.js */ \"./ui/Types.bs.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nvar Colors = __webpack_require__(/*! ./Colors.bs.js */ \"./ui/Colors.bs.js\");\nvar Styles = __webpack_require__(/*! ./Styles.bs.js */ \"./ui/Styles.bs.js\");\nvar Belt_Array = __webpack_require__(/*! bs-platform/lib/js/belt_Array.js */ \"./node_modules/bs-platform/lib/js/belt_Array.js\");\nvar Caml_option = __webpack_require__(/*! bs-platform/lib/js/caml_option.js */ \"./node_modules/bs-platform/lib/js/caml_option.js\");\nvar Belt_MapString = __webpack_require__(/*! bs-platform/lib/js/belt_MapString.js */ \"./node_modules/bs-platform/lib/js/belt_MapString.js\");\nvar Belt_SetString = __webpack_require__(/*! bs-platform/lib/js/belt_SetString.js */ \"./node_modules/bs-platform/lib/js/belt_SetString.js\");\nvar MdClose = __webpack_require__(/*! react-ionicons/lib/MdClose */ \"./node_modules/react-ionicons/lib/MdClose.js\");\nvar MdPricetag = __webpack_require__(/*! react-ionicons/lib/MdPricetag */ \"./node_modules/react-ionicons/lib/MdPricetag.js\");\n\nvar item = Css.style(/* :: */[\n      Css.padding(Css.px(4)),\n      /* :: */[\n        Css.cursor(/* pointer */-786317123),\n        /* :: */[\n          Css.hover(/* :: */[\n                Css.backgroundColor(Css.hex(\"eee\")),\n                /* [] */0\n              ]),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nvar selectedItem = Styles.join(/* :: */[\n      item,\n      /* :: */[\n        Css.style(/* :: */[\n              Css.backgroundColor(Colors.button),\n              /* [] */0\n            ]),\n        /* [] */0\n      ]\n    ]);\n\nfunction reduce(state, action) {\n  if (typeof action === \"number\") {\n    if (action >= 759637122) {\n      if (action >= 881668074) {\n        return /* record */[\n                /* value */state[/* value */0],\n                /* selection */0,\n                /* items */state[/* items */2]\n              ];\n      } else {\n        var match = state[/* selection */1];\n        var tmp;\n        if (match !== undefined) {\n          var i = match;\n          var match$1 = i < state[/* items */2].length;\n          tmp = match$1 ? i + 1 | 0 : 0;\n        } else {\n          tmp = undefined;\n        }\n        return /* record */[\n                /* value */state[/* value */0],\n                /* selection */tmp,\n                /* items */state[/* items */2]\n              ];\n      }\n    } else if (action >= 19067) {\n      var match$2 = state[/* selection */1];\n      var tmp$1;\n      if (match$2 !== undefined) {\n        var i$1 = match$2;\n        var match$3 = i$1 > 0;\n        tmp$1 = match$3 ? i$1 - 1 | 0 : state[/* items */2].length;\n      } else {\n        tmp$1 = undefined;\n      }\n      return /* record */[\n              /* value */state[/* value */0],\n              /* selection */tmp$1,\n              /* items */state[/* items */2]\n            ];\n    } else {\n      return /* record */[\n              /* value */state[/* value */0],\n              /* selection */undefined,\n              /* items */state[/* items */2]\n            ];\n    }\n  } else {\n    var variant = action[0];\n    if (variant !== 759635106) {\n      if (variant >= 937565914) {\n        var match$4 = action[1];\n        var value = match$4[0];\n        return /* record */[\n                /* value */value,\n                /* selection */0,\n                /* items */Curry._1(match$4[1], value)\n              ];\n      } else {\n        return /* record */[\n                /* value */state[/* value */0],\n                /* selection */state[/* selection */1],\n                /* items */action[1]\n              ];\n      }\n    } else {\n      return /* record */[\n              /* value */\"\",\n              /* selection */state[/* selection */1],\n              /* items */Curry._1(action[1], \"\")\n            ];\n    }\n  }\n}\n\nfunction TagsEditor$DropDown(Props) {\n  var onSelect = Props.onSelect;\n  var onCreate = Props.onCreate;\n  var getList = Props.getList;\n  var render = Props.render;\n  var match = React.useReducer(reduce, /* record */[\n        /* value */\"\",\n        /* selection */undefined,\n        /* items */Curry._1(getList, \"\")\n      ]);\n  var dispatch = match[1];\n  var state = match[0];\n  React.useEffect((function () {\n          Curry._1(dispatch, /* `UpdateList */[\n                -149353689,\n                Curry._1(getList, state[/* value */0])\n              ]);\n          return undefined;\n        }), /* array */[getList]);\n  var match$1 = state[/* selection */1];\n  var tmp;\n  if (match$1 !== undefined) {\n    var selection = match$1;\n    var match$2 = selection === state[/* items */2].length;\n    tmp = React.createElement(\"div\", {\n          className: Css.style(/* :: */[\n                Css.zIndex(1000),\n                /* :: */[\n                  Css.position(/* absolute */-1013592457),\n                  /* :: */[\n                    Css.top(/* `percent */[\n                          -119887163,\n                          100.0\n                        ]),\n                    /* :: */[\n                      Css.maxHeight(Css.px(200)),\n                      /* :: */[\n                        Css.overflow(/* auto */-1065951377),\n                        /* :: */[\n                          Css.backgroundColor(Css.white),\n                          /* :: */[\n                            Css.boxShadow(undefined, undefined, Css.px(5), undefined, undefined, Colors.accent),\n                            /* :: */[\n                              Css.padding(Css.px(8)),\n                              /* :: */[\n                                Css.left(Css.px(0)),\n                                /* [] */0\n                              ]\n                            ]\n                          ]\n                        ]\n                      ]\n                    ]\n                  ]\n                ]\n              ])\n        }, Belt_Array.mapWithIndex(state[/* items */2], (function (i, item) {\n                return Curry._3(render, i === selection, item, (function (param) {\n                              Curry._1(dispatch, /* `Done */[\n                                    759635106,\n                                    getList\n                                  ]);\n                              return Curry._1(onSelect, item);\n                            }));\n              })), React.createElement(\"div\", {\n              className: match$2 ? selectedItem : item,\n              onClick: (function (param) {\n                  Curry._1(dispatch, /* Close */-611285096);\n                  return Curry._1(onCreate, state[/* value */0]);\n                })\n            }, \"Create new: \" + state[/* value */0]));\n  } else {\n    tmp = null;\n  }\n  return React.createElement(\"div\", {\n              className: Css.style(/* :: */[\n                    Css.position(/* relative */903134412),\n                    /* [] */0\n                  ])\n            }, React.createElement(\"input\", {\n                  className: Css.style(/* :: */[\n                        Css.backgroundColor(/* transparent */582626130),\n                        /* :: */[\n                          Css.color(Css.white),\n                          /* :: */[\n                            Css.padding(Css.px(8)),\n                            /* :: */[\n                              Css.borderStyle(/* none */-922086728),\n                              /* [] */0\n                            ]\n                          ]\n                        ]\n                      ]),\n                  placeholder: \"Add a tag\",\n                  value: state[/* value */0],\n                  onKeyDown: (function (evt) {\n                      var match = evt.key;\n                      var exit = 0;\n                      switch (match) {\n                        case \"ArrowDown\" : \n                            return Curry._1(dispatch, /* Down */759637122);\n                        case \"ArrowUp\" : \n                            return Curry._1(dispatch, /* Up */19067);\n                        case \"Escape\" : \n                            return Curry._1(dispatch, /* Close */-611285096);\n                        case \"Enter\" : \n                        case \"Return\" : \n                            exit = 1;\n                            break;\n                        default:\n                          return /* () */0;\n                      }\n                      if (exit === 1) {\n                        evt.preventDefault();\n                        Curry._1(dispatch, /* `Done */[\n                              759635106,\n                              getList\n                            ]);\n                        var match$1 = state[/* selection */1];\n                        if (match$1 !== undefined) {\n                          var i = match$1;\n                          if (i === state[/* items */2].length) {\n                            return Curry._1(onCreate, state[/* value */0]);\n                          } else {\n                            var match$2 = Belt_Array.get(state[/* items */2], i);\n                            if (match$2 !== undefined) {\n                              return Curry._1(onSelect, Caml_option.valFromOption(match$2));\n                            } else {\n                              return /* () */0;\n                            }\n                          }\n                        } else {\n                          return /* () */0;\n                        }\n                      }\n                      \n                    }),\n                  onFocus: (function (param) {\n                      return Curry._1(dispatch, /* Open */881668074);\n                    }),\n                  onBlur: (function (param) {\n                      return Curry._1(dispatch, /* Close */-611285096);\n                    }),\n                  onChange: (function (evt) {\n                      var text = evt.target.value;\n                      return Curry._1(dispatch, /* `Type */[\n                                  937565914,\n                                  /* tuple */[\n                                    text,\n                                    getList\n                                  ]\n                                ]);\n                    })\n                }), tmp);\n}\n\nvar DropDown = /* module */[\n  /* reduce */reduce,\n  /* make */TagsEditor$DropDown\n];\n\nfunction TagsEditor(Props) {\n  var sceneTags = Props.sceneTags;\n  var tags = Props.tags;\n  var onChange = Props.onChange;\n  var onUpdateTags = Props.onUpdateTags;\n  var onClickTag = Props.onClickTag;\n  var highlightedTags = Props.highlightedTags;\n  var getList = React.useCallback((function (text) {\n          return Belt_Array.keep(Belt_MapString.valuesToArray(tags), (function (t) {\n                          if (Belt_SetString.has(sceneTags, t[/* id */0])) {\n                            return false;\n                          } else {\n                            return t[/* title */2].includes(text);\n                          }\n                        })).sort((function (t1, t2) {\n                        return t1[/* title */2].indexOf(text) - t2[/* title */2].indexOf(text) | 0;\n                      }));\n        }), /* tuple */[\n        sceneTags,\n        tags\n      ]);\n  return React.createElement(\"div\", {\n              className: Styles.row\n            }, React.createElement(MdPricetag, {\n                  className: Css.style(/* :: */[\n                        Css.margin(Css.px(8)),\n                        /* [] */0\n                      ]),\n                  color: \"white\"\n                }), React.createElement(\"div\", {\n                  className: Styles.join(/* :: */[\n                        Styles.row,\n                        /* :: */[\n                          Css.style(/* :: */[\n                                Css.flexWrap(/* wrap */-822134326),\n                                /* :: */[\n                                  Css.flexShrink(1),\n                                  /* [] */0\n                                ]\n                              ]),\n                          /* [] */0\n                        ]\n                      ])\n                }, Belt_Array.map(Belt_SetString.toArray(sceneTags), (function (tid) {\n                        var match = Belt_MapString.get(tags, tid);\n                        if (match !== undefined) {\n                          var tag = match;\n                          var match$1 = Belt_SetString.has(highlightedTags, tid);\n                          return React.createElement(\"div\", {\n                                      className: Css.style(/* :: */[\n                                            Css.flexShrink(0),\n                                            /* :: */[\n                                              Css.cursor(/* pointer */-786317123),\n                                              /* :: */[\n                                                Css.borderRadius(Css.px(4)),\n                                                /* :: */[\n                                                  Css.marginTop(Css.px(2)),\n                                                  /* :: */[\n                                                    Css.display(/* flex */-1010954439),\n                                                    /* :: */[\n                                                      Css.alignItems(/* center */98248149),\n                                                      /* :: */[\n                                                        Css.flexDirection(/* row */5693978),\n                                                        /* :: */[\n                                                          Css.marginBottom(Css.px(2)),\n                                                          /* :: */[\n                                                            Css.marginRight(Css.px(8)),\n                                                            /* :: */[\n                                                              Css.backgroundColor(match$1 ? Colors.accent : Colors.button),\n                                                              /* :: */[\n                                                                Css.hover(/* :: */[\n                                                                      Css.backgroundColor(Colors.accent),\n                                                                      /* [] */0\n                                                                    ]),\n                                                                /* [] */0\n                                                              ]\n                                                            ]\n                                                          ]\n                                                        ]\n                                                      ]\n                                                    ]\n                                                  ]\n                                                ]\n                                              ]\n                                            ]\n                                          ]),\n                                      onClick: (function (param) {\n                                          return Curry._1(onClickTag, tag[/* id */0]);\n                                        })\n                                    }, React.createElement(\"div\", {\n                                          className: Css.style(/* :: */[\n                                                Css.padding2(Css.px(3), Css.px(8)),\n                                                /* [] */0\n                                              ])\n                                        }, tag[/* title */2]), React.createElement(\"button\", {\n                                          className: Styles.join(/* :: */[\n                                                Styles.iconButton,\n                                                /* [] */0\n                                              ]),\n                                          onClick: (function (evt) {\n                                              evt.stopPropagation();\n                                              return Curry._1(onChange, Belt_SetString.remove(sceneTags, tag[/* id */0]));\n                                            })\n                                        }, React.createElement(MdClose, {\n                                              color: \"currentcolor\"\n                                            })));\n                        } else {\n                          return null;\n                        }\n                      }))), Styles.spacer(8), React.createElement(TagsEditor$DropDown, {\n                  onSelect: (function (tag) {\n                      return Curry._1(onChange, Belt_SetString.add(sceneTags, tag[/* id */0]));\n                    }),\n                  onCreate: (function (title) {\n                      var id = Types.genId(/* () */0);\n                      return Curry._1(onUpdateTags, Belt_MapString.set(tags, id, /* record */[\n                                      /* id */id,\n                                      /* color */\"white\",\n                                      /* title */title\n                                    ]));\n                    }),\n                  getList: getList,\n                  render: (function (selected, tag, onClick) {\n                      return React.createElement(\"div\", {\n                                  key: tag[/* id */0],\n                                  className: selected ? Styles.join(/* :: */[\n                                          item,\n                                          /* :: */[\n                                            selectedItem,\n                                            /* [] */0\n                                          ]\n                                        ]) : item,\n                                  onMouseDown: (function (_evt) {\n                                      return Curry._1(onClick, /* () */0);\n                                    })\n                                }, tag[/* title */2]);\n                    })\n                }));\n}\n\nvar make = TagsEditor;\n\nexports.item = item;\nexports.selectedItem = selectedItem;\nexports.DropDown = DropDown;\nexports.make = make;\n/* item Not a pure module */\n\n\n//# sourceURL=webpack:///./ui/TagsEditor.bs.js?");

/***/ }),

/***/ "./ui/Tippy.bs.js":
/*!************************!*\
  !*** ./ui/Tippy.bs.js ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("// Generated by BUCKLESCRIPT VERSION 5.0.4, PLEASE EDIT WITH CARE\n\n\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nvar React$1 = __webpack_require__(/*! @tippy.js/react */ \"./node_modules/@tippy.js/react/esm/index.js\");\n\nvar Base = /* module */[];\n\nfunction Tippy(Props) {\n  var content = Props.content;\n  var children = Props.children;\n  return React.createElement(React$1.default, {\n              content: content,\n              arrow: true,\n              animation: \"fade\",\n              enabled: true,\n              children: children\n            });\n}\n\nvar El = /* module */[];\n\nvar make = Tippy;\n\nexports.Base = Base;\nexports.make = make;\nexports.El = El;\n/* react Not a pure module */\n\n\n//# sourceURL=webpack:///./ui/Tippy.bs.js?");

/***/ }),

/***/ "./ui/TransformHelpers.bs.js":
/*!***********************************!*\
  !*** ./ui/TransformHelpers.bs.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("// Generated by BUCKLESCRIPT VERSION 5.0.4, PLEASE EDIT WITH CARE\n\n\nvar Belt_MapString = __webpack_require__(/*! bs-platform/lib/js/belt_MapString.js */ \"./node_modules/bs-platform/lib/js/belt_MapString.js\");\n\nfunction migrate_Belt_MapString__t(migrateValue, t) {\n  return Belt_MapString.map(t, migrateValue);\n}\n\nexports.migrate_Belt_MapString__t = migrate_Belt_MapString__t;\n/* No side effect */\n\n\n//# sourceURL=webpack:///./ui/TransformHelpers.bs.js?");

/***/ }),

/***/ "./ui/TypeHelpers.bs.js":
/*!******************************!*\
  !*** ./ui/TypeHelpers.bs.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("// Generated by BUCKLESCRIPT VERSION 5.0.4, PLEASE EDIT WITH CARE\n\n\nvar Block = __webpack_require__(/*! bs-platform/lib/js/block.js */ \"./node_modules/bs-platform/lib/js/block.js\");\nvar Curry = __webpack_require__(/*! bs-platform/lib/js/curry.js */ \"./node_modules/bs-platform/lib/js/curry.js\");\nvar Js_dict = __webpack_require__(/*! bs-platform/lib/js/js_dict.js */ \"./node_modules/bs-platform/lib/js/js_dict.js\");\nvar Js_json = __webpack_require__(/*! bs-platform/lib/js/js_json.js */ \"./node_modules/bs-platform/lib/js/js_json.js\");\nvar Belt_Array = __webpack_require__(/*! bs-platform/lib/js/belt_Array.js */ \"./node_modules/bs-platform/lib/js/belt_Array.js\");\nvar Belt_MapString = __webpack_require__(/*! bs-platform/lib/js/belt_MapString.js */ \"./node_modules/bs-platform/lib/js/belt_MapString.js\");\nvar Belt_SetString = __webpack_require__(/*! bs-platform/lib/js/belt_SetString.js */ \"./node_modules/bs-platform/lib/js/belt_SetString.js\");\n\nfunction deserialize_Belt_SetString____t(json) {\n  var match = Js_json.classify(json);\n  if (typeof match === \"number\" || match.tag !== 3) {\n    return /* Error */Block.__(1, [/* :: */[\n                \"Expected an array\",\n                /* [] */0\n              ]]);\n  } else {\n    return Belt_Array.reduce(match[0], /* Ok */Block.__(0, [Belt_SetString.empty]), (function (set, item) {\n                  var match = Js_json.classify(item);\n                  if (set.tag) {\n                    return /* Error */Block.__(1, [set[0]]);\n                  } else if (typeof match === \"number\" || match.tag) {\n                    return /* Error */Block.__(1, [/* :: */[\n                                \"Expected a string in the set array\",\n                                /* [] */0\n                              ]]);\n                  } else {\n                    return /* Ok */Block.__(0, [Belt_SetString.add(set[0], match[0])]);\n                  }\n                }));\n  }\n}\n\nvar serialize_Belt_SetString____t = Belt_SetString.toArray;\n\nfunction deserialize_Belt_MapString____t(converter, json) {\n  var match = Js_json.classify(json);\n  if (typeof match === \"number\" || match.tag !== 2) {\n    return /* Error */Block.__(1, [/* :: */[\n                \"Expected an object\",\n                /* [] */0\n              ]]);\n  } else {\n    return Belt_Array.reduce(Js_dict.entries(match[0]), /* Ok */Block.__(0, [Belt_MapString.empty]), (function (map, param) {\n                  if (map.tag) {\n                    return map;\n                  } else {\n                    var match = Curry._1(converter, param[1]);\n                    if (match.tag) {\n                      return /* Error */Block.__(1, [match[0]]);\n                    } else {\n                      return /* Ok */Block.__(0, [Belt_MapString.set(map[0], param[0], match[0])]);\n                    }\n                  }\n                }));\n  }\n}\n\nfunction serialize_Belt_MapString____t(converter, map) {\n  return Js_dict.fromArray(Belt_Array.map(Belt_MapString.toArray(map), (function (param) {\n                    return /* tuple */[\n                            param[0],\n                            Curry._1(converter, param[1])\n                          ];\n                  })));\n}\n\nexports.deserialize_Belt_SetString____t = deserialize_Belt_SetString____t;\nexports.serialize_Belt_SetString____t = serialize_Belt_SetString____t;\nexports.deserialize_Belt_MapString____t = deserialize_Belt_MapString____t;\nexports.serialize_Belt_MapString____t = serialize_Belt_MapString____t;\n/* No side effect */\n\n\n//# sourceURL=webpack:///./ui/TypeHelpers.bs.js?");

/***/ }),

/***/ "./ui/TypeSerde.bs.js":
/*!****************************!*\
  !*** ./ui/TypeSerde.bs.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("// Generated by BUCKLESCRIPT VERSION 5.0.4, PLEASE EDIT WITH CARE\n\n\nvar $$Array = __webpack_require__(/*! bs-platform/lib/js/array.js */ \"./node_modules/bs-platform/lib/js/array.js\");\nvar Block = __webpack_require__(/*! bs-platform/lib/js/block.js */ \"./node_modules/bs-platform/lib/js/block.js\");\nvar Curry = __webpack_require__(/*! bs-platform/lib/js/curry.js */ \"./node_modules/bs-platform/lib/js/curry.js\");\nvar Js_dict = __webpack_require__(/*! bs-platform/lib/js/js_dict.js */ \"./node_modules/bs-platform/lib/js/js_dict.js\");\nvar Js_json = __webpack_require__(/*! bs-platform/lib/js/js_json.js */ \"./node_modules/bs-platform/lib/js/js_json.js\");\nvar Belt_List = __webpack_require__(/*! bs-platform/lib/js/belt_List.js */ \"./node_modules/bs-platform/lib/js/belt_List.js\");\nvar Belt_Array = __webpack_require__(/*! bs-platform/lib/js/belt_Array.js */ \"./node_modules/bs-platform/lib/js/belt_Array.js\");\nvar Caml_option = __webpack_require__(/*! bs-platform/lib/js/caml_option.js */ \"./node_modules/bs-platform/lib/js/caml_option.js\");\nvar TypeHelpers = __webpack_require__(/*! ./TypeHelpers.bs.js */ \"./ui/TypeHelpers.bs.js\");\nvar TransformHelpers = __webpack_require__(/*! ./TransformHelpers.bs.js */ \"./ui/TransformHelpers.bs.js\");\n\nvar Types1 = /* module */[];\n\nvar migrate_Belt_MapString____t = TransformHelpers.migrate_Belt_MapString__t;\n\nfunction migrate_Belt_SetString____t(_input_data) {\n  return _input_data;\n}\n\nfunction migrate_Types____tag(_input_data) {\n  return _input_data;\n}\n\nfunction migrate_Types____scene(_input_data) {\n  var _converted_id = _input_data[/* id */0];\n  var _converted_modified = _input_data[/* modified */1];\n  var _converted_created = _input_data[/* created */2];\n  var match = _input_data[/* title */3];\n  var _converted_title = match !== undefined ? match : undefined;\n  var _converted_tags = _input_data[/* tags */4];\n  var _converted_children = $$Array.map((function (_item) {\n          return _item;\n        }), _input_data[/* children */5]);\n  var match$1 = _input_data[/* parent */6];\n  var _converted_parent = match$1 !== undefined ? match$1 : undefined;\n  return /* record */[\n          /* id */_converted_id,\n          /* modified */_converted_modified,\n          /* created */_converted_created,\n          /* title */_converted_title,\n          /* tags */_converted_tags,\n          /* children */_converted_children,\n          /* parent */_converted_parent,\n          /* starred */false\n        ];\n}\n\nfunction migrate_Types____directory(_input_data) {\n  var _converted_scenes = TransformHelpers.migrate_Belt_MapString__t(migrate_Types____scene, _input_data[/* scenes */0]);\n  var _converted_tags = TransformHelpers.migrate_Belt_MapString__t((function (arg) {\n          return arg;\n        }), _input_data[/* tags */1]);\n  return /* record */[\n          /* scenes */_converted_scenes,\n          /* tags */_converted_tags\n        ];\n}\n\nvar Types2 = /* module */[\n  /* migrate_Belt_MapString____t */migrate_Belt_MapString____t,\n  /* migrate_Belt_SetString____t */migrate_Belt_SetString____t,\n  /* migrate_Types____directory */migrate_Types____directory,\n  /* migrate_Types____scene */migrate_Types____scene,\n  /* migrate_Types____tag */migrate_Types____tag\n];\n\nvar schemaPropertyName = \"$schemaVersion\";\n\nvar deserialize_Belt_SetString____t = TypeHelpers.deserialize_Belt_SetString____t;\n\nfunction deserialize_Belt_MapString____t(valueTransformer) {\n  return (function (param) {\n      return TypeHelpers.deserialize_Belt_MapString____t(valueTransformer, param);\n    });\n}\n\nfunction deserialize_Types____scene(record) {\n  var match = Js_json.classify(record);\n  if (typeof match === \"number\" || match.tag !== 2) {\n    return /* Error */Block.__(1, [/* :: */[\n                \"Expected an object\",\n                /* [] */0\n              ]]);\n  } else {\n    var dict = match[0];\n    var inner = function (attr_parent) {\n      var match = Js_dict.get(dict, \"children\");\n      if (match !== undefined) {\n        var transformer = function (string) {\n          var match = Js_json.classify(string);\n          if (typeof match === \"number\" || match.tag) {\n            return /* Error */Block.__(1, [/* :: */[\n                        \"expected a string\",\n                        /* [] */0\n                      ]]);\n          } else {\n            return /* Ok */Block.__(0, [match[0]]);\n          }\n        };\n        var match$1 = Js_json.classify(Caml_option.valFromOption(match));\n        var match$2;\n        if (typeof match$1 === \"number\" || match$1.tag !== 3) {\n          match$2 = /* Error */Block.__(1, [/* :: */[\n                \"expected an array\",\n                /* [] */0\n              ]]);\n        } else {\n          var loop = function (_i, _collected, _items) {\n            while(true) {\n              var items = _items;\n              var collected = _collected;\n              var i = _i;\n              if (items) {\n                var match = transformer(items[0]);\n                if (match.tag) {\n                  return /* Error */Block.__(1, [/* :: */[\n                              \"list element \" + String(i),\n                              match[0]\n                            ]]);\n                } else {\n                  _items = items[1];\n                  _collected = /* :: */[\n                    match[0],\n                    collected\n                  ];\n                  _i = i + 1 | 0;\n                  continue ;\n                }\n              } else {\n                return /* Ok */Block.__(0, [Belt_List.reverse(collected)]);\n              }\n            };\n          };\n          var match$3 = loop(0, /* [] */0, Belt_List.fromArray(match$1[0]));\n          match$2 = match$3.tag ? /* Error */Block.__(1, [match$3[0]]) : /* Ok */Block.__(0, [Belt_List.toArray(match$3[0])]);\n        }\n        if (match$2.tag) {\n          return /* Error */Block.__(1, [/* :: */[\n                      \"attribute 'children'\",\n                      match$2[0]\n                    ]]);\n        } else {\n          var attr_children = match$2[0];\n          var match$4 = Js_dict.get(dict, \"tags\");\n          if (match$4 !== undefined) {\n            var match$5 = Curry._1(deserialize_Belt_SetString____t, Caml_option.valFromOption(match$4));\n            if (match$5.tag) {\n              return /* Error */Block.__(1, [/* :: */[\n                          \"attribute 'tags'\",\n                          match$5[0]\n                        ]]);\n            } else {\n              var attr_tags = match$5[0];\n              var inner$1 = function (attr_title) {\n                var match = Js_dict.get(dict, \"created\");\n                if (match !== undefined) {\n                  var match$1 = Js_json.classify(Caml_option.valFromOption(match));\n                  var match$2;\n                  match$2 = typeof match$1 === \"number\" || match$1.tag !== 1 ? /* Error */Block.__(1, [/* :: */[\n                          \"Expected a float\",\n                          /* [] */0\n                        ]]) : /* Ok */Block.__(0, [match$1[0]]);\n                  if (match$2.tag) {\n                    return /* Error */Block.__(1, [/* :: */[\n                                \"attribute 'created'\",\n                                match$2[0]\n                              ]]);\n                  } else {\n                    var attr_created = match$2[0];\n                    var match$3 = Js_dict.get(dict, \"modified\");\n                    if (match$3 !== undefined) {\n                      var match$4 = Js_json.classify(Caml_option.valFromOption(match$3));\n                      var match$5;\n                      match$5 = typeof match$4 === \"number\" || match$4.tag !== 1 ? /* Error */Block.__(1, [/* :: */[\n                              \"Expected a float\",\n                              /* [] */0\n                            ]]) : /* Ok */Block.__(0, [match$4[0]]);\n                      if (match$5.tag) {\n                        return /* Error */Block.__(1, [/* :: */[\n                                    \"attribute 'modified'\",\n                                    match$5[0]\n                                  ]]);\n                      } else {\n                        var attr_modified = match$5[0];\n                        var match$6 = Js_dict.get(dict, \"id\");\n                        if (match$6 !== undefined) {\n                          var match$7 = Js_json.classify(Caml_option.valFromOption(match$6));\n                          var match$8;\n                          match$8 = typeof match$7 === \"number\" || match$7.tag ? /* Error */Block.__(1, [/* :: */[\n                                  \"expected a string\",\n                                  /* [] */0\n                                ]]) : /* Ok */Block.__(0, [match$7[0]]);\n                          if (match$8.tag) {\n                            return /* Error */Block.__(1, [/* :: */[\n                                        \"attribute 'id'\",\n                                        match$8[0]\n                                      ]]);\n                          } else {\n                            var attr_id = match$8[0];\n                            return /* Ok */Block.__(0, [/* record */[\n                                        /* id */attr_id,\n                                        /* modified */attr_modified,\n                                        /* created */attr_created,\n                                        /* title */attr_title,\n                                        /* tags */attr_tags,\n                                        /* children */attr_children,\n                                        /* parent */attr_parent\n                                      ]]);\n                          }\n                        } else {\n                          return /* Error */Block.__(1, [/* :: */[\n                                      \"No attribute 'id'\",\n                                      /* [] */0\n                                    ]]);\n                        }\n                      }\n                    } else {\n                      return /* Error */Block.__(1, [/* :: */[\n                                  \"No attribute 'modified'\",\n                                  /* [] */0\n                                ]]);\n                    }\n                  }\n                } else {\n                  return /* Error */Block.__(1, [/* :: */[\n                              \"No attribute 'created'\",\n                              /* [] */0\n                            ]]);\n                }\n              };\n              var match$6 = Js_dict.get(dict, \"title\");\n              if (match$6 !== undefined) {\n                var json = Caml_option.valFromOption(match$6);\n                var transformer$1 = function (string) {\n                  var match = Js_json.classify(string);\n                  if (typeof match === \"number\" || match.tag) {\n                    return /* Error */Block.__(1, [/* :: */[\n                                \"expected a string\",\n                                /* [] */0\n                              ]]);\n                  } else {\n                    return /* Ok */Block.__(0, [match[0]]);\n                  }\n                };\n                var match$7 = Js_json.classify(json);\n                var match$8;\n                var exit = 0;\n                if (typeof match$7 === \"number\" && match$7 >= 2) {\n                  match$8 = /* Ok */Block.__(0, [undefined]);\n                } else {\n                  exit = 1;\n                }\n                if (exit === 1) {\n                  var match$9 = transformer$1(json);\n                  match$8 = match$9.tag ? /* Error */Block.__(1, [/* :: */[\n                          \"optional value\",\n                          match$9[0]\n                        ]]) : /* Ok */Block.__(0, [match$9[0]]);\n                }\n                if (match$8.tag) {\n                  return /* Error */Block.__(1, [/* :: */[\n                              \"attribute 'title'\",\n                              match$8[0]\n                            ]]);\n                } else {\n                  return inner$1(match$8[0]);\n                }\n              } else {\n                return inner$1(undefined);\n              }\n            }\n          } else {\n            return /* Error */Block.__(1, [/* :: */[\n                        \"No attribute 'tags'\",\n                        /* [] */0\n                      ]]);\n          }\n        }\n      } else {\n        return /* Error */Block.__(1, [/* :: */[\n                    \"No attribute 'children'\",\n                    /* [] */0\n                  ]]);\n      }\n    };\n    var match$1 = Js_dict.get(dict, \"parent\");\n    if (match$1 !== undefined) {\n      var json = Caml_option.valFromOption(match$1);\n      var transformer = function (string) {\n        var match = Js_json.classify(string);\n        if (typeof match === \"number\" || match.tag) {\n          return /* Error */Block.__(1, [/* :: */[\n                      \"expected a string\",\n                      /* [] */0\n                    ]]);\n        } else {\n          return /* Ok */Block.__(0, [match[0]]);\n        }\n      };\n      var match$2 = Js_json.classify(json);\n      var match$3;\n      var exit = 0;\n      if (typeof match$2 === \"number\" && match$2 >= 2) {\n        match$3 = /* Ok */Block.__(0, [undefined]);\n      } else {\n        exit = 1;\n      }\n      if (exit === 1) {\n        var match$4 = transformer(json);\n        match$3 = match$4.tag ? /* Error */Block.__(1, [/* :: */[\n                \"optional value\",\n                match$4[0]\n              ]]) : /* Ok */Block.__(0, [match$4[0]]);\n      }\n      if (match$3.tag) {\n        return /* Error */Block.__(1, [/* :: */[\n                    \"attribute 'parent'\",\n                    match$3[0]\n                  ]]);\n      } else {\n        return inner(match$3[0]);\n      }\n    } else {\n      return inner(undefined);\n    }\n  }\n}\n\nfunction deserialize_Types____tag(record) {\n  var match = Js_json.classify(record);\n  if (typeof match === \"number\" || match.tag !== 2) {\n    return /* Error */Block.__(1, [/* :: */[\n                \"Expected an object\",\n                /* [] */0\n              ]]);\n  } else {\n    var dict = match[0];\n    var match$1 = Js_dict.get(dict, \"title\");\n    if (match$1 !== undefined) {\n      var match$2 = Js_json.classify(Caml_option.valFromOption(match$1));\n      var match$3;\n      match$3 = typeof match$2 === \"number\" || match$2.tag ? /* Error */Block.__(1, [/* :: */[\n              \"expected a string\",\n              /* [] */0\n            ]]) : /* Ok */Block.__(0, [match$2[0]]);\n      if (match$3.tag) {\n        return /* Error */Block.__(1, [/* :: */[\n                    \"attribute 'title'\",\n                    match$3[0]\n                  ]]);\n      } else {\n        var attr_title = match$3[0];\n        var match$4 = Js_dict.get(dict, \"color\");\n        if (match$4 !== undefined) {\n          var match$5 = Js_json.classify(Caml_option.valFromOption(match$4));\n          var match$6;\n          match$6 = typeof match$5 === \"number\" || match$5.tag ? /* Error */Block.__(1, [/* :: */[\n                  \"expected a string\",\n                  /* [] */0\n                ]]) : /* Ok */Block.__(0, [match$5[0]]);\n          if (match$6.tag) {\n            return /* Error */Block.__(1, [/* :: */[\n                        \"attribute 'color'\",\n                        match$6[0]\n                      ]]);\n          } else {\n            var attr_color = match$6[0];\n            var match$7 = Js_dict.get(dict, \"id\");\n            if (match$7 !== undefined) {\n              var match$8 = Js_json.classify(Caml_option.valFromOption(match$7));\n              var match$9;\n              match$9 = typeof match$8 === \"number\" || match$8.tag ? /* Error */Block.__(1, [/* :: */[\n                      \"expected a string\",\n                      /* [] */0\n                    ]]) : /* Ok */Block.__(0, [match$8[0]]);\n              if (match$9.tag) {\n                return /* Error */Block.__(1, [/* :: */[\n                            \"attribute 'id'\",\n                            match$9[0]\n                          ]]);\n              } else {\n                var attr_id = match$9[0];\n                return /* Ok */Block.__(0, [/* record */[\n                            /* id */attr_id,\n                            /* color */attr_color,\n                            /* title */attr_title\n                          ]]);\n              }\n            } else {\n              return /* Error */Block.__(1, [/* :: */[\n                          \"No attribute 'id'\",\n                          /* [] */0\n                        ]]);\n            }\n          }\n        } else {\n          return /* Error */Block.__(1, [/* :: */[\n                      \"No attribute 'color'\",\n                      /* [] */0\n                    ]]);\n        }\n      }\n    } else {\n      return /* Error */Block.__(1, [/* :: */[\n                  \"No attribute 'title'\",\n                  /* [] */0\n                ]]);\n    }\n  }\n}\n\nfunction deserialize_Types____directory(record) {\n  var match = Js_json.classify(record);\n  if (typeof match === \"number\" || match.tag !== 2) {\n    return /* Error */Block.__(1, [/* :: */[\n                \"Expected an object\",\n                /* [] */0\n              ]]);\n  } else {\n    var dict = match[0];\n    var match$1 = Js_dict.get(dict, \"tags\");\n    if (match$1 !== undefined) {\n      var match$2 = TypeHelpers.deserialize_Belt_MapString____t(deserialize_Types____tag, Caml_option.valFromOption(match$1));\n      if (match$2.tag) {\n        return /* Error */Block.__(1, [/* :: */[\n                    \"attribute 'tags'\",\n                    match$2[0]\n                  ]]);\n      } else {\n        var attr_tags = match$2[0];\n        var match$3 = Js_dict.get(dict, \"scenes\");\n        if (match$3 !== undefined) {\n          var match$4 = TypeHelpers.deserialize_Belt_MapString____t(deserialize_Types____scene, Caml_option.valFromOption(match$3));\n          if (match$4.tag) {\n            return /* Error */Block.__(1, [/* :: */[\n                        \"attribute 'scenes'\",\n                        match$4[0]\n                      ]]);\n          } else {\n            return /* Ok */Block.__(0, [/* record */[\n                        /* scenes */match$4[0],\n                        /* tags */attr_tags\n                      ]]);\n          }\n        } else {\n          return /* Error */Block.__(1, [/* :: */[\n                      \"No attribute 'scenes'\",\n                      /* [] */0\n                    ]]);\n        }\n      }\n    } else {\n      return /* Error */Block.__(1, [/* :: */[\n                  \"No attribute 'tags'\",\n                  /* [] */0\n                ]]);\n    }\n  }\n}\n\nvar Version1 = /* module */[\n  /* deserialize_Belt_MapString____t */deserialize_Belt_MapString____t,\n  /* deserialize_Belt_SetString____t */deserialize_Belt_SetString____t,\n  /* deserialize_Types____directory */deserialize_Types____directory,\n  /* deserialize_Types____scene */deserialize_Types____scene,\n  /* deserialize_Types____tag */deserialize_Types____tag\n];\n\nvar serialize_Belt_SetString____t = TypeHelpers.serialize_Belt_SetString____t;\n\nvar deserialize_Belt_SetString____t$1 = deserialize_Belt_SetString____t;\n\nvar deserialize_Belt_MapString____t$1 = deserialize_Belt_MapString____t;\n\nfunction serialize_Types____scene(record) {\n  var param = record[/* title */3];\n  var array = record[/* children */5];\n  var transformer = function (prim) {\n    return prim;\n  };\n  var param$1 = record[/* parent */6];\n  return Js_dict.fromArray(/* array */[\n              /* tuple */[\n                \"id\",\n                record[/* id */0]\n              ],\n              /* tuple */[\n                \"modified\",\n                record[/* modified */1]\n              ],\n              /* tuple */[\n                \"created\",\n                record[/* created */2]\n              ],\n              /* tuple */[\n                \"title\",\n                param !== undefined ? param : null\n              ],\n              /* tuple */[\n                \"tags\",\n                Curry._1(serialize_Belt_SetString____t, record[/* tags */4])\n              ],\n              /* tuple */[\n                \"children\",\n                Belt_Array.map(array, transformer)\n              ],\n              /* tuple */[\n                \"parent\",\n                param$1 !== undefined ? param$1 : null\n              ],\n              /* tuple */[\n                \"starred\",\n                record[/* starred */7]\n              ]\n            ]);\n}\n\nfunction serialize_Belt_MapString____t(valueTransformer) {\n  return (function (param) {\n      return TypeHelpers.serialize_Belt_MapString____t(valueTransformer, param);\n    });\n}\n\nfunction serialize_Types____tag(record) {\n  return Js_dict.fromArray(/* array */[\n              /* tuple */[\n                \"id\",\n                record[/* id */0]\n              ],\n              /* tuple */[\n                \"color\",\n                record[/* color */1]\n              ],\n              /* tuple */[\n                \"title\",\n                record[/* title */2]\n              ]\n            ]);\n}\n\nvar deserialize_Types____tag$1 = deserialize_Types____tag;\n\nfunction deserialize_Types____scene$1(record) {\n  var match = Js_json.classify(record);\n  if (typeof match === \"number\" || match.tag !== 2) {\n    return /* Error */Block.__(1, [/* :: */[\n                \"Expected an object\",\n                /* [] */0\n              ]]);\n  } else {\n    var dict = match[0];\n    var match$1 = Js_dict.get(dict, \"starred\");\n    if (match$1 !== undefined) {\n      var match$2 = Js_json.classify(Caml_option.valFromOption(match$1));\n      var match$3;\n      if (typeof match$2 === \"number\") {\n        switch (match$2) {\n          case 0 : \n              match$3 = /* Ok */Block.__(0, [false]);\n              break;\n          case 1 : \n              match$3 = /* Ok */Block.__(0, [true]);\n              break;\n          case 2 : \n              match$3 = /* Error */Block.__(1, [/* :: */[\n                    \"Expected a bool\",\n                    /* [] */0\n                  ]]);\n              break;\n          \n        }\n      } else {\n        match$3 = /* Error */Block.__(1, [/* :: */[\n              \"Expected a bool\",\n              /* [] */0\n            ]]);\n      }\n      if (match$3.tag) {\n        return /* Error */Block.__(1, [/* :: */[\n                    \"attribute 'starred'\",\n                    match$3[0]\n                  ]]);\n      } else {\n        var attr_starred = match$3[0];\n        var inner = function (attr_parent) {\n          var match = Js_dict.get(dict, \"children\");\n          if (match !== undefined) {\n            var transformer = function (string) {\n              var match = Js_json.classify(string);\n              if (typeof match === \"number\" || match.tag) {\n                return /* Error */Block.__(1, [/* :: */[\n                            \"expected a string\",\n                            /* [] */0\n                          ]]);\n              } else {\n                return /* Ok */Block.__(0, [match[0]]);\n              }\n            };\n            var match$1 = Js_json.classify(Caml_option.valFromOption(match));\n            var match$2;\n            if (typeof match$1 === \"number\" || match$1.tag !== 3) {\n              match$2 = /* Error */Block.__(1, [/* :: */[\n                    \"expected an array\",\n                    /* [] */0\n                  ]]);\n            } else {\n              var loop = function (_i, _collected, _items) {\n                while(true) {\n                  var items = _items;\n                  var collected = _collected;\n                  var i = _i;\n                  if (items) {\n                    var match = transformer(items[0]);\n                    if (match.tag) {\n                      return /* Error */Block.__(1, [/* :: */[\n                                  \"list element \" + String(i),\n                                  match[0]\n                                ]]);\n                    } else {\n                      _items = items[1];\n                      _collected = /* :: */[\n                        match[0],\n                        collected\n                      ];\n                      _i = i + 1 | 0;\n                      continue ;\n                    }\n                  } else {\n                    return /* Ok */Block.__(0, [Belt_List.reverse(collected)]);\n                  }\n                };\n              };\n              var match$3 = loop(0, /* [] */0, Belt_List.fromArray(match$1[0]));\n              match$2 = match$3.tag ? /* Error */Block.__(1, [match$3[0]]) : /* Ok */Block.__(0, [Belt_List.toArray(match$3[0])]);\n            }\n            if (match$2.tag) {\n              return /* Error */Block.__(1, [/* :: */[\n                          \"attribute 'children'\",\n                          match$2[0]\n                        ]]);\n            } else {\n              var attr_children = match$2[0];\n              var match$4 = Js_dict.get(dict, \"tags\");\n              if (match$4 !== undefined) {\n                var match$5 = Curry._1(deserialize_Belt_SetString____t$1, Caml_option.valFromOption(match$4));\n                if (match$5.tag) {\n                  return /* Error */Block.__(1, [/* :: */[\n                              \"attribute 'tags'\",\n                              match$5[0]\n                            ]]);\n                } else {\n                  var attr_tags = match$5[0];\n                  var inner$1 = function (attr_title) {\n                    var match = Js_dict.get(dict, \"created\");\n                    if (match !== undefined) {\n                      var match$1 = Js_json.classify(Caml_option.valFromOption(match));\n                      var match$2;\n                      match$2 = typeof match$1 === \"number\" || match$1.tag !== 1 ? /* Error */Block.__(1, [/* :: */[\n                              \"Expected a float\",\n                              /* [] */0\n                            ]]) : /* Ok */Block.__(0, [match$1[0]]);\n                      if (match$2.tag) {\n                        return /* Error */Block.__(1, [/* :: */[\n                                    \"attribute 'created'\",\n                                    match$2[0]\n                                  ]]);\n                      } else {\n                        var attr_created = match$2[0];\n                        var match$3 = Js_dict.get(dict, \"modified\");\n                        if (match$3 !== undefined) {\n                          var match$4 = Js_json.classify(Caml_option.valFromOption(match$3));\n                          var match$5;\n                          match$5 = typeof match$4 === \"number\" || match$4.tag !== 1 ? /* Error */Block.__(1, [/* :: */[\n                                  \"Expected a float\",\n                                  /* [] */0\n                                ]]) : /* Ok */Block.__(0, [match$4[0]]);\n                          if (match$5.tag) {\n                            return /* Error */Block.__(1, [/* :: */[\n                                        \"attribute 'modified'\",\n                                        match$5[0]\n                                      ]]);\n                          } else {\n                            var attr_modified = match$5[0];\n                            var match$6 = Js_dict.get(dict, \"id\");\n                            if (match$6 !== undefined) {\n                              var match$7 = Js_json.classify(Caml_option.valFromOption(match$6));\n                              var match$8;\n                              match$8 = typeof match$7 === \"number\" || match$7.tag ? /* Error */Block.__(1, [/* :: */[\n                                      \"expected a string\",\n                                      /* [] */0\n                                    ]]) : /* Ok */Block.__(0, [match$7[0]]);\n                              if (match$8.tag) {\n                                return /* Error */Block.__(1, [/* :: */[\n                                            \"attribute 'id'\",\n                                            match$8[0]\n                                          ]]);\n                              } else {\n                                var attr_id = match$8[0];\n                                return /* Ok */Block.__(0, [/* record */[\n                                            /* id */attr_id,\n                                            /* modified */attr_modified,\n                                            /* created */attr_created,\n                                            /* title */attr_title,\n                                            /* tags */attr_tags,\n                                            /* children */attr_children,\n                                            /* parent */attr_parent,\n                                            /* starred */attr_starred\n                                          ]]);\n                              }\n                            } else {\n                              return /* Error */Block.__(1, [/* :: */[\n                                          \"No attribute 'id'\",\n                                          /* [] */0\n                                        ]]);\n                            }\n                          }\n                        } else {\n                          return /* Error */Block.__(1, [/* :: */[\n                                      \"No attribute 'modified'\",\n                                      /* [] */0\n                                    ]]);\n                        }\n                      }\n                    } else {\n                      return /* Error */Block.__(1, [/* :: */[\n                                  \"No attribute 'created'\",\n                                  /* [] */0\n                                ]]);\n                    }\n                  };\n                  var match$6 = Js_dict.get(dict, \"title\");\n                  if (match$6 !== undefined) {\n                    var json = Caml_option.valFromOption(match$6);\n                    var transformer$1 = function (string) {\n                      var match = Js_json.classify(string);\n                      if (typeof match === \"number\" || match.tag) {\n                        return /* Error */Block.__(1, [/* :: */[\n                                    \"expected a string\",\n                                    /* [] */0\n                                  ]]);\n                      } else {\n                        return /* Ok */Block.__(0, [match[0]]);\n                      }\n                    };\n                    var match$7 = Js_json.classify(json);\n                    var match$8;\n                    var exit = 0;\n                    if (typeof match$7 === \"number\" && match$7 >= 2) {\n                      match$8 = /* Ok */Block.__(0, [undefined]);\n                    } else {\n                      exit = 1;\n                    }\n                    if (exit === 1) {\n                      var match$9 = transformer$1(json);\n                      match$8 = match$9.tag ? /* Error */Block.__(1, [/* :: */[\n                              \"optional value\",\n                              match$9[0]\n                            ]]) : /* Ok */Block.__(0, [match$9[0]]);\n                    }\n                    if (match$8.tag) {\n                      return /* Error */Block.__(1, [/* :: */[\n                                  \"attribute 'title'\",\n                                  match$8[0]\n                                ]]);\n                    } else {\n                      return inner$1(match$8[0]);\n                    }\n                  } else {\n                    return inner$1(undefined);\n                  }\n                }\n              } else {\n                return /* Error */Block.__(1, [/* :: */[\n                            \"No attribute 'tags'\",\n                            /* [] */0\n                          ]]);\n              }\n            }\n          } else {\n            return /* Error */Block.__(1, [/* :: */[\n                        \"No attribute 'children'\",\n                        /* [] */0\n                      ]]);\n          }\n        };\n        var match$4 = Js_dict.get(dict, \"parent\");\n        if (match$4 !== undefined) {\n          var json = Caml_option.valFromOption(match$4);\n          var transformer = function (string) {\n            var match = Js_json.classify(string);\n            if (typeof match === \"number\" || match.tag) {\n              return /* Error */Block.__(1, [/* :: */[\n                          \"expected a string\",\n                          /* [] */0\n                        ]]);\n            } else {\n              return /* Ok */Block.__(0, [match[0]]);\n            }\n          };\n          var match$5 = Js_json.classify(json);\n          var match$6;\n          var exit = 0;\n          if (typeof match$5 === \"number\" && match$5 >= 2) {\n            match$6 = /* Ok */Block.__(0, [undefined]);\n          } else {\n            exit = 1;\n          }\n          if (exit === 1) {\n            var match$7 = transformer(json);\n            match$6 = match$7.tag ? /* Error */Block.__(1, [/* :: */[\n                    \"optional value\",\n                    match$7[0]\n                  ]]) : /* Ok */Block.__(0, [match$7[0]]);\n          }\n          if (match$6.tag) {\n            return /* Error */Block.__(1, [/* :: */[\n                        \"attribute 'parent'\",\n                        match$6[0]\n                      ]]);\n          } else {\n            return inner(match$6[0]);\n          }\n        } else {\n          return inner(undefined);\n        }\n      }\n    } else {\n      return /* Error */Block.__(1, [/* :: */[\n                  \"No attribute 'starred'\",\n                  /* [] */0\n                ]]);\n    }\n  }\n}\n\nfunction deserialize_Types____directory$1(record) {\n  var match = Js_json.classify(record);\n  if (typeof match === \"number\" || match.tag !== 2) {\n    return /* Error */Block.__(1, [/* :: */[\n                \"Expected an object\",\n                /* [] */0\n              ]]);\n  } else {\n    var dict = match[0];\n    var match$1 = Js_dict.get(dict, \"tags\");\n    if (match$1 !== undefined) {\n      var match$2 = TypeHelpers.deserialize_Belt_MapString____t(deserialize_Types____tag$1, Caml_option.valFromOption(match$1));\n      if (match$2.tag) {\n        return /* Error */Block.__(1, [/* :: */[\n                    \"attribute 'tags'\",\n                    match$2[0]\n                  ]]);\n      } else {\n        var attr_tags = match$2[0];\n        var match$3 = Js_dict.get(dict, \"scenes\");\n        if (match$3 !== undefined) {\n          var match$4 = TypeHelpers.deserialize_Belt_MapString____t(deserialize_Types____scene$1, Caml_option.valFromOption(match$3));\n          if (match$4.tag) {\n            return /* Error */Block.__(1, [/* :: */[\n                        \"attribute 'scenes'\",\n                        match$4[0]\n                      ]]);\n          } else {\n            return /* Ok */Block.__(0, [/* record */[\n                        /* scenes */match$4[0],\n                        /* tags */attr_tags\n                      ]]);\n          }\n        } else {\n          return /* Error */Block.__(1, [/* :: */[\n                      \"No attribute 'scenes'\",\n                      /* [] */0\n                    ]]);\n        }\n      }\n    } else {\n      return /* Error */Block.__(1, [/* :: */[\n                  \"No attribute 'tags'\",\n                  /* [] */0\n                ]]);\n    }\n  }\n}\n\nfunction serialize_Types____directory(record) {\n  var param = record[/* scenes */0];\n  var param$1 = record[/* tags */1];\n  return Js_dict.fromArray(/* array */[\n              /* tuple */[\n                \"scenes\",\n                TypeHelpers.serialize_Belt_MapString____t(serialize_Types____scene, param)\n              ],\n              /* tuple */[\n                \"tags\",\n                TypeHelpers.serialize_Belt_MapString____t(serialize_Types____tag, param$1)\n              ]\n            ]);\n}\n\nvar Version2 = /* module */[\n  /* deserialize_Belt_MapString____t */deserialize_Belt_MapString____t$1,\n  /* deserialize_Belt_SetString____t */deserialize_Belt_SetString____t$1,\n  /* deserialize_Types____directory */deserialize_Types____directory$1,\n  /* deserialize_Types____scene */deserialize_Types____scene$1,\n  /* deserialize_Types____tag */deserialize_Types____tag$1,\n  /* serialize_Belt_MapString____t */serialize_Belt_MapString____t,\n  /* serialize_Belt_SetString____t */serialize_Belt_SetString____t,\n  /* serialize_Types____directory */serialize_Types____directory,\n  /* serialize_Types____scene */serialize_Types____scene,\n  /* serialize_Types____tag */serialize_Types____tag\n];\n\nfunction parseVersion(json) {\n  var match = Js_json.classify(json);\n  if (typeof match === \"number\") {\n    return /* Error */Block.__(1, [\"Must have a schema version\"]);\n  } else {\n    switch (match.tag | 0) {\n      case 2 : \n          var match$1 = Js_dict.get(match[0], schemaPropertyName);\n          if (match$1 !== undefined) {\n            var match$2 = Js_json.classify(Caml_option.valFromOption(match$1));\n            if (typeof match$2 === \"number\" || match$2.tag !== 1) {\n              return /* Error */Block.__(1, [\"Invalid $schemaVersion\"]);\n            } else {\n              return /* Ok */Block.__(0, [/* tuple */[\n                          match$2[0] | 0,\n                          json\n                        ]]);\n            }\n          } else {\n            return /* Error */Block.__(1, [\"No $schemaVersion present\"]);\n          }\n      case 3 : \n          var match$3 = match[0];\n          if (match$3.length !== 2) {\n            return /* Error */Block.__(1, [\"Must have a schema version\"]);\n          } else {\n            var version = match$3[0];\n            var payload = match$3[1];\n            var match$4 = Js_json.classify(version);\n            if (typeof match$4 === \"number\" || match$4.tag !== 1) {\n              return /* Error */Block.__(1, [\"Invalid wrapped version\"]);\n            } else {\n              return /* Ok */Block.__(0, [/* tuple */[\n                          match$4[0] | 0,\n                          payload\n                        ]]);\n            }\n          }\n      default:\n        return /* Error */Block.__(1, [\"Must have a schema version\"]);\n    }\n  }\n}\n\nfunction wrapWithVersion(version, payload) {\n  var match = Js_json.classify(payload);\n  if (typeof match === \"number\") {\n    return /* array */[\n            version,\n            payload\n          ];\n  } else if (match.tag === 2) {\n    var dict = match[0];\n    dict[schemaPropertyName] = version;\n    return dict;\n  } else {\n    return /* array */[\n            version,\n            payload\n          ];\n  }\n}\n\nfunction serializeDirectory(data) {\n  return wrapWithVersion(2, serialize_Types____directory(data));\n}\n\nfunction deserializeDirectory(data) {\n  var match = parseVersion(data);\n  if (match.tag) {\n    return /* Error */Block.__(1, [/* :: */[\n                match[0],\n                /* [] */0\n              ]]);\n  } else {\n    var match$1 = match[0];\n    var data$1 = match$1[1];\n    var version = match$1[0];\n    if (version !== 1) {\n      if (version !== 2) {\n        return /* Error */Block.__(1, [/* :: */[\n                    \"Unexpected version \" + String(version),\n                    /* [] */0\n                  ]]);\n      } else {\n        var match$2 = deserialize_Types____directory$1(data$1);\n        if (match$2.tag) {\n          return /* Error */Block.__(1, [match$2[0]]);\n        } else {\n          return /* Ok */Block.__(0, [match$2[0]]);\n        }\n      }\n    } else {\n      var match$3 = deserialize_Types____directory(data$1);\n      if (match$3.tag) {\n        return /* Error */Block.__(1, [match$3[0]]);\n      } else {\n        var data$2 = migrate_Types____directory(match$3[0]);\n        return /* Ok */Block.__(0, [data$2]);\n      }\n    }\n  }\n}\n\nvar Directory = /* module */[\n  /* serialize */serializeDirectory,\n  /* deserialize */deserializeDirectory\n];\n\nvar Modules = /* module */[/* Directory */Directory];\n\nvar currentVersion = 2;\n\nvar Current = 0;\n\nexports.Types1 = Types1;\nexports.Types2 = Types2;\nexports.currentVersion = currentVersion;\nexports.schemaPropertyName = schemaPropertyName;\nexports.Version1 = Version1;\nexports.Version2 = Version2;\nexports.Current = Current;\nexports.parseVersion = parseVersion;\nexports.wrapWithVersion = wrapWithVersion;\nexports.serializeDirectory = serializeDirectory;\nexports.deserializeDirectory = deserializeDirectory;\nexports.Modules = Modules;\n/* No side effect */\n\n\n//# sourceURL=webpack:///./ui/TypeSerde.bs.js?");

/***/ }),

/***/ "./ui/Types.bs.js":
/*!************************!*\
  !*** ./ui/Types.bs.js ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("// Generated by BUCKLESCRIPT VERSION 5.0.4, PLEASE EDIT WITH CARE\n\n\nvar Belt_SetString = __webpack_require__(/*! bs-platform/lib/js/belt_SetString.js */ \"./node_modules/bs-platform/lib/js/belt_SetString.js\");\n\nfunction genId(param) {\n  return Math.random().toString(36).slice(2);\n}\n\nfunction genId$1(param) {\n  return genId(/* () */0) + genId(/* () */0);\n}\n\nvar emptyScene_005 = /* children : array */[];\n\nvar emptyScene = /* record */[\n  /* id */\"\",\n  /* modified */0,\n  /* created */0,\n  /* title */undefined,\n  /* tags */Belt_SetString.empty,\n  emptyScene_005,\n  /* parent */undefined,\n  /* starred */false\n];\n\nexports.genId = genId$1;\nexports.emptyScene = emptyScene;\n/* No side effect */\n\n\n//# sourceURL=webpack:///./ui/Types.bs.js?");

/***/ }),

/***/ "./ui/Ui.bs.js":
/*!*********************!*\
  !*** ./ui/Ui.bs.js ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("// Generated by BUCKLESCRIPT VERSION 5.0.4, PLEASE EDIT WITH CARE\n\n\nvar Css = __webpack_require__(/*! bs-css/src/Css.js */ \"./node_modules/bs-css/src/Css.js\");\nvar Curry = __webpack_require__(/*! bs-platform/lib/js/curry.js */ \"./node_modules/bs-platform/lib/js/curry.js\");\nvar Hooks = __webpack_require__(/*! ./Hooks.bs.js */ \"./ui/Hooks.bs.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nvar Styles = __webpack_require__(/*! ./Styles.bs.js */ \"./ui/Styles.bs.js\");\nvar Caml_option = __webpack_require__(/*! bs-platform/lib/js/caml_option.js */ \"./node_modules/bs-platform/lib/js/caml_option.js\");\n\nfunction Ui$NumInput(Props) {\n  var match = Props.width;\n  var width = match !== undefined ? match : 50;\n  var value = Props.value;\n  var min = Props.min;\n  var max = Props.max;\n  var step = Props.step;\n  var onChange = Props.onChange;\n  var match$1 = Hooks.useUpdatingState(value.toString());\n  var setTmp = match$1[1];\n  var tmp = {\n    className: Css.style(/* :: */[\n          Css.width(Css.px(width)),\n          /* [] */0\n        ]),\n    type: \"number\",\n    value: match$1[0],\n    onChange: (function (evt) {\n        var text = evt.target.value;\n        var num = Number(text);\n        if (isNaN(num) || text === \"\" || num === value || Math.abs(num - Number(num.toString())) > 0.1) {\n          return Curry._1(setTmp, text);\n        } else {\n          return Curry._1(onChange, num);\n        }\n      })\n  };\n  var tmp$1 = max !== undefined ? max.toString() : undefined;\n  if (tmp$1 !== undefined) {\n    tmp.max = Caml_option.valFromOption(tmp$1);\n  }\n  if (min !== undefined) {\n    tmp.min = Caml_option.valFromOption(min);\n  }\n  if (step !== undefined) {\n    tmp.step = Caml_option.valFromOption(step);\n  }\n  return React.createElement(\"input\", tmp);\n}\n\nvar NumInput = /* module */[/* make */Ui$NumInput];\n\nfunction Ui$LogSlider(Props) {\n  var value = Props.value;\n  var disabled = Props.disabled;\n  var min = Props.min;\n  var max = Props.max;\n  var step = Props.step;\n  var onChange = Props.onChange;\n  var tmp = {\n    max: max.toString(),\n    min: min,\n    step: step,\n    type: \"range\",\n    value: Math.pow(Math.E, value).toString(),\n    onChange: (function (evt) {\n        var v = Number(evt.target.value);\n        return Curry._1(onChange, Math.log(v));\n      })\n  };\n  if (disabled !== undefined) {\n    tmp.disabled = Caml_option.valFromOption(disabled);\n  }\n  var tmp$1 = {\n    className: Css.style(/* :: */[\n          Css.fontSize(Css.px(8)),\n          /* :: */[\n            Css.width(Css.px(50)),\n            /* [] */0\n          ]\n        ]),\n    step: step,\n    type: \"number\",\n    value: value.toString(),\n    onChange: (function (evt) {\n        return Curry._1(onChange, Number(evt.target.value));\n      })\n  };\n  if (disabled !== undefined) {\n    tmp$1.disabled = Caml_option.valFromOption(disabled);\n  }\n  return React.createElement(\"div\", {\n              className: Styles.row\n            }, React.createElement(\"input\", tmp), Styles.spacer(8), React.createElement(\"input\", tmp$1));\n}\n\nvar LogSlider = /* module */[/* make */Ui$LogSlider];\n\nfunction Ui$Slider(Props) {\n  var match = Props.vertical;\n  var vertical = match !== undefined ? match : false;\n  var disabled = Props.disabled;\n  var width = Props.width;\n  var value = Props.value;\n  var min = Props.min;\n  var max = Props.max;\n  var step = Props.step;\n  var onChange = Props.onChange;\n  var tmp = {\n    max: max.toString(),\n    min: min,\n    step: step,\n    type: \"range\",\n    value: value.toString(),\n    onChange: (function (evt) {\n        return Curry._1(onChange, Number(evt.target.value));\n      })\n  };\n  var tmp$1 = width !== undefined ? ({\n        width: String(width) + \"px\"\n      }) : undefined;\n  if (tmp$1 !== undefined) {\n    tmp.style = Caml_option.valFromOption(tmp$1);\n  }\n  if (disabled !== undefined) {\n    tmp.disabled = Caml_option.valFromOption(disabled);\n  }\n  var tmp$2 = {\n    className: Css.style(/* :: */[\n          Css.fontSize(Css.px(8)),\n          /* :: */[\n            Css.width(Css.px(50)),\n            /* [] */0\n          ]\n        ]),\n    step: step,\n    type: \"number\",\n    value: value.toString(),\n    onChange: (function (evt) {\n        return Curry._1(onChange, Number(evt.target.value));\n      })\n  };\n  if (disabled !== undefined) {\n    tmp$2.disabled = Caml_option.valFromOption(disabled);\n  }\n  return React.createElement(\"div\", {\n              className: vertical ? Styles.column : Styles.row\n            }, React.createElement(\"input\", tmp), Styles.spacer(8), React.createElement(\"input\", tmp$2));\n}\n\nvar Slider = /* module */[/* make */Ui$Slider];\n\nexports.NumInput = NumInput;\nexports.LogSlider = LogSlider;\nexports.Slider = Slider;\n/* Css Not a pure module */\n\n\n//# sourceURL=webpack:///./ui/Ui.bs.js?");

/***/ }),

/***/ "./ui/Web.bs.js":
/*!**********************!*\
  !*** ./ui/Web.bs.js ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("// Generated by BUCKLESCRIPT VERSION 5.0.4, PLEASE EDIT WITH CARE\n\n\nvar Curry = __webpack_require__(/*! bs-platform/lib/js/curry.js */ \"./node_modules/bs-platform/lib/js/curry.js\");\n\nvar LocalForage = /* module */[];\n\nfunction hash(param) {\n  return location.hash;\n}\n\nfunction setHash(hash) {\n  location.hash = hash;\n  return /* () */0;\n}\n\nfunction addHashListener(fn) {\n  var listener = function (param) {\n    return Curry._1(fn, location.hash);\n  };\n  window.addEventListener(\"hashchange\", listener, false);\n  return (function (param) {\n      window.removeEventListener(\"hashchange\", listener, false);\n      return /* () */0;\n    });\n}\n\nvar $$Location = /* module */[\n  /* hash */hash,\n  /* setHash */setHash,\n  /* addHashListener */addHashListener\n];\n\nexports.LocalForage = LocalForage;\nexports.$$Location = $$Location;\n/* No side effect */\n\n\n//# sourceURL=webpack:///./ui/Web.bs.js?");

/***/ }),

/***/ "./ui/objects/WallEditor.bs.js":
/*!*************************************!*\
  !*** ./ui/objects/WallEditor.bs.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("// Generated by BUCKLESCRIPT VERSION 5.0.4, PLEASE EDIT WITH CARE\n\n\nvar Ui = __webpack_require__(/*! ../Ui.bs.js */ \"./ui/Ui.bs.js\");\nvar Css = __webpack_require__(/*! bs-css/src/Css.js */ \"./node_modules/bs-css/src/Css.js\");\nvar Rust = __webpack_require__(/*! ../Rust.bs.js */ \"./ui/Rust.bs.js\");\nvar Block = __webpack_require__(/*! bs-platform/lib/js/block.js */ \"./node_modules/bs-platform/lib/js/block.js\");\nvar Curry = __webpack_require__(/*! bs-platform/lib/js/curry.js */ \"./node_modules/bs-platform/lib/js/curry.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nvar Colors = __webpack_require__(/*! ../Colors.bs.js */ \"./ui/Colors.bs.js\");\nvar Printf = __webpack_require__(/*! bs-platform/lib/js/printf.js */ \"./node_modules/bs-platform/lib/js/printf.js\");\nvar Styles = __webpack_require__(/*! ../Styles.bs.js */ \"./ui/Styles.bs.js\");\nvar Pervasives = __webpack_require__(/*! bs-platform/lib/js/pervasives.js */ \"./node_modules/bs-platform/lib/js/pervasives.js\");\nvar Caml_primitive = __webpack_require__(/*! bs-platform/lib/js/caml_primitive.js */ \"./node_modules/bs-platform/lib/js/caml_primitive.js\");\nvar ExposureControl = __webpack_require__(/*! ../ExposureControl.bs.js */ \"./ui/ExposureControl.bs.js\");\nvar MdArrowDropdown = __webpack_require__(/*! react-ionicons/lib/MdArrowDropdown */ \"./node_modules/react-ionicons/lib/MdArrowDropdown.js\");\nvar MdArrowDropright = __webpack_require__(/*! react-ionicons/lib/MdArrowDropright */ \"./node_modules/react-ionicons/lib/MdArrowDropright.js\");\n\nfunction WallEditor$Triangle(Props) {\n  var size = Props.size;\n  var padding = Props.padding;\n  return React.createElement(\"svg\", {\n              height: String((padding + size | 0) + padding | 0),\n              width: String((padding + size | 0) + padding | 0),\n              xmlns: \"http://www.w3.org/2000/svg\"\n            }, React.createElement(\"path\", {\n                  d: Curry._6(Printf.sprintf(/* Format */[\n                            /* Char_literal */Block.__(12, [\n                                /* \"M\" */77,\n                                /* Int */Block.__(4, [\n                                    /* Int_d */0,\n                                    /* No_padding */0,\n                                    /* No_precision */0,\n                                    /* Char_literal */Block.__(12, [\n                                        /* \",\" */44,\n                                        /* Int */Block.__(4, [\n                                            /* Int_d */0,\n                                            /* No_padding */0,\n                                            /* No_precision */0,\n                                            /* String_literal */Block.__(11, [\n                                                \" L\",\n                                                /* Int */Block.__(4, [\n                                                    /* Int_d */0,\n                                                    /* No_padding */0,\n                                                    /* No_precision */0,\n                                                    /* Char_literal */Block.__(12, [\n                                                        /* \",\" */44,\n                                                        /* Int */Block.__(4, [\n                                                            /* Int_d */0,\n                                                            /* No_padding */0,\n                                                            /* No_precision */0,\n                                                            /* String_literal */Block.__(11, [\n                                                                \" L\",\n                                                                /* Int */Block.__(4, [\n                                                                    /* Int_d */0,\n                                                                    /* No_padding */0,\n                                                                    /* No_precision */0,\n                                                                    /* Char_literal */Block.__(12, [\n                                                                        /* \",\" */44,\n                                                                        /* Int */Block.__(4, [\n                                                                            /* Int_d */0,\n                                                                            /* No_padding */0,\n                                                                            /* No_precision */0,\n                                                                            /* String_literal */Block.__(11, [\n                                                                                \" z\",\n                                                                                /* End_of_format */0\n                                                                              ])\n                                                                          ])\n                                                                      ])\n                                                                  ])\n                                                              ])\n                                                          ])\n                                                      ])\n                                                  ])\n                                              ])\n                                          ])\n                                      ])\n                                  ])\n                              ]),\n                            \"M%d,%d L%d,%d L%d,%d z\"\n                          ]), padding, padding, padding, padding + size | 0, padding + (size * Math.sqrt(3.0) / 2.0 | 0) | 0, padding + (size / 2 | 0) | 0),\n                  fill: \"white\",\n                  stroke: \"black\"\n                }));\n}\n\nvar Triangle = /* module */[/* make */WallEditor$Triangle];\n\nfunction dist(param, param$1) {\n  var dx = param$1[0] - param[0];\n  var dy = param$1[1] - param[1];\n  return Math.sqrt(dx * dx + dy * dy);\n}\n\nfunction toLine(param, param$1) {\n  var y0 = param[1];\n  var x0 = param[0];\n  var m = (param$1[1] - y0) / (param$1[0] - x0);\n  var b = y0 - m * x0;\n  return /* tuple */[\n          m,\n          b\n        ];\n}\n\nfunction lineIntersect(param, param$1) {\n  var b0 = param[1];\n  var m0 = param[0];\n  var x = (param$1[1] - b0) / (m0 - param$1[0]);\n  var y = m0 * x + b0;\n  return /* tuple */[\n          x,\n          y\n        ];\n}\n\nfunction triWidth(size) {\n  return size * Math.sqrt(3.0) / 2.0;\n}\n\nfunction bottomPoint(size) {\n  return /* tuple */[\n          0.0,\n          size\n        ];\n}\n\nfunction rightPoint(size) {\n  return /* tuple */[\n          triWidth(size),\n          size / 2.0\n        ];\n}\n\nfunction posTriangle(param, size) {\n  var y = param[1];\n  var x = param[0];\n  var ew = x / triWidth(size);\n  var point2 = toLine(/* tuple */[\n        0.0,\n        0.0\n      ], rightPoint(size));\n  var match = x === 0.0;\n  var farPoint = match ? /* tuple */[\n      0.0,\n      point2[1]\n    ] : lineIntersect(toLine(/* tuple */[\n              x,\n              y\n            ], /* tuple */[\n              0.0,\n              size\n            ]), point2);\n  var fullSize = dist(/* tuple */[\n        0.0,\n        size\n      ], farPoint);\n  var partSize = dist(/* tuple */[\n        x,\n        y\n      ], /* tuple */[\n        0.0,\n        size\n      ]);\n  var first = 1.0 - Caml_primitive.caml_float_max(0.0, Caml_primitive.caml_float_min(1.0, partSize / fullSize));\n  var second = Caml_primitive.caml_float_max(0.0, 1.0 < ew ? 1.0 : ew);\n  var second$1 = Caml_primitive.caml_float_min(1.0 - first, second);\n  return /* tuple */[\n          first,\n          second$1\n        ];\n}\n\nfunction trianglePos(param, size) {\n  var ew = param[1];\n  var x = ew * triWidth(size);\n  var y = param[0] * size + ew * size / 2.0;\n  return /* tuple */[\n          x,\n          y\n        ];\n}\n\nfunction toPair(param) {\n  var first = param[0];\n  return /* tuple */[\n          first,\n          param[1] * (1.0 - first)\n        ];\n}\n\nfunction fromPair(param) {\n  var ns = param[0];\n  var match = ns === 1.0;\n  return /* tuple */[\n          ns,\n          match ? 0.0 : param[1] / (1.0 - ns)\n        ];\n}\n\nfunction WallEditor$TriangleEditor(Props) {\n  var pair = Props.pair;\n  var onChange = Props.onChange;\n  var node = React.useRef(null);\n  var match = ExposureControl.useDraggable((function (param) {\n          var match = node.current;\n          if (match == null) {\n            return /* () */0;\n          } else {\n            var rect = match.getBoundingClientRect();\n            var x = param[0] - rect.left - 10.0;\n            var y = param[1] - rect.top - 10.0;\n            var match$1 = posTriangle(/* tuple */[\n                  0.0 > x ? 0.0 : x,\n                  Caml_primitive.caml_float_max(0.0, 100.0 < y ? 100.0 : y)\n                ], 100.0);\n            return Curry._1(onChange, /* tuple */[\n                        match$1[0],\n                        match$1[1]\n                      ]);\n          }\n        }));\n  var onMouseDown = match[1];\n  var match$1 = trianglePos(pair, 100.0);\n  return React.createElement(\"div\", {\n              ref: node,\n              className: Css.style(/* :: */[\n                    Css.position(/* relative */903134412),\n                    /* :: */[\n                      Css.cursor(/* crosshair */180897442),\n                      /* [] */0\n                    ]\n                  ]),\n              onMouseDown: onMouseDown\n            }, React.createElement(WallEditor$Triangle, {\n                  size: 100,\n                  padding: 10\n                }), React.createElement(\"div\", {\n                  className: Css.style(/* :: */[\n                        Css.borderRadius(Css.px(4)),\n                        /* :: */[\n                          Css.width(Css.px(10)),\n                          /* :: */[\n                            Css.height(Css.px(10)),\n                            /* :: */[\n                              Css.marginLeft(Css.px(-5)),\n                              /* :: */[\n                                Css.marginTop(Css.px(-5)),\n                                /* :: */[\n                                  Css.position(/* absolute */-1013592457),\n                                  /* :: */[\n                                    Css.backgroundColor(Colors.accent),\n                                    /* [] */0\n                                  ]\n                                ]\n                              ]\n                            ]\n                          ]\n                        ]\n                      ]),\n                  style: {\n                    left: (match$1[0] + 10.0).toString() + \"px\",\n                    top: (match$1[1] + 10.0).toString() + \"px\"\n                  },\n                  onMouseDown: onMouseDown\n                }));\n}\n\nvar TriangleEditor = /* module */[/* make */WallEditor$TriangleEditor];\n\nfunction progressBar(percent) {\n  return React.createElement(\"div\", {\n              className: Css.style(/* :: */[\n                    Css.backgroundColor(Colors.accent),\n                    /* :: */[\n                      Css.height(Css.px(2)),\n                      /* :: */[\n                        Css.alignSelf(/* flexStart */662439529),\n                        /* [] */0\n                      ]\n                    ]\n                  ]),\n              style: {\n                width: (percent * 50.0).toString() + \"px\"\n              }\n            });\n}\n\nfunction WallEditor$RefractionEditor(Props) {\n  var wall = Props.wall;\n  var onChange = Props.onChange;\n  return React.createElement(\"div\", undefined, React.createElement(\"div\", {\n                  className: Css.style(/* :: */[\n                        Css.fontSize(/* `percent */[\n                              -119887163,\n                              80.0\n                            ]),\n                        /* [] */0\n                      ])\n                }, \"Index of Refraction\"), React.createElement(Ui.LogSlider[/* make */0], {\n                  value: wall.properties.refraction,\n                  disabled: wall.properties.reflect === 1.0 || wall.properties.absorb === 1.0,\n                  min: 0,\n                  max: 5.0,\n                  step: 0.01,\n                  onChange: (function (value) {\n                      var transform = function (item, arg) {\n                        return Object.assign(Object.assign({ }, item), {\n                                    properties: Object.assign(Object.assign({ }, item.properties), {\n                                          refraction: arg\n                                        })\n                                  });\n                      };\n                      return Curry._1(onChange, transform(wall, value));\n                    })\n                }));\n}\n\nvar RefractionEditor = /* module */[/* make */WallEditor$RefractionEditor];\n\nfunction WallEditor$ScatterEditor(Props) {\n  var wall = Props.wall;\n  var onChange = Props.onChange;\n  var match = Props.wide;\n  var wide = match !== undefined ? match : false;\n  return React.createElement(\"div\", {\n              className: wide ? Styles.row : Styles.column\n            }, React.createElement(\"div\", {\n                  className: Css.style(/* :: */[\n                        Css.fontSize(/* `percent */[\n                              -119887163,\n                              80.0\n                            ]),\n                        /* [] */0\n                      ])\n                }, \"Scatter\"), React.createElement(Ui.Slider[/* make */0], {\n                  vertical: !wide,\n                  disabled: wall.properties.reflect === 0.0 || wall.properties.absorb === 1.0,\n                  width: 50,\n                  value: wall.properties.roughness,\n                  min: 0,\n                  max: 1.0,\n                  step: 0.01,\n                  onChange: (function (value) {\n                      var transform = function (item, arg) {\n                        return Object.assign(Object.assign({ }, item), {\n                                    properties: Object.assign(Object.assign({ }, item.properties), {\n                                          roughness: arg\n                                        })\n                                  });\n                      };\n                      return Curry._1(onChange, transform(wall, value));\n                    })\n                }));\n}\n\nvar ScatterEditor = /* module */[/* make */WallEditor$ScatterEditor];\n\nfunction WallEditor$PropertiesTriangle(Props) {\n  var wall = Props.wall;\n  var onChange = Props.onChange;\n  var match = (1.0 - wall.properties.absorb) * (1.0 - wall.properties.reflect) === 0.0;\n  var match$1 = (1.0 - wall.properties.absorb) * wall.properties.reflect === 0.0;\n  var match$2 = wall.properties.absorb === 0.0;\n  return React.createElement(\"div\", undefined, React.createElement(\"div\", {\n                  className: Styles.join(/* :: */[\n                        Styles.column,\n                        /* :: */[\n                          Css.style(match ? /* :: */[\n                                  Css.color(Css.hex(\"999\")),\n                                  /* [] */0\n                                ] : /* [] */0),\n                          /* [] */0\n                        ]\n                      ])\n                }, React.createElement(WallEditor$RefractionEditor, {\n                      wall: wall,\n                      onChange: onChange\n                    })), React.createElement(\"div\", undefined, Styles.spacer(8), \"Refract\", progressBar((1.0 - wall.properties.absorb) * (1.0 - wall.properties.reflect)), React.createElement(\"div\", {\n                      className: Styles.row\n                    }, React.createElement(WallEditor$TriangleEditor, {\n                          pair: toPair(/* tuple */[\n                                wall.properties.absorb,\n                                wall.properties.reflect\n                              ]),\n                          onChange: (function (pair) {\n                              var match = fromPair(pair);\n                              var reflect = match[1];\n                              var absorb = match[0];\n                              var transform = function (item, arg) {\n                                return Object.assign(Object.assign({ }, item), {\n                                            properties: Curry._1(arg, item.properties)\n                                          });\n                              };\n                              return Curry._1(onChange, transform(wall, (function (properties) {\n                                                var transform = function (item, arg) {\n                                                  return Object.assign(Object.assign({ }, item), {\n                                                              absorb: arg\n                                                            });\n                                                };\n                                                var item = transform(properties, absorb);\n                                                var arg = reflect;\n                                                return Object.assign(Object.assign({ }, item), {\n                                                            reflect: arg\n                                                          });\n                                              })));\n                            })\n                        }), React.createElement(\"div\", {\n                          className: Styles.join(/* :: */[\n                                Styles.column,\n                                /* :: */[\n                                  Css.style(match$1 ? /* :: */[\n                                          Css.color(Css.hex(\"999\")),\n                                          /* [] */0\n                                        ] : /* [] */0),\n                                  /* :: */[\n                                    Css.style(/* :: */[\n                                          Css.alignSelf(/* flexEnd */924268066),\n                                          /* [] */0\n                                        ]),\n                                    /* [] */0\n                                  ]\n                                ]\n                              ])\n                        }, React.createElement(\"div\", {\n                              className: Css.style(/* [] */0)\n                            }, \"Reflect\"), progressBar((1.0 - wall.properties.absorb) * wall.properties.reflect), Styles.spacer(8), React.createElement(WallEditor$ScatterEditor, {\n                              wall: wall,\n                              onChange: onChange\n                            }))), React.createElement(\"div\", {\n                      className: Css.style(match$2 ? /* :: */[\n                              Css.color(Css.hex(\"999\")),\n                              /* [] */0\n                            ] : /* [] */0)\n                    }, \"Absorb\"), progressBar(wall.properties.absorb)));\n}\n\nvar PropertiesTriangle = /* module */[/* make */WallEditor$PropertiesTriangle];\n\nfunction wallType(kind) {\n  if (kind.Line !== undefined) {\n    return \"Line\";\n  } else if (kind.Parabola !== undefined) {\n    return \"Parabola\";\n  } else {\n    return \"Arc\";\n  }\n}\n\nfunction WallEditor(Props) {\n  var wasm = Props.wasm;\n  var selected = Props.selected;\n  var wall = Props.wall;\n  var index = Props.index;\n  var onChange = Props.onChange;\n  var onRemove = Props.onRemove;\n  var updateUi = Props.updateUi;\n  var ui = Props.ui;\n  var match = wall.hide;\n  return React.createElement(\"div\", {\n              className: Css.style(Pervasives.$at(/* :: */[\n                        Css.borderBottom(Css.px(1), /* solid */12956715, Css.hex(\"ddd\")),\n                        /* :: */[\n                          Css.hover(/* :: */[\n                                Css.backgroundColor(Colors.buttonHover),\n                                /* [] */0\n                              ]),\n                          /* [] */0\n                        ]\n                      ], selected ? /* :: */[\n                          Css.outline(Css.px(2), /* solid */12956715, Colors.accent),\n                          /* :: */[\n                            Css.hover(/* :: */[\n                                  Css.outline(Css.px(2), /* solid */12956715, Colors.accent),\n                                  /* [] */0\n                                ]),\n                            /* [] */0\n                          ]\n                        ] : /* [] */0)),\n              onMouseOver: (function (evt) {\n                  return wasm.hover_wall(index);\n                })\n            }, React.createElement(\"div\", {\n                  className: Css.style(/* :: */[\n                        Css.display(/* flex */-1010954439),\n                        /* :: */[\n                          Css.padding(Css.px(4)),\n                          /* :: */[\n                            Css.cursor(/* pointer */-786317123),\n                            /* :: */[\n                              Css.alignItems(/* center */98248149),\n                              /* [] */0\n                            ]\n                          ]\n                        ]\n                      ]),\n                  onClick: (function (evt) {\n                      if (selected) {\n                        var transform = function (item, arg) {\n                          return Object.assign(Object.assign({ }, item), {\n                                      selection: arg\n                                    });\n                        };\n                        return Curry._1(updateUi, transform(ui, null));\n                      } else {\n                        var transform$1 = function (item, arg) {\n                          return Object.assign(Object.assign({ }, item), {\n                                      selection: arg\n                                    });\n                        };\n                        return Curry._1(updateUi, transform$1(ui, Rust.selectWall(index)));\n                      }\n                    })\n                }, selected ? React.createElement(MdArrowDropdown, {\n                        fontSize: \"14px\"\n                      }) : React.createElement(MdArrowDropright, {\n                        fontSize: \"14px\"\n                      }), Styles.spacer(4), React.createElement(\"div\", {\n                      className: Css.style(/* :: */[\n                            Css.fontWeight(/* medium */-20425611),\n                            /* :: */[\n                              Css.flex(1),\n                              /* :: */[\n                                Css.fontSize(Css.px(Styles.$$Text[/* small */0])),\n                                /* [] */0\n                              ]\n                            ]\n                          ])\n                    }, \"Wall #\" + (String(index) + (\" \" + wallType(wall.kind)))), React.createElement(\"button\", {\n                      onClick: (function (evt) {\n                          evt.stopPropagation();\n                          var transform = function (item, arg) {\n                            return Object.assign(Object.assign({ }, item), {\n                                        hide: arg\n                                      });\n                          };\n                          return Curry._1(onChange, transform(wall, !wall.hide));\n                        })\n                    }, match ? \"Show\" : \"Hide\")), selected ? React.createElement(\"div\", {\n                    className: Styles.join(/* :: */[\n                          Styles.column,\n                          /* :: */[\n                            Css.style(/* :: */[\n                                  Css.padding2(Css.px(8), Css.px(8)),\n                                  /* [] */0\n                                ]),\n                            /* [] */0\n                          ]\n                        ])\n                  }, React.createElement(WallEditor$PropertiesTriangle, {\n                        wall: wall,\n                        onChange: onChange\n                      }), Styles.spacer(8), React.createElement(\"button\", {\n                        onClick: (function (evt) {\n                            return Curry._1(onRemove, /* () */0);\n                          })\n                      }, \"Delete\")) : null);\n}\n\nvar make = WallEditor;\n\nexports.Triangle = Triangle;\nexports.dist = dist;\nexports.toLine = toLine;\nexports.lineIntersect = lineIntersect;\nexports.triWidth = triWidth;\nexports.bottomPoint = bottomPoint;\nexports.rightPoint = rightPoint;\nexports.posTriangle = posTriangle;\nexports.trianglePos = trianglePos;\nexports.toPair = toPair;\nexports.fromPair = fromPair;\nexports.TriangleEditor = TriangleEditor;\nexports.progressBar = progressBar;\nexports.RefractionEditor = RefractionEditor;\nexports.ScatterEditor = ScatterEditor;\nexports.PropertiesTriangle = PropertiesTriangle;\nexports.wallType = wallType;\nexports.make = make;\n/* Ui Not a pure module */\n\n\n//# sourceURL=webpack:///./ui/objects/WallEditor.bs.js?");

/***/ }),

/***/ "./ui/sidebar/LightSource.bs.js":
/*!**************************************!*\
  !*** ./ui/sidebar/LightSource.bs.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("// Generated by BUCKLESCRIPT VERSION 5.0.4, PLEASE EDIT WITH CARE\n\n\nvar Ui = __webpack_require__(/*! ../Ui.bs.js */ \"./ui/Ui.bs.js\");\nvar Css = __webpack_require__(/*! bs-css/src/Css.js */ \"./node_modules/bs-css/src/Css.js\");\nvar $$Array = __webpack_require__(/*! bs-platform/lib/js/array.js */ \"./node_modules/bs-platform/lib/js/array.js\");\nvar Curry = __webpack_require__(/*! bs-platform/lib/js/curry.js */ \"./node_modules/bs-platform/lib/js/curry.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nvar Colors = __webpack_require__(/*! ../Colors.bs.js */ \"./ui/Colors.bs.js\");\nvar Styles = __webpack_require__(/*! ../Styles.bs.js */ \"./ui/Styles.bs.js\");\nvar Caml_array = __webpack_require__(/*! bs-platform/lib/js/caml_array.js */ \"./node_modules/bs-platform/lib/js/caml_array.js\");\nvar RotationSym = __webpack_require__(/*! ./RotationSym.bs.js */ \"./ui/sidebar/RotationSym.bs.js\");\n\nvar single = React.createElement(\"svg\", {\n      style: {\n        backgroundColor: \"black\"\n      },\n      height: (50.0).toString(),\n      width: (50.0).toString()\n    }, React.createElement(\"circle\", {\n          cx: (50.0 / 2.0).toString(),\n          cy: (50.0 / 2.0).toString(),\n          fill: \"white\",\n          r: \"5.0\"\n        }));\n\nvar scale = 3.1415 * 2.0 / 5;\n\nvar items = RotationSym.many(5, (function (i) {\n        var c = 50.0 / 2.0;\n        var angle = i * scale - 3.1415 / 2.0;\n        return React.createElement(\"circle\", {\n                    cx: (c + Math.cos(angle) * 15.0).toString(),\n                    cy: (c + Math.sin(angle) * 15.0).toString(),\n                    fill: \"white\",\n                    r: \"5\"\n                  });\n      }));\n\nvar circle = React.createElement(\"svg\", {\n      style: {\n        backgroundColor: \"black\"\n      },\n      height: (50.0).toString(),\n      width: (50.0).toString()\n    }, $$Array.of_list(items));\n\nvar line = React.createElement(\"svg\", {\n      style: {\n        backgroundColor: \"black\"\n      },\n      height: (50.0).toString(),\n      width: (50.0).toString()\n    }, React.createElement(\"circle\", {\n          cx: (50.0 / 2.0).toString(),\n          cy: (50.0 / 2.0).toString(),\n          fill: \"white\",\n          r: \"5\"\n        }), React.createElement(\"circle\", {\n          cx: (50.0 / 2.0 - 15).toString(),\n          cy: (50.0 / 2.0).toString(),\n          fill: \"white\",\n          r: \"5\"\n        }), React.createElement(\"circle\", {\n          cx: (50.0 / 2.0 + 15).toString(),\n          cy: (50.0 / 2.0).toString(),\n          fill: \"white\",\n          r: \"5\"\n        }));\n\nvar colorButton = Css.style(/* :: */[\n      Css.padding(Css.px(4)),\n      /* :: */[\n        Css.backgroundColor(/* transparent */582626130),\n        /* :: */[\n          Css.backgroundColor(Css.hex(\"fff\")),\n          /* :: */[\n            Css.hover(/* :: */[\n                  Css.backgroundColor(Colors.button),\n                  /* [] */0\n                ]),\n            /* :: */[\n              Css.disabled(/* :: */[\n                    Css.backgroundColor(Colors.accent),\n                    /* :: */[\n                      Css.hover(/* :: */[\n                            Css.backgroundColor(Colors.accent),\n                            /* [] */0\n                          ]),\n                      /* [] */0\n                    ]\n                  ]),\n              /* [] */0\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nfunction LightSource$Formation(Props) {\n  var formation = Props.formation;\n  var onChange = Props.onChange;\n  var match = formation.Line;\n  var kind;\n  if (match !== undefined) {\n    var match$1 = match;\n    kind = /* `Line */[\n      848053268,\n      /* tuple */[\n        match$1[0],\n        match$1[1]\n      ]\n    ];\n  } else {\n    var match$2 = formation.Circle;\n    if (match$2 !== undefined) {\n      var match$3 = match$2;\n      kind = /* `Circle */[\n        178382384,\n        /* tuple */[\n          match$3[0],\n          match$3[1],\n          match$3[2]\n        ]\n      ];\n    } else {\n      kind = /* Single */-306849112;\n    }\n  }\n  var smallLabel = Css.style(/* :: */[\n        Css.fontSize(Css.px(Styles.$$Text[/* small */0])),\n        /* :: */[\n          Css.fontWeight(/* normal */812216871),\n          /* [] */0\n        ]\n      ]);\n  var tmp;\n  if (typeof kind === \"number\") {\n    tmp = null;\n  } else if (kind[0] >= 848053268) {\n    var match$4 = kind[1];\n    var dist = match$4[1];\n    var count = match$4[0];\n    tmp = React.createElement(\"div\", {\n          className: Styles.column\n        }, Styles.spacer(8), React.createElement(\"div\", {\n              className: Styles.join(/* :: */[\n                    Styles.row,\n                    /* :: */[\n                      Css.style(/* :: */[\n                            Css.padding(Css.px(8)),\n                            /* :: */[\n                              Css.border(Css.px(2), /* solid */12956715, Colors.accent),\n                              /* [] */0\n                            ]\n                          ]),\n                      /* [] */0\n                    ]\n                  ])\n            }, Styles.spacer(8), React.createElement(\"div\", {\n                  className: smallLabel\n                }, \"Count\"), Styles.spacer(8), React.createElement(Ui.NumInput[/* make */0], {\n                  value: count,\n                  min: 2,\n                  onChange: (function (count) {\n                      return Curry._1(onChange, {\n                                  Single: undefined,\n                                  Line: /* tuple */[\n                                    count | 0,\n                                    dist\n                                  ],\n                                  Circle: undefined\n                                });\n                    })\n                }), Styles.spacer(16), React.createElement(\"div\", {\n                  className: smallLabel\n                }, \"Spacing\"), Styles.spacer(8), React.createElement(Ui.NumInput[/* make */0], {\n                  value: dist,\n                  min: 2,\n                  onChange: (function (dist) {\n                      return Curry._1(onChange, {\n                                  Single: undefined,\n                                  Line: /* tuple */[\n                                    count,\n                                    dist\n                                  ],\n                                  Circle: undefined\n                                });\n                    })\n                }), Styles.spacer(8)));\n  } else {\n    var match$5 = kind[1];\n    var center = match$5[2];\n    var dist$1 = match$5[1];\n    var count$1 = match$5[0];\n    tmp = React.createElement(\"div\", {\n          className: Styles.column\n        }, Styles.spacer(8), React.createElement(\"div\", {\n              className: Styles.join(/* :: */[\n                    Styles.row,\n                    /* :: */[\n                      Css.style(/* :: */[\n                            Css.padding(Css.px(8)),\n                            /* :: */[\n                              Css.border(Css.px(2), /* solid */12956715, Colors.accent),\n                              /* [] */0\n                            ]\n                          ]),\n                      /* [] */0\n                    ]\n                  ])\n            }, Styles.spacer(8), React.createElement(\"div\", {\n                  className: smallLabel\n                }, \"Count\"), Styles.spacer(8), React.createElement(Ui.NumInput[/* make */0], {\n                  value: count$1,\n                  min: 2,\n                  onChange: (function (count) {\n                      return Curry._1(onChange, {\n                                  Single: undefined,\n                                  Circle: /* tuple */[\n                                    count | 0,\n                                    dist$1,\n                                    center\n                                  ],\n                                  Line: undefined\n                                });\n                    })\n                }), Styles.spacer(16), React.createElement(\"div\", {\n                  className: smallLabel\n                }, \"Spacing\"), Styles.spacer(8), React.createElement(Ui.NumInput[/* make */0], {\n                  value: dist$1,\n                  min: 2,\n                  onChange: (function (dist) {\n                      return Curry._1(onChange, {\n                                  Single: undefined,\n                                  Circle: /* tuple */[\n                                    count$1,\n                                    dist,\n                                    center\n                                  ],\n                                  Line: undefined\n                                });\n                    })\n                }), Styles.spacer(8)));\n  }\n  return React.createElement(\"div\", {\n              className: Styles.column\n            }, React.createElement(\"div\", {\n                  className: Styles.row\n                }, React.createElement(\"button\", {\n                      className: colorButton,\n                      disabled: kind === /* Single */-306849112,\n                      onClick: (function (param) {\n                          return Curry._1(onChange, {\n                                      Single: null,\n                                      Line: undefined,\n                                      Circle: undefined\n                                    });\n                        })\n                    }, single), Styles.spacer(16), React.createElement(\"button\", {\n                      className: colorButton,\n                      disabled: typeof kind === \"number\" ? false : kind[0] === 848053268,\n                      onClick: (function (param) {\n                          return Curry._1(onChange, {\n                                      Single: undefined,\n                                      Line: /* tuple */[\n                                        3,\n                                        50.0\n                                      ],\n                                      Circle: undefined\n                                    });\n                        })\n                    }, line), Styles.spacer(16), React.createElement(\"button\", {\n                      className: colorButton,\n                      disabled: typeof kind === \"number\" ? false : kind[0] === 178382384,\n                      onClick: (function (param) {\n                          return Curry._1(onChange, {\n                                      Single: undefined,\n                                      Line: undefined,\n                                      Circle: /* tuple */[\n                                        5,\n                                        50.0,\n                                        false\n                                      ]\n                                    });\n                        })\n                    }, circle)), tmp);\n}\n\nvar Formation = /* module */[\n  /* size */50.0,\n  /* single */single,\n  /* circle */circle,\n  /* line */line,\n  /* colorButton */colorButton,\n  /* make */LightSource$Formation\n];\n\nfunction toAngleSpread(t0, t1) {\n  var angle = (t0 + t1) / 2.0;\n  var spread = Math.abs(angle - t0) * 2.0;\n  return /* tuple */[\n          angle,\n          spread\n        ];\n}\n\nfunction fromAngleSpread(angle, spread) {\n  return /* tuple */[\n          angle - spread / 2.0,\n          angle + spread / 2.0\n        ];\n}\n\nfunction fromRad(r) {\n  return r * 180.0 / Math.PI;\n}\n\nfunction toRad(d) {\n  return d / 180.0 * Math.PI;\n}\n\nfunction LightSource$LightMod(Props) {\n  var light = Props.light;\n  var onChange = Props.onChange;\n  var kind = light.kind.Point;\n  var match = toAngleSpread(kind.t0, kind.t1);\n  var spread = match[1];\n  var angle = match[0];\n  var modified = Math.abs(kind.t0 + Math.PI) > 0.000001 || Math.abs(kind.t1 - Math.PI) > 0.00001;\n  var match$1 = kind.offset !== 0.0;\n  return React.createElement(\"div\", {\n              className: Styles.column\n            }, React.createElement(\"div\", {\n                  className: Styles.row\n                }, React.createElement(\"button\", {\n                      className: Styles.toggleButton(kind.offset !== 0.0),\n                      onClick: (function (param) {\n                          var transform = function (item, arg) {\n                            return Object.assign(Object.assign({ }, item), {\n                                        kind: Object.assign(Object.assign({ }, item.kind), {\n                                              Point: Object.assign(Object.assign({ }, item.kind.Point), {\n                                                    offset: Curry._1(arg, item.kind.Point.offset)\n                                                  })\n                                            })\n                                      });\n                          };\n                          return Curry._2(onChange, transform(light, (function (offset) {\n                                            var match = offset === 0.0;\n                                            if (match) {\n                                              return 10.0;\n                                            } else {\n                                              return 0.0;\n                                            }\n                                          })), true);\n                        })\n                    }, React.createElement(\"svg\", {\n                          height: \"50\",\n                          width: \"50\"\n                        }, React.createElement(\"defs\", undefined, React.createElement(\"radialGradient\", {\n                                  id: \"myGradient\"\n                                }, React.createElement(\"stop\", {\n                                      offset: \"10%\",\n                                      stopColor: \"white\"\n                                    }), React.createElement(\"stop\", {\n                                      offset: \"50%\",\n                                      stopColor: \"black\"\n                                    }))), React.createElement(\"circle\", {\n                              cx: \"25\",\n                              cy: \"25\",\n                              fill: \"url('#myGradient')\",\n                              r: \"50\"\n                            }), React.createElement(\"circle\", {\n                              cx: \"25\",\n                              cy: \"25\",\n                              fill: \"black\",\n                              r: \"5\"\n                            }))), match$1 ? React.createElement(\"div\", {\n                        className: Css.style(/* :: */[\n                              Css.padding(Css.px(0)),\n                              /* [] */0\n                            ])\n                      }, React.createElement(Ui.Slider[/* make */0], {\n                            value: kind.offset,\n                            min: 1,\n                            max: 500.0,\n                            step: 1.0,\n                            onChange: (function (offset) {\n                                var transform = function (item, arg) {\n                                  return Object.assign(Object.assign({ }, item), {\n                                              kind: Object.assign(Object.assign({ }, item.kind), {\n                                                    Point: Object.assign(Object.assign({ }, item.kind.Point), {\n                                                          offset: arg\n                                                        })\n                                                  })\n                                            });\n                                };\n                                return Curry._2(onChange, transform(light, offset), false);\n                              })\n                          })) : null), Styles.spacer(16), React.createElement(\"div\", {\n                  className: Styles.row\n                }, React.createElement(\"button\", {\n                      className: Styles.toggleButton(modified),\n                      onClick: (function (param) {\n                          if (modified) {\n                            var transform = function (item, arg) {\n                              return Object.assign(Object.assign({ }, item), {\n                                          kind: Object.assign(Object.assign({ }, item.kind), {\n                                                Point: Object.assign(Object.assign({ }, item.kind.Point), {\n                                                      t1: arg\n                                                    })\n                                              })\n                                        });\n                            };\n                            var transform$1 = function (item, arg) {\n                              return Object.assign(Object.assign({ }, item), {\n                                          kind: Object.assign(Object.assign({ }, item.kind), {\n                                                Point: Object.assign(Object.assign({ }, item.kind.Point), {\n                                                      t0: arg\n                                                    })\n                                              })\n                                        });\n                            };\n                            return Curry._2(onChange, transform(transform$1(light, -Math.PI), Math.PI), true);\n                          } else {\n                            var transform$2 = function (item, arg) {\n                              return Object.assign(Object.assign({ }, item), {\n                                          kind: Object.assign(Object.assign({ }, item.kind), {\n                                                Point: Object.assign(Object.assign({ }, item.kind.Point), {\n                                                      t1: arg\n                                                    })\n                                              })\n                                        });\n                            };\n                            var transform$3 = function (item, arg) {\n                              return Object.assign(Object.assign({ }, item), {\n                                          kind: Object.assign(Object.assign({ }, item.kind), {\n                                                Point: Object.assign(Object.assign({ }, item.kind.Point), {\n                                                      t0: arg\n                                                    })\n                                              })\n                                        });\n                            };\n                            return Curry._2(onChange, transform$2(transform$3(light, -Math.PI / 5.0), Math.PI / 5.0), true);\n                          }\n                        })\n                    }, React.createElement(\"svg\", {\n                          height: \"50\",\n                          width: \"50\"\n                        }, React.createElement(\"defs\", undefined, React.createElement(\"radialGradient\", {\n                                  id: \"myGradient\"\n                                }, React.createElement(\"stop\", {\n                                      offset: \"10%\",\n                                      stopColor: \"white\"\n                                    }), React.createElement(\"stop\", {\n                                      offset: \"50%\",\n                                      stopColor: \"black\"\n                                    }))), React.createElement(\"circle\", {\n                              cx: \"15\",\n                              cy: \"20\",\n                              fill: \"url('#myGradient')\",\n                              r: \"50\"\n                            }), React.createElement(\"path\", {\n                              d: \"M0 0 L50 0 L50 20 L15 20 L50 50 L0 50z\",\n                              fill: \"black\"\n                            }))), modified ? React.createElement(\"div\", {\n                        className: Styles.column\n                      }, React.createElement(Ui.Slider[/* make */0], {\n                            value: fromRad(angle),\n                            min: 0,\n                            max: 360.0,\n                            step: 1.0,\n                            onChange: (function (angle) {\n                                var match = fromAngleSpread(toRad(angle), spread);\n                                var transform = function (item, arg) {\n                                  return Object.assign(Object.assign({ }, item), {\n                                              kind: Object.assign(Object.assign({ }, item.kind), {\n                                                    Point: Object.assign(Object.assign({ }, item.kind.Point), {\n                                                          t1: arg\n                                                        })\n                                                  })\n                                            });\n                                };\n                                var transform$1 = function (item, arg) {\n                                  return Object.assign(Object.assign({ }, item), {\n                                              kind: Object.assign(Object.assign({ }, item.kind), {\n                                                    Point: Object.assign(Object.assign({ }, item.kind.Point), {\n                                                          t0: arg\n                                                        })\n                                                  })\n                                            });\n                                };\n                                return Curry._2(onChange, transform(transform$1(light, match[0]), match[1]), false);\n                              })\n                          }), React.createElement(Ui.Slider[/* make */0], {\n                            value: fromRad(spread),\n                            min: 0,\n                            max: 359.0,\n                            step: 1.0,\n                            onChange: (function (spread) {\n                                var match = fromAngleSpread(angle, toRad(spread));\n                                var transform = function (item, arg) {\n                                  return Object.assign(Object.assign({ }, item), {\n                                              kind: Object.assign(Object.assign({ }, item.kind), {\n                                                    Point: Object.assign(Object.assign({ }, item.kind.Point), {\n                                                          t1: arg\n                                                        })\n                                                  })\n                                            });\n                                };\n                                var transform$1 = function (item, arg) {\n                                  return Object.assign(Object.assign({ }, item), {\n                                              kind: Object.assign(Object.assign({ }, item.kind), {\n                                                    Point: Object.assign(Object.assign({ }, item.kind.Point), {\n                                                          t0: arg\n                                                        })\n                                                  })\n                                            });\n                                };\n                                return Curry._2(onChange, transform(transform$1(light, match[0]), match[1]), false);\n                              })\n                          })) : null));\n}\n\nvar LightMod = /* module */[/* make */LightSource$LightMod];\n\nfunction LightSource(Props) {\n  var config = Props.config;\n  var onChange = Props.onChange;\n  return React.createElement(\"div\", {\n              className: Styles.column\n            }, React.createElement(\"div\", {\n                  className: Styles.title\n                }, \"Light source\"), React.createElement(LightSource$Formation, {\n                  formation: config.light_formation,\n                  onChange: (function (lf) {\n                      var transform = function (item, arg) {\n                        return Object.assign(Object.assign({ }, item), {\n                                    light_formation: arg\n                                  });\n                      };\n                      return Curry._2(onChange, transform(config, lf), true);\n                    })\n                }), Styles.spacer(16), React.createElement(LightSource$LightMod, {\n                  light: Caml_array.caml_array_get(config.lights, 0),\n                  onChange: (function (light, checkpoint) {\n                      var transform = function (item, arg) {\n                        return Object.assign(Object.assign({ }, item), {\n                                    lights: Curry._1(arg, item.lights)\n                                  });\n                      };\n                      return Curry._2(onChange, transform(config, (function (lights) {\n                                        var lights$1 = lights.slice();\n                                        Caml_array.caml_array_set(lights$1, 0, light);\n                                        return lights$1;\n                                      })), checkpoint);\n                    })\n                }));\n}\n\nvar make = LightSource;\n\nexports.Formation = Formation;\nexports.toAngleSpread = toAngleSpread;\nexports.fromAngleSpread = fromAngleSpread;\nexports.fromRad = fromRad;\nexports.toRad = toRad;\nexports.LightMod = LightMod;\nexports.make = make;\n/* single Not a pure module */\n\n\n//# sourceURL=webpack:///./ui/sidebar/LightSource.bs.js?");

/***/ }),

/***/ "./ui/sidebar/Reflection.bs.js":
/*!*************************************!*\
  !*** ./ui/sidebar/Reflection.bs.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("// Generated by BUCKLESCRIPT VERSION 5.0.4, PLEASE EDIT WITH CARE\n\n\nvar Curry = __webpack_require__(/*! bs-platform/lib/js/curry.js */ \"./node_modules/bs-platform/lib/js/curry.js\");\nvar Tippy = __webpack_require__(/*! ../Tippy.bs.js */ \"./ui/Tippy.bs.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nvar Styles = __webpack_require__(/*! ../Styles.bs.js */ \"./ui/Styles.bs.js\");\n\nfunction Reflection(Props) {\n  var enabled = Props.enabled;\n  var onChange = Props.onChange;\n  return React.createElement(Tippy.make, {\n              content: \"Reflection\",\n              children: React.createElement(\"button\", {\n                    className: Styles.toggleButton(enabled),\n                    onClick: (function (param) {\n                        return Curry._1(onChange, !enabled);\n                      })\n                  }, React.createElement(\"svg\", {\n                        height: \"50\",\n                        width: \"50\"\n                      }, React.createElement(\"path\", {\n                            d: \"M25,0 L25,50\",\n                            stroke: \"black\",\n                            strokeWidth: \"2px\"\n                          }), React.createElement(\"path\", {\n                            d: \"M10,50 L20,30\",\n                            stroke: \"black\",\n                            strokeWidth: \"2px\"\n                          }), React.createElement(\"path\", {\n                            d: \"M40,50 L30,30\",\n                            stroke: \"black\",\n                            strokeDasharray: \"2\",\n                            strokeWidth: \"2px\"\n                          }), React.createElement(\"path\", {\n                            d: \"M0,10 L10,20\",\n                            stroke: \"black\",\n                            strokeWidth: \"2px\"\n                          }), React.createElement(\"path\", {\n                            d: \"M50,10 L40,20\",\n                            stroke: \"black\",\n                            strokeDasharray: \"2\",\n                            strokeWidth: \"2px\"\n                          })))\n            });\n}\n\nvar make = Reflection;\n\nexports.make = make;\n/* Tippy Not a pure module */\n\n\n//# sourceURL=webpack:///./ui/sidebar/Reflection.bs.js?");

/***/ }),

/***/ "./ui/sidebar/RotationSym.bs.js":
/*!**************************************!*\
  !*** ./ui/sidebar/RotationSym.bs.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("// Generated by BUCKLESCRIPT VERSION 5.0.4, PLEASE EDIT WITH CARE\n\n\nvar Css = __webpack_require__(/*! bs-css/src/Css.js */ \"./node_modules/bs-css/src/Css.js\");\nvar $$Array = __webpack_require__(/*! bs-platform/lib/js/array.js */ \"./node_modules/bs-platform/lib/js/array.js\");\nvar Block = __webpack_require__(/*! bs-platform/lib/js/block.js */ \"./node_modules/bs-platform/lib/js/block.js\");\nvar Curry = __webpack_require__(/*! bs-platform/lib/js/curry.js */ \"./node_modules/bs-platform/lib/js/curry.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nvar Printf = __webpack_require__(/*! bs-platform/lib/js/printf.js */ \"./node_modules/bs-platform/lib/js/printf.js\");\nvar Styles = __webpack_require__(/*! ../Styles.bs.js */ \"./ui/Styles.bs.js\");\nvar Caml_format = __webpack_require__(/*! bs-platform/lib/js/caml_format.js */ \"./node_modules/bs-platform/lib/js/caml_format.js\");\nvar Caml_primitive = __webpack_require__(/*! bs-platform/lib/js/caml_primitive.js */ \"./node_modules/bs-platform/lib/js/caml_primitive.js\");\n\nfunction many(num, fn) {\n  var match = num === 0;\n  if (match) {\n    return /* [] */0;\n  } else {\n    return /* :: */[\n            Curry._1(fn, num),\n            many(num - 1 | 0, fn)\n          ];\n  }\n}\n\nfunction RotationSym(Props) {\n  var count = Props.count;\n  var onChange = Props.onChange;\n  var scale = 3.1415 * 2.0 / count;\n  return React.createElement(\"div\", {\n              className: Styles.row\n            }, React.createElement(\"div\", {\n                  className: Css.style(/* :: */[\n                        Css.position(/* relative */903134412),\n                        /* [] */0\n                      ])\n                }, React.createElement(\"svg\", {\n                      height: String(50),\n                      width: String(50)\n                    }, $$Array.of_list(many(count, (function (i) {\n                                var c = 50 / 2.0;\n                                var a0 = i * scale - 3.1415 / 2.0 - 3.1415 / 10.0;\n                                var a1 = a0 + 3.1415 / 10.0;\n                                return React.createElement(\"path\", {\n                                            d: Curry._4(Printf.sprintf(/* Format */[\n                                                      /* Char_literal */Block.__(12, [\n                                                          /* \"M\" */77,\n                                                          /* Float */Block.__(8, [\n                                                              /* Float_f */0,\n                                                              /* Lit_padding */Block.__(0, [\n                                                                  /* Right */1,\n                                                                  0\n                                                                ]),\n                                                              /* Lit_precision */[2],\n                                                              /* Char_literal */Block.__(12, [\n                                                                  /* \",\" */44,\n                                                                  /* Float */Block.__(8, [\n                                                                      /* Float_f */0,\n                                                                      /* Lit_padding */Block.__(0, [\n                                                                          /* Right */1,\n                                                                          0\n                                                                        ]),\n                                                                      /* Lit_precision */[2],\n                                                                      /* String_literal */Block.__(11, [\n                                                                          \" L\",\n                                                                          /* Float */Block.__(8, [\n                                                                              /* Float_f */0,\n                                                                              /* Lit_padding */Block.__(0, [\n                                                                                  /* Right */1,\n                                                                                  0\n                                                                                ]),\n                                                                              /* Lit_precision */[2],\n                                                                              /* Char_literal */Block.__(12, [\n                                                                                  /* \",\" */44,\n                                                                                  /* Float */Block.__(8, [\n                                                                                      /* Float_f */0,\n                                                                                      /* Lit_padding */Block.__(0, [\n                                                                                          /* Right */1,\n                                                                                          0\n                                                                                        ]),\n                                                                                      /* Lit_precision */[2],\n                                                                                      /* End_of_format */0\n                                                                                    ])\n                                                                                ])\n                                                                            ])\n                                                                        ])\n                                                                    ])\n                                                                ])\n                                                            ])\n                                                        ]),\n                                                      \"M%0.2f,%0.2f L%0.2f,%0.2f\"\n                                                    ]), c + Math.cos(a0) * 15.0, c + Math.sin(a0) * 15.0, c + Math.cos(a1) * 25.0, c + Math.sin(a1) * 25.0),\n                                            stroke: \"black\",\n                                            strokeWidth: \"2px\"\n                                          });\n                              })))), React.createElement(\"div\", {\n                      className: Css.style(/* :: */[\n                            Css.position(/* absolute */-1013592457),\n                            /* :: */[\n                              Css.top(/* zero */-789508312),\n                              /* :: */[\n                                Css.bottom(/* zero */-789508312),\n                                /* :: */[\n                                  Css.left(/* zero */-789508312),\n                                  /* :: */[\n                                    Css.right(/* zero */-789508312),\n                                    /* :: */[\n                                      Css.display(/* flex */-1010954439),\n                                      /* :: */[\n                                        Css.justifyContent(/* center */98248149),\n                                        /* :: */[\n                                          Css.alignItems(/* center */98248149),\n                                          /* [] */0\n                                        ]\n                                      ]\n                                    ]\n                                  ]\n                                ]\n                              ]\n                            ]\n                          ])\n                    }, React.createElement(\"input\", {\n                          className: Css.style(/* :: */[\n                                Css.marginLeft(Css.px(15)),\n                                /* :: */[\n                                  Css.backgroundColor(/* transparent */582626130),\n                                  /* :: */[\n                                    Css.width(Css.px(40)),\n                                    /* :: */[\n                                      Css.textAlign(/* center */98248149),\n                                      /* :: */[\n                                        Css.borderStyle(/* none */-922086728),\n                                        /* [] */0\n                                      ]\n                                    ]\n                                  ]\n                                ]\n                              ]),\n                          min: 1,\n                          type: \"number\",\n                          value: String(count),\n                          onChange: (function (evt) {\n                              return Curry._1(onChange, Caml_format.caml_int_of_string(evt.target.value));\n                            })\n                        }))), React.createElement(\"div\", {\n                  className: Css.style(/* :: */[\n                        Css.flexBasis(Css.px(8)),\n                        /* :: */[\n                          Css.flexShrink(0),\n                          /* [] */0\n                        ]\n                      ])\n                }), React.createElement(\"div\", {\n                  className: Styles.column\n                }, React.createElement(\"button\", {\n                      onClick: (function (param) {\n                          return Curry._1(onChange, count + 1 | 0);\n                        })\n                    }, \"+\"), Styles.spacer(8), React.createElement(\"button\", {\n                      onClick: (function (param) {\n                          return Curry._1(onChange, Caml_primitive.caml_int_max(1, count - 1 | 0));\n                        })\n                    }, \"-\")));\n}\n\nvar pi = 3.1415;\n\nvar make = RotationSym;\n\nexports.many = many;\nexports.pi = pi;\nexports.make = make;\n/* Css Not a pure module */\n\n\n//# sourceURL=webpack:///./ui/sidebar/RotationSym.bs.js?");

/***/ }),

/***/ "./ui/sidebar/Sidebar.bs.js":
/*!**********************************!*\
  !*** ./ui/sidebar/Sidebar.bs.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("// Generated by BUCKLESCRIPT VERSION 5.0.4, PLEASE EDIT WITH CARE\n\n\nvar Css = __webpack_require__(/*! bs-css/src/Css.js */ \"./node_modules/bs-css/src/Css.js\");\nvar Curry = __webpack_require__(/*! bs-platform/lib/js/curry.js */ \"./node_modules/bs-platform/lib/js/curry.js\");\nvar Walls = __webpack_require__(/*! ./Walls.bs.js */ \"./ui/sidebar/Walls.bs.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nvar Styles = __webpack_require__(/*! ../Styles.bs.js */ \"./ui/Styles.bs.js\");\nvar Reflection = __webpack_require__(/*! ./Reflection.bs.js */ \"./ui/sidebar/Reflection.bs.js\");\nvar LightSource = __webpack_require__(/*! ./LightSource.bs.js */ \"./ui/sidebar/LightSource.bs.js\");\nvar RotationSym = __webpack_require__(/*! ./RotationSym.bs.js */ \"./ui/sidebar/RotationSym.bs.js\");\nvar ExposureFunction = __webpack_require__(/*! ../ExposureFunction.bs.js */ \"./ui/ExposureFunction.bs.js\");\n\nfunction Sidebar(Props) {\n  var update = Props.update;\n  var updateUi = Props.updateUi;\n  var config = Props.config;\n  var ui = Props.ui;\n  var wasm = Props.wasm;\n  return React.createElement(\"div\", {\n              className: Styles.join(/* :: */[\n                    Styles.column,\n                    /* :: */[\n                      Styles.control,\n                      /* :: */[\n                        Css.style(/* :: */[\n                              Css.overflow(/* auto */-1065951377),\n                              /* :: */[\n                                Css.flexShrink(1),\n                                /* [] */0\n                              ]\n                            ]),\n                        /* [] */0\n                      ]\n                    ]\n                  ])\n            }, React.createElement(\"div\", {\n                  className: Styles.title\n                }, \"Symmetry\"), React.createElement(\"div\", {\n                  className: Styles.row\n                }, React.createElement(RotationSym.make, {\n                      count: config.transform.rotational_symmetry,\n                      onChange: (function (v) {\n                          var transform = function (item, arg) {\n                            return Object.assign(Object.assign({ }, item), {\n                                        transform: Object.assign(Object.assign({ }, item.transform), {\n                                              rotational_symmetry: arg\n                                            })\n                                      });\n                          };\n                          return Curry._2(update, transform(config, v), true);\n                        })\n                    }), Styles.spacer(16), React.createElement(Reflection.make, {\n                      enabled: config.transform.reflection,\n                      onChange: (function (v) {\n                          var transform = function (item, arg) {\n                            return Object.assign(Object.assign({ }, item), {\n                                        transform: Object.assign(Object.assign({ }, item.transform), {\n                                              reflection: arg\n                                            })\n                                      });\n                          };\n                          return Curry._2(update, transform(config, v), true);\n                        })\n                    })), Styles.spacer(16), React.createElement(Walls.make, {\n                  config: config,\n                  ui: ui,\n                  update: update,\n                  updateUi: updateUi\n                }), Styles.spacer(16), React.createElement(LightSource.make, {\n                  config: config,\n                  onChange: update\n                }), Styles.spacer(16), React.createElement(ExposureFunction.make, {\n                  config: config,\n                  update: update,\n                  wasm: wasm\n                }));\n}\n\nvar make = Sidebar;\n\nexports.make = make;\n/* Css Not a pure module */\n\n\n//# sourceURL=webpack:///./ui/sidebar/Sidebar.bs.js?");

/***/ }),

/***/ "./ui/sidebar/Wall.bs.js":
/*!*******************************!*\
  !*** ./ui/sidebar/Wall.bs.js ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("// Generated by BUCKLESCRIPT VERSION 5.0.4, PLEASE EDIT WITH CARE\n\n\nvar Css = __webpack_require__(/*! bs-css/src/Css.js */ \"./node_modules/bs-css/src/Css.js\");\nvar Curry = __webpack_require__(/*! bs-platform/lib/js/curry.js */ \"./node_modules/bs-platform/lib/js/curry.js\");\nvar Tippy = __webpack_require__(/*! ../Tippy.bs.js */ \"./ui/Tippy.bs.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nvar Colors = __webpack_require__(/*! ../Colors.bs.js */ \"./ui/Colors.bs.js\");\nvar Styles = __webpack_require__(/*! ../Styles.bs.js */ \"./ui/Styles.bs.js\");\nvar WallEditor = __webpack_require__(/*! ../objects/WallEditor.bs.js */ \"./ui/objects/WallEditor.bs.js\");\nvar MdEye = __webpack_require__(/*! react-ionicons/lib/MdEye */ \"./node_modules/react-ionicons/lib/MdEye.js\");\nvar MdClose = __webpack_require__(/*! react-ionicons/lib/MdClose */ \"./node_modules/react-ionicons/lib/MdClose.js\");\nvar MdEyeOff = __webpack_require__(/*! react-ionicons/lib/MdEyeOff */ \"./node_modules/react-ionicons/lib/MdEyeOff.js\");\nvar MdSettings = __webpack_require__(/*! react-ionicons/lib/MdSettings */ \"./node_modules/react-ionicons/lib/MdSettings.js\");\nvar MdArrowDropdown = __webpack_require__(/*! react-ionicons/lib/MdArrowDropdown */ \"./node_modules/react-ionicons/lib/MdArrowDropdown.js\");\nvar MdArrowDropright = __webpack_require__(/*! react-ionicons/lib/MdArrowDropright */ \"./node_modules/react-ionicons/lib/MdArrowDropright.js\");\n\nvar mirror = React.createElement(\"svg\", {\n      height: String(20),\n      width: String(20)\n    }, React.createElement(\"rect\", {\n          height: String(20),\n          width: \"3\",\n          fill: \"currentcolor\",\n          stroke: \"currentcolor\",\n          strokeWidth: \"0px\",\n          x: \"13\",\n          y: \"0\"\n        }), React.createElement(\"path\", {\n          d: \"M3,3 L13,10 L3,17\",\n          fill: \"none\",\n          stroke: \"currentcolor\",\n          strokeWidth: \"1px\"\n        }));\n\nvar prism = React.createElement(\"svg\", {\n      height: String(20),\n      width: String(20)\n    }, React.createElement(\"rect\", {\n          height: String(20),\n          width: \"3\",\n          fill: \"currentcolor\",\n          stroke: \"currentcolor\",\n          strokeWidth: \"0px\",\n          x: \"10\",\n          y: \"0\"\n        }), React.createElement(\"path\", {\n          d: \"M0,3 L10,10 L20,12\",\n          fill: \"none\",\n          stroke: \"currentcolor\",\n          strokeWidth: \"1px\"\n        }));\n\nvar block = React.createElement(\"svg\", {\n      height: String(20),\n      width: String(20)\n    }, React.createElement(\"rect\", {\n          height: String(20),\n          width: \"3\",\n          fill: \"currentcolor\",\n          stroke: \"currentcolor\",\n          strokeWidth: \"0px\",\n          x: \"13\",\n          y: \"0\"\n        }), React.createElement(\"path\", {\n          d: \"M3,3 L13,10\",\n          fill: \"none\",\n          stroke: \"currentcolor\",\n          strokeWidth: \"1px\"\n        }));\n\nfunction getStatus(properties) {\n  var match = properties.absorb;\n  var match$1 = properties.reflect;\n  if (match !== 0.0) {\n    if (match !== 1.0) {\n      return /* Custom */-198771759;\n    } else {\n      return /* Absorb */919565517;\n    }\n  } else if (match$1 !== 0.0) {\n    if (match$1 !== 1.0) {\n      return /* Custom */-198771759;\n    } else {\n      return /* Reflect */914009117;\n    }\n  } else {\n    return /* Refract */980347603;\n  }\n}\n\nfunction Wall(Props) {\n  var wall = Props.wall;\n  var onChange = Props.onChange;\n  var onRemove = Props.onRemove;\n  var selected = Props.selected;\n  var onHoverOut = Props.onHoverOut;\n  var onSelect = Props.onSelect;\n  var onDeselect = Props.onDeselect;\n  var onHover = Props.onHover;\n  var status = getStatus(wall.properties);\n  var match = wall.hide;\n  var s = Css.style(/* :: */[\n        Css.padding(Css.px(16)),\n        /* :: */[\n          Css.border(Css.px(2), /* solid */12956715, Colors.accent),\n          /* :: */[\n            Css.margin(Css.px(8)),\n            /* [] */0\n          ]\n        ]\n      ]);\n  return React.createElement(\"div\", {\n              className: Styles.join(/* :: */[\n                    Styles.column,\n                    /* :: */[\n                      Css.style(/* :: */[\n                            Css.marginBottom(Css.px(8)),\n                            /* [] */0\n                          ]),\n                      /* [] */0\n                    ]\n                  ]),\n              onMouseOut: (function (_evt) {\n                  return Curry._1(onHoverOut, /* () */0);\n                }),\n              onMouseOver: (function (_evt) {\n                  return Curry._1(onHover, /* () */0);\n                })\n            }, React.createElement(\"div\", {\n                  className: Styles.join(/* :: */[\n                        Styles.row,\n                        /* :: */[\n                          Css.style(/* :: */[\n                                Css.alignItems(/* center */98248149),\n                                /* [] */0\n                              ]),\n                          /* [] */0\n                        ]\n                      ])\n                }, React.createElement(\"div\", {\n                      className: Css.style(/* :: */[\n                            Css.cursor(/* pointer */-786317123),\n                            /* :: */[\n                              Css.flex(1),\n                              /* :: */[\n                                Css.color(selected ? Colors.accent : Colors.text),\n                                /* :: */[\n                                  Css.display(/* flex */-1010954439),\n                                  /* :: */[\n                                    Css.alignItems(/* center */98248149),\n                                    /* :: */[\n                                      Css.flexDirection(/* row */5693978),\n                                      /* [] */0\n                                    ]\n                                  ]\n                                ]\n                              ]\n                            ]\n                          ]),\n                      onClick: (function (_evt) {\n                          if (selected) {\n                            return Curry._1(onDeselect, /* () */0);\n                          } else {\n                            return Curry._1(onSelect, /* () */0);\n                          }\n                        })\n                    }, selected ? React.createElement(MdArrowDropdown, {\n                            fontSize: \"14px\"\n                          }) : React.createElement(MdArrowDropright, {\n                            fontSize: \"14px\"\n                          }), Styles.spacer(4), WallEditor.wallType(wall.kind)), Styles.spacer(8), React.createElement(Tippy.make, {\n                      content: \"Mirror\",\n                      children: React.createElement(\"span\", undefined, React.createElement(\"button\", {\n                                className: Styles.colorButton,\n                                disabled: status === /* Reflect */914009117,\n                                onClick: (function (_evt) {\n                                    var transform = function (item, arg) {\n                                      return Object.assign(Object.assign({ }, item), {\n                                                  properties: Curry._1(arg, item.properties)\n                                                });\n                                    };\n                                    return Curry._2(onChange, transform(wall, (function (p) {\n                                                      var transform = function (item, arg) {\n                                                        return Object.assign(Object.assign({ }, item), {\n                                                                    absorb: arg\n                                                                  });\n                                                      };\n                                                      var item = transform(p, 0.0);\n                                                      var arg = 1.0;\n                                                      return Object.assign(Object.assign({ }, item), {\n                                                                  reflect: arg\n                                                                });\n                                                    })), true);\n                                  })\n                              }, mirror))\n                    }), React.createElement(Tippy.make, {\n                      content: \"Prism\",\n                      children: React.createElement(\"span\", undefined, React.createElement(\"button\", {\n                                className: Styles.colorButton,\n                                disabled: status === /* Refract */980347603,\n                                onClick: (function (_evt) {\n                                    var transform = function (item, arg) {\n                                      return Object.assign(Object.assign({ }, item), {\n                                                  properties: Curry._1(arg, item.properties)\n                                                });\n                                    };\n                                    return Curry._2(onChange, transform(wall, (function (p) {\n                                                      var transform = function (item, arg) {\n                                                        return Object.assign(Object.assign({ }, item), {\n                                                                    absorb: arg\n                                                                  });\n                                                      };\n                                                      var item = transform(p, 0.0);\n                                                      var arg = 0.0;\n                                                      return Object.assign(Object.assign({ }, item), {\n                                                                  reflect: arg\n                                                                });\n                                                    })), true);\n                                  })\n                              }, prism))\n                    }), React.createElement(Tippy.make, {\n                      content: \"Block\",\n                      children: React.createElement(\"span\", undefined, React.createElement(\"button\", {\n                                className: Styles.colorButton,\n                                disabled: status === /* Absorb */919565517,\n                                onClick: (function (_evt) {\n                                    var transform = function (item, arg) {\n                                      return Object.assign(Object.assign({ }, item), {\n                                                  properties: Curry._1(arg, item.properties)\n                                                });\n                                    };\n                                    return Curry._2(onChange, transform(wall, (function (p) {\n                                                      var item = p;\n                                                      var arg = 1.0;\n                                                      return Object.assign(Object.assign({ }, item), {\n                                                                  absorb: arg\n                                                                });\n                                                    })), true);\n                                  })\n                              }, block))\n                    }), React.createElement(Tippy.make, {\n                      content: \"Custom behavior\",\n                      children: React.createElement(\"span\", undefined, React.createElement(\"button\", {\n                                className: Styles.colorButton,\n                                disabled: status === /* Custom */-198771759,\n                                onClick: (function (_evt) {\n                                    var transform = function (item, arg) {\n                                      return Object.assign(Object.assign({ }, item), {\n                                                  properties: Curry._1(arg, item.properties)\n                                                });\n                                    };\n                                    return Curry._2(onChange, transform(wall, (function (p) {\n                                                      var transform = function (item, arg) {\n                                                        return Object.assign(Object.assign({ }, item), {\n                                                                    absorb: arg\n                                                                  });\n                                                      };\n                                                      var item = transform(p, 0.333);\n                                                      var arg = 0.5;\n                                                      return Object.assign(Object.assign({ }, item), {\n                                                                  reflect: arg\n                                                                });\n                                                    })), true);\n                                  })\n                              }, React.createElement(MdSettings, {\n                                    fontSize: \"20px\",\n                                    color: \"currentcolor\"\n                                  })))\n                    }), Styles.fullSpace, match ? React.createElement(Tippy.make, {\n                        content: \"Show\",\n                        children: React.createElement(\"button\", {\n                              className: Styles.colorButton,\n                              onClick: (function (param) {\n                                  var transform = function (item, arg) {\n                                    return Object.assign(Object.assign({ }, item), {\n                                                hide: arg\n                                              });\n                                  };\n                                  return Curry._2(onChange, transform(wall, false), true);\n                                })\n                            }, React.createElement(MdEyeOff, {\n                                  fontSize: \"20px\"\n                                }))\n                      }) : React.createElement(Tippy.make, {\n                        content: \"Hide\",\n                        children: React.createElement(\"button\", {\n                              className: Styles.colorButton,\n                              onClick: (function (param) {\n                                  var transform = function (item, arg) {\n                                    return Object.assign(Object.assign({ }, item), {\n                                                hide: arg\n                                              });\n                                  };\n                                  return Curry._2(onChange, transform(wall, true), true);\n                                })\n                            }, React.createElement(MdEye, {\n                                  fontSize: \"20px\"\n                                }))\n                      }), Styles.spacer(8), React.createElement(Tippy.make, {\n                      content: \"Delete\",\n                      children: React.createElement(\"button\", {\n                            className: Styles.colorButton,\n                            onClick: (function (param) {\n                                return Curry._1(onRemove, /* () */0);\n                              })\n                          }, React.createElement(MdClose, {\n                                fontSize: \"20px\"\n                              }))\n                    })), selected ? (\n                status >= 919565517 ? (\n                    status >= 980347603 ? React.createElement(\"div\", {\n                            className: s\n                          }, React.createElement(WallEditor.RefractionEditor[/* make */0], {\n                                wall: wall,\n                                onChange: (function (wall) {\n                                    return Curry._2(onChange, wall, false);\n                                  })\n                              })) : null\n                  ) : (\n                    status >= 914009117 ? React.createElement(\"div\", {\n                            className: s\n                          }, React.createElement(WallEditor.ScatterEditor[/* make */0], {\n                                wall: wall,\n                                onChange: (function (wall) {\n                                    return Curry._2(onChange, wall, false);\n                                  }),\n                                wide: true\n                              })) : React.createElement(\"div\", {\n                            className: s\n                          }, React.createElement(WallEditor.PropertiesTriangle[/* make */0], {\n                                wall: wall,\n                                onChange: (function (wall) {\n                                    return Curry._2(onChange, wall, false);\n                                  })\n                              }))\n                  )\n              ) : null);\n}\n\nvar size = 20;\n\nvar make = Wall;\n\nexports.size = size;\nexports.mirror = mirror;\nexports.prism = prism;\nexports.block = block;\nexports.getStatus = getStatus;\nexports.make = make;\n/* mirror Not a pure module */\n\n\n//# sourceURL=webpack:///./ui/sidebar/Wall.bs.js?");

/***/ }),

/***/ "./ui/sidebar/Walls.bs.js":
/*!********************************!*\
  !*** ./ui/sidebar/Walls.bs.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("// Generated by BUCKLESCRIPT VERSION 5.0.4, PLEASE EDIT WITH CARE\n\n\nvar Rust = __webpack_require__(/*! ../Rust.bs.js */ \"./ui/Rust.bs.js\");\nvar Wall = __webpack_require__(/*! ./Wall.bs.js */ \"./ui/sidebar/Wall.bs.js\");\nvar Curry = __webpack_require__(/*! bs-platform/lib/js/curry.js */ \"./node_modules/bs-platform/lib/js/curry.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nvar Styles = __webpack_require__(/*! ../Styles.bs.js */ \"./ui/Styles.bs.js\");\nvar Caml_obj = __webpack_require__(/*! bs-platform/lib/js/caml_obj.js */ \"./node_modules/bs-platform/lib/js/caml_obj.js\");\nvar Belt_Array = __webpack_require__(/*! bs-platform/lib/js/belt_Array.js */ \"./node_modules/bs-platform/lib/js/belt_Array.js\");\nvar Caml_array = __webpack_require__(/*! bs-platform/lib/js/caml_array.js */ \"./node_modules/bs-platform/lib/js/caml_array.js\");\n\nvar color = \"currentcolor\";\n\nvar lw = \"2px\";\n\nvar line = React.createElement(\"svg\", {\n      height: String(50),\n      width: String(50)\n    }, React.createElement(\"path\", {\n          d: \"M10,10 L40,40\",\n          stroke: color,\n          strokeWidth: lw\n        }), React.createElement(\"circle\", {\n          cx: \"10\",\n          cy: \"10\",\n          fill: \"white\",\n          r: \"4\",\n          stroke: color,\n          strokeWidth: lw\n        }), React.createElement(\"circle\", {\n          cx: \"40\",\n          cy: \"40\",\n          fill: \"white\",\n          r: \"4\",\n          stroke: color,\n          strokeWidth: lw\n        }));\n\nvar arc = React.createElement(\"svg\", {\n      height: String(50),\n      width: String(50)\n    }, React.createElement(\"path\", {\n          d: \"M15,15 A10 10 0 0 0 35 35\",\n          fill: \"none\",\n          stroke: color,\n          strokeWidth: lw\n        }), React.createElement(\"circle\", {\n          cx: \"15\",\n          cy: \"15\",\n          fill: \"white\",\n          r: \"4\",\n          stroke: color,\n          strokeWidth: lw\n        }), React.createElement(\"circle\", {\n          cx: \"35\",\n          cy: \"35\",\n          fill: \"white\",\n          r: \"4\",\n          stroke: color,\n          strokeWidth: lw\n        }));\n\nvar parabola = React.createElement(\"svg\", {\n      height: String(50),\n      width: String(50)\n    }, React.createElement(\"path\", {\n          d: \"M10,10 C 15 50 35 50 40 10\",\n          fill: \"none\",\n          stroke: color,\n          strokeWidth: lw\n        }), React.createElement(\"path\", {\n          d: \"M10 40 L40 40\",\n          fill: \"none\",\n          stroke: color,\n          strokeDasharray: \"2\",\n          strokeWidth: lw\n        }), React.createElement(\"circle\", {\n          cx: \"10\",\n          cy: \"40\",\n          fill: \"white\",\n          r: \"4\",\n          stroke: color,\n          strokeWidth: lw\n        }), React.createElement(\"circle\", {\n          cx: \"40\",\n          cy: \"40\",\n          fill: \"white\",\n          r: \"4\",\n          stroke: color,\n          strokeWidth: lw\n        }));\n\nfunction Walls$AddWall(Props) {\n  var ui = Props.ui;\n  var updateUi = Props.updateUi;\n  var match = ui.selection;\n  var adding = match !== null ? match.Adding : undefined;\n  return React.createElement(\"div\", {\n              className: Styles.row\n            }, React.createElement(\"button\", {\n                  className: Styles.toggleButton(Caml_obj.caml_equal(adding, \"Line\")),\n                  onClick: (function (_evt) {\n                      var transform = function (item, arg) {\n                        return Object.assign(Object.assign({ }, item), {\n                                    selection: arg\n                                  });\n                      };\n                      var match = Caml_obj.caml_equal(adding, \"Line\");\n                      return Curry._1(updateUi, transform(ui, match ? null : ({\n                                          Adding: \"Line\",\n                                          Multiple: undefined,\n                                          Light: undefined,\n                                          Wall: undefined\n                                        })));\n                    })\n                }, line), Styles.spacer(8), React.createElement(\"button\", {\n                  className: Styles.toggleButton(Caml_obj.caml_equal(adding, \"Parabola\")),\n                  onClick: (function (_evt) {\n                      var transform = function (item, arg) {\n                        return Object.assign(Object.assign({ }, item), {\n                                    selection: arg\n                                  });\n                      };\n                      var match = Caml_obj.caml_equal(adding, \"Parabola\");\n                      return Curry._1(updateUi, transform(ui, match ? null : ({\n                                          Adding: \"Parabola\",\n                                          Multiple: undefined,\n                                          Light: undefined,\n                                          Wall: undefined\n                                        })));\n                    })\n                }, parabola), Styles.spacer(8), React.createElement(\"button\", {\n                  className: Styles.toggleButton(Caml_obj.caml_equal(adding, \"Circle\")),\n                  onClick: (function (_evt) {\n                      var transform = function (item, arg) {\n                        return Object.assign(Object.assign({ }, item), {\n                                    selection: arg\n                                  });\n                      };\n                      var match = Caml_obj.caml_equal(adding, \"Circle\");\n                      return Curry._1(updateUi, transform(ui, match ? null : ({\n                                          Adding: \"Circle\",\n                                          Multiple: undefined,\n                                          Light: undefined,\n                                          Wall: undefined\n                                        })));\n                    })\n                }, arc));\n}\n\nvar AddWall = /* module */[\n  /* size */50,\n  /* color */color,\n  /* lw */lw,\n  /* line */line,\n  /* arc */arc,\n  /* parabola */parabola,\n  /* make */Walls$AddWall\n];\n\nfunction Walls(Props) {\n  var config = Props.config;\n  var ui = Props.ui;\n  var update = Props.update;\n  var updateUi = Props.updateUi;\n  return React.createElement(\"div\", {\n              className: Styles.column\n            }, React.createElement(\"div\", {\n                  className: Styles.title\n                }, \"Add Wall\"), Styles.spacer(8), React.createElement(Walls$AddWall, {\n                  ui: ui,\n                  updateUi: updateUi\n                }), Styles.spacer(16), React.createElement(\"div\", {\n                  className: Styles.title\n                }, \"Walls\"), Styles.spacer(8), Belt_Array.mapWithIndex(config.walls, (function (i, wall) {\n                    var match = ui.selection;\n                    var selected;\n                    if (match !== null) {\n                      var match$1 = match.Wall;\n                      selected = match$1 !== undefined ? i === match$1[0] : false;\n                    } else {\n                      selected = false;\n                    }\n                    return React.createElement(Wall.make, {\n                                wall: wall,\n                                onChange: (function (wall, checkpoint) {\n                                    if (!selected) {\n                                      var transform = function (item, arg) {\n                                        return Object.assign(Object.assign({ }, item), {\n                                                    selection: arg\n                                                  });\n                                      };\n                                      Curry._1(updateUi, transform(ui, Rust.selectWall(i)));\n                                    }\n                                    var transform$1 = function (item, arg) {\n                                      return Object.assign(Object.assign({ }, item), {\n                                                  walls: Curry._1(arg, item.walls)\n                                                });\n                                    };\n                                    return Curry._2(update, transform$1(config, (function (walls) {\n                                                      var walls$1 = walls.slice();\n                                                      Caml_array.caml_array_set(walls$1, i, wall);\n                                                      return walls$1;\n                                                    })), checkpoint);\n                                  }),\n                                onRemove: (function (param) {\n                                    var transform = function (item, arg) {\n                                      return Object.assign(Object.assign({ }, item), {\n                                                  walls: Curry._1(arg, item.walls)\n                                                });\n                                    };\n                                    return Curry._2(update, transform(config, (function (walls) {\n                                                      var walls$1 = walls.slice();\n                                                      walls$1.splice(i, 1);\n                                                      return walls$1;\n                                                    })), true);\n                                  }),\n                                selected: selected,\n                                onHoverOut: (function (param) {\n                                    var transform = function (item, arg) {\n                                      return Object.assign(Object.assign({ }, item), {\n                                                  mouse_over: arg\n                                                });\n                                    };\n                                    var transform$1 = function (item, arg) {\n                                      return Object.assign(Object.assign({ }, item), {\n                                                  hovered: arg\n                                                });\n                                    };\n                                    return Curry._1(updateUi, transform(transform$1(ui, null), false));\n                                  }),\n                                onSelect: (function (param) {\n                                    var transform = function (item, arg) {\n                                      return Object.assign(Object.assign({ }, item), {\n                                                  selection: arg\n                                                });\n                                    };\n                                    return Curry._1(updateUi, transform(ui, Rust.selectWall(i)));\n                                  }),\n                                onDeselect: (function (param) {\n                                    var transform = function (item, arg) {\n                                      return Object.assign(Object.assign({ }, item), {\n                                                  selection: arg\n                                                });\n                                    };\n                                    return Curry._1(updateUi, transform(ui, null));\n                                  }),\n                                onHover: (function (param) {\n                                    var transform = function (item, arg) {\n                                      return Object.assign(Object.assign({ }, item), {\n                                                  mouse_over: arg\n                                                });\n                                    };\n                                    var transform$1 = function (item, arg) {\n                                      return Object.assign(Object.assign({ }, item), {\n                                                  hovered: arg\n                                                });\n                                    };\n                                    return Curry._1(updateUi, transform(transform$1(ui, /* tuple */[\n                                                        i,\n                                                        {\n                                                          Move: /* tuple */[\n                                                            0.0,\n                                                            0.0\n                                                          ],\n                                                          Handle: undefined\n                                                        }\n                                                      ]), true));\n                                  }),\n                                key: String(i)\n                              });\n                  })));\n}\n\nvar make = Walls;\n\nexports.AddWall = AddWall;\nexports.make = make;\n/* line Not a pure module */\n\n\n//# sourceURL=webpack:///./ui/sidebar/Walls.bs.js?");

/***/ }),

/***/ 0:
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/* (ignored) */\n\n//# sourceURL=webpack:///util_(ignored)?");

/***/ }),

/***/ 1:
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/* (ignored) */\n\n//# sourceURL=webpack:///util_(ignored)?");

/***/ })

}]);